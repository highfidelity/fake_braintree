!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),(e.braintree||(e.braintree={})).dropin=t()}}(function(){var define,module,exports;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e){"use strict";var n=t("backbone"),i=t("fastclick");t("json2-browser"),t("es5-shim/es5-shim"),t("es5-shim/es5-sham"),t("./template-helpers"),n.$=window.$,i(document.body),e.exports={InlineFrame:t("./inline-frame/inline-frame"),ModalFrame:t("./modal-frame/modal-frame")}},{"./inline-frame/inline-frame":169,"./modal-frame/modal-frame":174,"./template-helpers":184,backbone:2,"es5-shim/es5-sham":147,"es5-shim/es5-shim":148,fastclick:149,"json2-browser":159}],2:[function(t,e,n){!function(e,i){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,n,r){e.Backbone=i(e,r,t,n)});else if("undefined"!=typeof n){var r=t("underscore");i(e,n,r)}else e.Backbone=i(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(t,e,n,i){{var r=t.Backbone,o=[],a=(o.push,o.slice);o.splice}e.VERSION="1.1.2",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(t,e,n){if(!l(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,i){if(!l(this,"once",t,[e,i])||!e)return this;var r=this,o=n.once(function(){r.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,i)},off:function(t,e,i){var r,o,a,s,u,c,p,h;if(!this._events||!l(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(s=t?[t]:n.keys(this._events),u=0,c=s.length;c>u;u++)if(t=s[u],a=this._events[t]){if(this._events[t]=r=[],e||i)for(p=0,h=a.length;h>p;p++)o=a[p],(e&&e!==o.callback&&e!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&c(n,e),i&&c(i,arguments),this},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var o=!e&&!i;i||"object"!=typeof e||(i=this),t&&((r={})[t._listenId]=t);for(var a in r)t=r[a],t.off(e,i,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[a];return this}},u=/\s+/,l=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var o=n.split(u),a=0,s=o.length;s>a;a++)t[e].apply(t,[o[a]].concat(i));return!1}return!0},c=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(t,e){s[e]=function(e,i,r){var o=this._listeningTo||(this._listeningTo={}),a=e._listenId||(e._listenId=n.uniqueId("l"));return o[a]=e,r||"object"!=typeof i||(r=this),e[t](i,r,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(e,s);var h=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var r,o,a,s,u,l,c,p;if(null==t)return this;if("object"==typeof t?(o=t,i=e):(o={})[t]=e,i||(i={}),!this._validate(o,i))return!1;a=i.unset,u=i.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={}),p=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(r in o)e=o[r],n.isEqual(p[r],e)||s.push(r),n.isEqual(c[r],e)?delete this.changed[r]:this.changed[r]=e,a?delete p[r]:p[r]=e;if(!u){s.length&&(this._pending=i);for(var h=0,d=s.length;d>h;h++)this.trigger("change:"+s[h],this,p[s[h]],i)}if(l)return this;if(!u)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(r[o],e=t[o])||((i||(i={}))[o]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),void e.trigger("sync",e,n,t)):!1},F(this,t),this.sync("read",this,t)},save:function(t,e,i){var r,o,a,s=this.attributes;if(null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},s,r)),void 0===i.parse&&(i.parse=!0);var u=this,l=i.success;return i.success=function(t){u.attributes=s;var e=u.parse(t,i);return i.wait&&(e=n.extend(r||{},e)),n.isObject(e)&&!u.set(e,i)?!1:(l&&l(u,t,i),void u.trigger("sync",u,t,i))},F(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=r),a=this.sync(o,this,i),r&&i.wait&&(this.attributes=s),a},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&r(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;F(this,t);var o=this.sync("delete",this,t);return t.wait||r(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||U();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];n.each(d,function(t){h.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var f=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};n.extend(f.prototype,s,{model:h,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,v))},remove:function(t,e){var i=!n.isArray(t);t=i?[t]:n.clone(t),e||(e={});var r,o,a,s;for(r=0,o=t.length;o>r;r++)s=t[r]=this.get(t[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,e.silent||(e.index=a,s.trigger("remove",s,this,e)),this._removeReference(s,e));return i?t[0]:t},set:function(t,e){e=n.defaults({},e,m),e.parse&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:n.clone(t);var r,o,a,s,u,l,c,p=e.at,d=this.model,f=this.comparator&&null==p&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,y=[],g=[],b={},w=e.add,_=e.merge,C=e.remove,x=!f&&w&&C?[]:!1;for(r=0,o=t.length;o>r;r++){if(u=t[r]||{},a=u instanceof h?s=u:u[d.prototype.idAttribute||"id"],l=this.get(a))C&&(b[l.cid]=!0),_&&(u=u===s?s.attributes:u,e.parse&&(u=l.parse(u,e)),l.set(u,e),f&&!c&&l.hasChanged(v)&&(c=!0)),t[r]=l;else if(w){if(s=t[r]=this._prepareModel(u,e),!s)continue;y.push(s),this._addReference(s,e)}s=l||s,!x||!s.isNew()&&b[s.id]||x.push(s),b[s.id]=!0}if(C){for(r=0,o=this.length;o>r;++r)b[(s=this.models[r]).cid]||g.push(s);g.length&&this.remove(g,e)}if(y.length||x&&x.length)if(f&&(c=!0),this.length+=y.length,null!=p)for(r=0,o=y.length;o>r;r++)this.models.splice(p+r,0,y[r]);else{x&&(this.models.length=0);var k=x||y;for(r=0,o=k.length;o>r;r++)this.models.push(k[r])}if(c&&this.sort({silent:!0}),!e.silent){for(r=0,o=y.length;o>r;r++)(s=y[r]).trigger("add",s,this,e);(c||x&&x.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,r=e.success;return e.success=function(t,n){e.wait&&i.add(t,e),r&&r(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof h)return t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(y,function(t){f.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var g=["groupBy","countBy","sortBy","indexBy"];n.each(g,function(t){f.prototype[t]=function(e,i){var r=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,r,i)}});var b=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var r=e.match(w),o=r[1],a=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,i):this.$el.on(o,a,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var i=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,r){var o=x[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||U()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||r.emulateJSON||(a.processData=!1),"PATCH"===a.type&&C&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,u,r),u};var C=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,P=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,s,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);o.execute(r,a),o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace(E,"(?:$1)?").replace(S,function(t,e){return e?t:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var O=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},T=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,M=/msie [\w.]+/,j=/\/$/,N=/#.*$/;O.started=!1,n.extend(O.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(j,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(T,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");O.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=M.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(I,"/"),o&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(T,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!O.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(N,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new O;var R=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};h.extend=f.extend=k.extend=b.extend=O.extend=R;var U=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}};return e})},{underscore:3}],3:[function(t,e,n){(function(){function t(t){function e(e,n,i,r,o,a){for(;o>=0&&a>o;o+=t){var s=r?r[o]:o;i=n(i,e[s],s,e)}return i}return function(n,i,r,o){i=w(i,o,4);var a=!E(n)&&b.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(r=n[a?a[u]:u],u+=t),e(n,i,r,a,u,s)}}function i(t){return function(e,n,i){n=_(n,i);for(var r=null!=e&&e.length,o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function r(t,e){var n=T.length,i=t.constructor,r=b.isFunction(i)&&i.prototype||u,o="constructor";for(b.has(t,o)&&!b.contains(e,o)&&e.push(o);n--;)o=T[n],o in t&&t[o]!==r[o]&&!b.contains(e,o)&&e.push(o)}var o=this,a=o._,s=Array.prototype,u=Object.prototype,l=Function.prototype,c=s.push,p=s.slice,h=u.toString,d=u.hasOwnProperty,f=Array.isArray,m=Object.keys,v=l.bind,y=Object.create,g=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=b),n._=b):o._=b,b.VERSION="1.8.2";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return null==t?b.identity:b.isFunction(t)?w(t,e,n):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return _(t,e,1/0)};var C=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],a=t(o),s=a.length,u=0;s>u;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},x=function(t){if(!b.isObject(t))return{};if(y)return y(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=Math.pow(2,53)-1,E=function(t){var e=t&&t.length;return"number"==typeof e&&e>=0&&k>=e};b.each=b.forEach=function(t,e,n){e=w(e,n);var i,r;if(E(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=b.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},b.map=b.collect=function(t,e,n){e=_(e,n);for(var i=!E(t)&&b.keys(t),r=(i||t).length,o=Array(r),a=0;r>a;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,e,n){var i;return i=E(t)?b.findIndex(t,e,n):b.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},b.filter=b.select=function(t,e,n){var i=[];return e=_(e,n),b.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},b.reject=function(t,e,n){return b.filter(t,b.negate(_(e)),n)},b.every=b.all=function(t,e,n){e=_(e,n);for(var i=!E(t)&&b.keys(t),r=(i||t).length,o=0;r>o;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},b.some=b.any=function(t,e,n){e=_(e,n);for(var i=!E(t)&&b.keys(t),r=(i||t).length,o=0;r>o;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,n){return E(t)||(t=b.values(t)),b.indexOf(t,e,"number"==typeof n&&n)>=0},b.invoke=function(t,e){var n=p.call(arguments,2),i=b.isFunction(e);return b.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e&&null!=t){t=E(t)?t:b.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],i>o&&(o=i)}else e=_(e,n),b.each(t,function(t,n,i){r=e(t,n,i),(r>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},b.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e&&null!=t){t=E(t)?t:b.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],o>i&&(o=i)}else e=_(e,n),b.each(t,function(t,n,i){r=e(t,n,i),(a>r||1/0===r&&1/0===o)&&(o=t,a=r)});return o},b.shuffle=function(t){for(var e,n=E(t)?t:b.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=b.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},b.sample=function(t,e,n){return null==e||n?(E(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,n){return e=_(e,n),b.pluck(b.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,n,i){var r={};return n=_(n,i),b.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};b.groupBy=S(function(t,e,n){b.has(t,n)?t[n].push(e):t[n]=[e]}),b.indexBy=S(function(t,e,n){t[n]=e}),b.countBy=S(function(t,e,n){b.has(t,n)?t[n]++:t[n]=1}),b.toArray=function(t){return t?b.isArray(t)?p.call(t):E(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:E(t)?t.length:b.keys(t).length},b.partition=function(t,e,n){e=_(e,n);var i=[],r=[];return b.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},b.first=b.head=b.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,n){return p.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},b.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,n){return p.call(t,null==e||n?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var P=function(t,e,n,i){for(var r=[],o=0,a=i||0,s=t&&t.length;s>a;a++){var u=t[a];if(E(u)&&(b.isArray(u)||b.isArguments(u))){e||(u=P(u,e,n));var l=0,c=u.length;for(r.length+=c;c>l;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};b.flatten=function(t,e){return P(t,e,!1)},b.without=function(t){return b.difference(t,p.call(arguments,1))},b.uniq=b.unique=function(t,e,n,i){if(null==t)return[];b.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=_(n,i));for(var r=[],o=[],a=0,s=t.length;s>a;a++){var u=t[a],l=n?n(u,a,t):u;e?(a&&o===l||r.push(u),o=l):n?b.contains(o,l)||(o.push(l),r.push(u)):b.contains(r,u)||r.push(u)}return r},b.union=function(){return b.uniq(P(arguments,!0,!0))},b.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,i=0,r=t.length;r>i;i++){var o=t[i];if(!b.contains(e,o)){for(var a=1;n>a&&b.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},b.difference=function(t){var e=P(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,"length").length||0,n=Array(e),i=0;e>i;i++)n[i]=b.pluck(t,i);return n},b.object=function(t,e){for(var n={},i=0,r=t&&t.length;r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},b.indexOf=function(t,e,n){var i=0,r=t&&t.length;if("number"==typeof n)i=0>n?Math.max(0,r+n):n;else if(n&&r)return i=b.sortedIndex(t,e),t[i]===e?i:-1;if(e!==e)return b.findIndex(p.call(t,i),b.isNaN);for(;r>i;i++)if(t[i]===e)return i;return-1},b.lastIndexOf=function(t,e,n){var i=t?t.length:0;if("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1)),e!==e)return b.findLastIndex(p.call(t,0,i),b.isNaN);for(;--i>=0;)if(t[i]===e)return i;return-1},b.findIndex=i(1),b.findLastIndex=i(-1),b.sortedIndex=function(t,e,n,i){n=_(n,i,1);for(var r=n(e),o=0,a=t.length;a>o;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o},b.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var A=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),a=t.apply(o,r);return b.isObject(a)?a:o};b.bind=function(t,e){if(v&&t.bind===v)return v.apply(t,p.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var n=p.call(arguments,2),i=function(){return A(t,i,e,this,n.concat(p.call(arguments)))};return i},b.partial=function(t){var e=p.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;r>a;a++)o[a]=e[a]===b?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return A(t,n,this,this,o)};return n},b.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=b.bind(t[n],t);return t},b.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return b.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},b.delay=function(t,e){var n=p.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:b.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var l=b.now();s||n.leading!==!1||(s=l);var c=e-(l-s);return i=this,r=arguments,0>=c||c>e?(a&&(clearTimeout(a),a=null),s=l,o=t.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},b.debounce=function(t,e,n){var i,r,o,a,s,u=function(){var l=b.now()-a;e>l&&l>=0?i=setTimeout(u,e-l):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=b.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(s=t.apply(o,r),o=r=null),s}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},b.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},b.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},b.once=b.partial(b.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),T=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(m)return m(t);var e=[];for(var n in t)b.has(t,n)&&e.push(n);return O&&r(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var n in t)e.push(n);return O&&r(t,e),e},b.values=function(t){for(var e=b.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},b.mapObject=function(t,e,n){e=_(e,n);for(var i,r=b.keys(t),o=r.length,a={},s=0;o>s;s++)i=r[s],a[i]=e(t[i],i,t);return a},b.pairs=function(t){for(var e=b.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},b.invert=function(t){for(var e={},n=b.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},b.functions=b.methods=function(t){var e=[];for(var n in t)b.isFunction(t[n])&&e.push(n);return e.sort()},b.extend=C(b.allKeys),b.extendOwn=b.assign=C(b.keys),b.findKey=function(t,e,n){e=_(e,n);for(var i,r=b.keys(t),o=0,a=r.length;a>o;o++)if(i=r[o],e(t[i],i,t))return i},b.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;b.isFunction(e)?(r=b.allKeys(a),i=w(e,n)):(r=P(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=r.length;u>s;s++){var l=r[s],c=a[l];i(c,l,a)&&(o[l]=c)}return o},b.omit=function(t,e,n){if(b.isFunction(e))e=b.negate(e);else{var i=b.map(P(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(i,e)}}return b.pick(t,e,n)},b.defaults=C(b.allKeys,!0),b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var n=b.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var I=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof b&&(t=t._wrapped),e instanceof b&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;
case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!I(t[u],e[u],n,i))return!1}else{var l,c=b.keys(t);if(u=c.length,b.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!b.has(e,l)||!I(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};b.isEqual=function(t,e){return I(t,e)},b.isEmpty=function(t){return null==t?!0:E(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=f||function(t){return"[object Array]"===h.call(t)},b.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&d.call(t,e)},b.noConflict=function(){return o._=a,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=function(t){return function(e){return null==e?void 0:e[t]}},b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,n){var i=Array(Math.max(0,t));e=w(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=b.invert(M),N=function(t){var e=function(e){return t[e]},n="(?:"+b.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};b.escape=N(M),b.unescape=N(j),b.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),b.isFunction(i)?i.call(t):i};var R=0;b.uniqueId=function(t){var e=++R+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,D=function(t){return"\\"+F[t]};b.template=function(t,e,n){!e&&n&&(e=n),e=b.defaults({},e,b.templateSettings);var i=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(L,D),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(t){return a.call(this,t,b)},l=e.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},b.chain=function(t){var e=b(t);return e._chain=!0,e};var V=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var n=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),V(this,n.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];b.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],V(this,n)}}),b.each(["concat","join","slice"],function(t){var e=s[t];b.prototype[t]=function(){return V(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],4:[function(t,e){(function(n){"use strict";function i(t,e){return t.status>=400?[t,null]:[null,e(t)]}function r(t){var e;this.attrs={},t.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=t.sharedCustomerIdentifier),e=l(t.clientToken),this.driver=t.driver||c,this.authUrl=e.authUrl,this.analyticsUrl=e.analytics?e.analytics.url:void 0,this.clientApiUrl=e.clientApiUrl,this.customerId=t.customerId,this.challenges=e.challenges,this.integration=t.integration||"";var n=u.create(this,{container:t.container,clientToken:e});this.verify3DS=s.bind(n.verify,n),this.attrs.authorizationFingerprint=e.authorizationFingerprint,this.attrs.sharedCustomerIdentifierType=t.sharedCustomerIdentifierType,e.merchantAccountId&&(this.attrs.merchantAccountId=e.merchantAccountId),this.timeoutWatchers=[],this.requestTimeout=t.hasOwnProperty("timeout")?t.timeout:6e4}function o(){}function a(t,e){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}var s=t("braintree-utilities"),u=t("braintree-3ds"),l=t("./parse-client-token"),c=t("./jsonp-driver"),p=t("./util"),h=t("./sepa-mandate"),d=t("./sepa-bank-account"),f=t("./credit-card"),m=t("./coinbase-account"),v=t("./root-data"),y=t("./normalize-api-fields").normalizeCreditCardFields;r.prototype.requestWithTimeout=function(t,e,n,r,a){a=a||o;var s,u,l=this;v.get(function(o){u="braintree/web/"+o.sdkVersion,e.braintreeLibraryVersion=u,e.hasOwnProperty("analytics")&&e.hasOwnProperty("_meta")&&(e._meta.sdkVersion=u,e._meta.merchantAppId=o.merchantAppId),s=r(t,e,function(t,e){if(l.timeoutWatchers[e]){clearTimeout(l.timeoutWatchers[e]);var r=i(t,function(t){return n(t)});a.apply(null,r)}}),l.requestTimeout>0?this.timeoutWatchers[s]=setTimeout(function(){l.timeoutWatchers[s]=null,a.apply(null,[{errors:"Unknown error"},null])},l.requestTimeout):a.apply(null,[{errors:"Unknown error"},null])},this)},r.prototype.post=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.post,i)},r.prototype.get=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.get,i)},r.prototype.put=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.put,i)},r.prototype.getCreditCards=function(t){this.get(p.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(t){var e=0,n=t.paymentMethods.length,i=[];for(e;n>e;e++)i.push(new f(t.paymentMethods[e]));return i},t)},r.prototype.tokenizeCoinbase=function(t,e){t.options={validate:!1},this.addCoinbase(t,function(t,n){t?e(t,null):n&&n.nonce?e(t,n):e("Unable to tokenize coinbase account.",null)})},r.prototype.tokenizeCard=function(t,e){t.options={validate:!1},this.addCreditCard(t,function(t,n){n&&n.nonce?e(t,n.nonce,{type:n.type}):e("Unable to tokenize card.",null)})},r.prototype.lookup3DS=function(t,e){var n=p.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",t.nonce,"three_d_secure/lookup"]),i=a(this.attrs,{amount:t.amount});this.post(n,i,function(t){return t},e)},r.prototype.addSEPAMandate=function(t,e){var n=a(this.attrs,{sepaMandate:t});this.post(p.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),n,function(t){return new h(t.sepaMandates[0])},e)},r.prototype.acceptSEPAMandate=function(t,e){this.put(p.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",t,"accept"]),this.attrs,function(t){return new d(t.sepaBankAccounts[0])},e)},r.prototype.getSEPAMandate=function(t,e){var n;n=t.paymentMethodToken?a(this.attrs,{paymentMethodToken:t.paymentMethodToken}):this.attrs,this.get(p.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",t.mandateReferenceNumber||""]),n,function(t){return new h(t.sepaMandates[0])},e)},r.prototype.addCoinbase=function(t,e){var n;delete t.share,n=a(this.attrs,{coinbaseAccount:t,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.post(p.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),n,function(t){return new m(t.coinbaseAccounts[0])},e)},r.prototype.addCreditCard=function(t,e){var n,i=t.share;delete t.share;var r=y(t);n=a(this.attrs,{share:i,creditCard:r,_meta:{integration:this.integration||"custom",source:"form"}}),this.post(p.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),n,function(t){return new f(t.creditCards[0])},e)},r.prototype.unlockCreditCard=function(t,e,n){var i=a(this.attrs,{challengeResponses:e});this.put(p.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/",t.nonce]),i,function(t){return new f(t.paymentMethods[0])},n)},r.prototype.sendAnalyticsEvents=function(t,e){var i,r=this.analyticsUrl,o=[];if(t=p.isArray(t)?t:[t],!r)return void(e&&e.apply(null,[null,{}]));for(var s in t)t.hasOwnProperty(s)&&o.push({kind:t[s]});i=a(this.attrs,{analytics:o,_meta:{platform:"web",platformVersion:n.navigator.userAgent,integrationType:this.integration}}),this.post(r,i,function(t){return t},e)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coinbase-account":5,"./credit-card":6,"./jsonp-driver":7,"./normalize-api-fields":9,"./parse-client-token":10,"./root-data":12,"./sepa-bank-account":13,"./sepa-mandate":14,"./util":15,"braintree-3ds":24,"braintree-utilities":43}],5:[function(t,e){"use strict";function n(t){for(var e=0;e<i.length;e++){var n=i[e];this[n]=t[n]}}var i=["nonce","type","description","details"];e.exports=n},{}],6:[function(t,e){"use strict";function n(t){for(var e=0;e<i.length;e++){var n=i[e];this[n]=t[n]}}var i=["billingAddress","branding","createdAt","createdAtMerchant","createdAtMerchantName","details","isLocked","lastUsedAt","lastUsedAtMerchant","lastUsedAtMerchantName","lastUsedByCurrentMerchant","nonce","securityQuestions","type"];e.exports=n},{}],7:[function(t,e){"use strict";function n(t,e,n){return o.get(t,e,n)}function i(t,e,n){return e._method="POST",o.get(t,e,n)}function r(t,e,n){return e._method="PUT",o.get(t,e,n)}var o=t("./jsonp");e.exports={get:n,post:i,put:r}},{"./jsonp":8}],8:[function(t,e){(function(n){"use strict";function i(t,e){var n=document.createElement("script"),i=!1;n.src=t,n.async=!0;var r=e||c.error;"function"==typeof r&&(n.onerror=function(e){r({url:t,event:e})}),n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,n.onload=n.onreadystatechange=null,n&&n.parentNode&&n.parentNode.removeChild(n))},s||(s=document.getElementsByTagName("head")[0]),s.appendChild(n)}function r(t,e){var n,i,o,a=[];for(var o in t)t.hasOwnProperty(o)&&(i=t[o],n=e?u.isArray(t)?e+"[]":e+"["+o+"]":o,a.push("object"==typeof i?r(i,n):encodeURIComponent(n)+"="+encodeURIComponent(i)));return a.join("&")}function o(t,e,n,o){var a=-1===(t||"").indexOf("?")?"?":"&";o=o||c.callbackName||"callback";var s=o+"_json"+u.generateUUID();return a+=r(e),l[s]=function(t){n(t,s);try{delete l[s]}catch(e){}l[s]=null},i(t+a+"&"+o+"="+s),s}function a(t){c=t}var s,u=t("./util"),l=n,c={};e.exports={get:o,init:a,stringify:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":15}],9:[function(t,e){"use strict";function n(t){var e={billingAddress:t.billingAddress||{}};for(var n in t)if(t.hasOwnProperty(n))switch(n.replace(/_/,"").toLowerCase()){case"postalcode":case"countryname":case"countrycodenumeric":case"countrycodealpha2":case"countrycodealpha3":case"region":case"extendedaddress":case"locality":case"firstname":case"lastname":case"company":case"streetaddress":e.billingAddress[n]=t[n];break;default:e[n]=t[n]}return e}e.exports={normalizeCreditCardFields:n}},{}],10:[function(t,e){"use strict";function n(t){var e;if(!t)throw new Error("Braintree API Client Misconfigured: clientToken required.");if("object"==typeof t&&null!==t)e=t;else{try{t=window.atob(t)}catch(n){}try{e=JSON.parse(t)}catch(i){throw new Error("Braintree API Client Misconfigured: clientToken is invalid.")}}if(!e.hasOwnProperty("authUrl")||!e.hasOwnProperty("clientApiUrl"))throw new Error("Braintree API Client Misconfigured: clientToken is invalid.");return e}t("./polyfill"),e.exports=n},{"./polyfill":11}],11:[function(){(function(t){"use strict";t.atob=t.atob||function(t){var e=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(!e.test(t))throw new Error("Braintree API Client Misconfigured: clientToken is invalid.");var r=0;do{var o=n.indexOf(t.charAt(r++)),a=n.indexOf(t.charAt(r++)),s=n.indexOf(t.charAt(r++)),u=n.indexOf(t.charAt(r++)),l=(63&o)<<2|a>>4&3,c=(15&a)<<4|s>>2&15,p=(3&s)<<6|63&u;i+=String.fromCharCode(l)+(c?String.fromCharCode(c):"")+(p?String.fromCharCode(p):"")}while(r<t.length);return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(t,e){(function(n){"use strict";function i(){var t=n.braintree;return t&&t.hasOwnProperty("VERSION")?t.VERSION:void 0}function r(t,e){null==a?(h.push({callback:t,context:e}),p===!1&&(s=setTimeout(function(){o(d)},200),c.invoke("getExternalData",[],o),p=!0)):t.call(e,a)}function o(t){clearTimeout(s),a={sdkVersion:t.sdkVersion,merchantAppId:t.merchantAppId};for(var e=0;e<h.length;e++){var n=h[e];n.callback.call(n.context,a)}h=[]}var a,s,u=t("braintree-rpc"),l=new u.MessageBus(window),c=new u.RPCClient(l,window.parent),p=!1,h=[],d={sdkVersion:i(),merchantAppId:n.location.href};e.exports={get:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"braintree-rpc":32}],13:[function(t,e){"use strict";function n(t){for(var e=0;e<i.length;e++){var n=i[e];this[n]=t[n]}}var i=["bic","maskedIBAN","nonce","accountHolderName"];e.exports=n},{}],14:[function(t,e){"use strict";function n(t){for(var e=0;e<i.length;e++){var n=i[e];this[n]=t[n]}}var i=["accountHolderName","bic","longFormURL","mandateReferenceNumber","maskedIBAN","shortForm"];e.exports=n},{}],15:[function(t,e){"use strict";function n(t){var e,n,i=[];for(n=0;n<t.length;n++)e=t[n],"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),"/"===e.charAt(0)&&(e=e.substring(1)),i.push(e);return i.join("/")}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&"[object Array]"===Object.prototype.toString.call(t)||!1}function r(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.floor(16*Math.random()),n="x"===t?e:3&e|8;return n.toString(16)})}e.exports={joinUrlFragments:n,isArray:i,generateUUID:r}},{}],16:[function(t,e){"use strict";function n(t){return new i(t)}var i=t("./lib/client"),r=t("./lib/jsonp"),o=t("./lib/jsonp-driver"),a=t("./lib/util"),s=t("./lib/parse-client-token");e.exports={Client:i,configure:n,util:a,JSONP:r,JSONPDriver:o,parseClientToken:s}},{"./lib/client":4,"./lib/jsonp":8,"./lib/jsonp-driver":7,"./lib/parse-client-token":10,"./lib/util":15}],17:[function(t,e){"use strict";function n(t,e){if(e=e||"["+t+"] is not a valid DOM Element",t&&t.nodeType&&1===t.nodeType)return t;if(t&&window.jQuery&&(t instanceof jQuery||"jquery"in Object(t))&&0!==t.length)return t[0];if("string"==typeof t&&document.getElementById(t))return document.getElementById(t);throw new Error(e)}e.exports={normalizeElement:n}},{}],18:[function(t,e){"use strict";function n(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n)}e.exports={addEventListener:n,removeEventListener:i}},{}],19:[function(t,e){"use strict";function n(t){return"[object Function]"===r.call(t)}function i(t,e){return function(){t.apply(e,arguments)}}var r=Object.prototype.toString;e.exports={bind:i,isFunction:n}},{}],20:[function(t,e){"use strict";function n(){return"https:"===window.location.protocol}function i(t){switch(t){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(t)}}function r(t,e){var n,o,a=[];for(o in t)if(t.hasOwnProperty(o)){var s=t[o];n=e?e+"["+o+"]":o,"object"==typeof s?a.push(r(s,n)):void 0!==s&&null!==s&&a.push(i(n)+"="+i(s))}return a.join("&")}function o(t){for(var e={},n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("="),o=r[0],a=decodeURIComponent(r[1]);e[o]=a}return e}function a(t){var e=t.split("?");return 2!==e.length?{}:o(e[1])}e.exports={isBrowserHttps:n,makeQueryString:r,decodeQueryString:o,getParams:a}},{}],21:[function(t,e){var n=t("./lib/dom"),i=t("./lib/url"),r=t("./lib/fn"),o=t("./lib/events");e.exports={normalizeElement:n.normalizeElement,isBrowserHttps:i.isBrowserHttps,makeQueryString:i.makeQueryString,decodeQueryString:i.decodeQueryString,getParams:i.getParams,removeEventListener:o.removeEventListener,addEventListener:o.addEventListener,bind:r.bind,isFunction:r.isFunction}},{"./lib/dom":17,"./lib/events":18,"./lib/fn":19,"./lib/url":20}],22:[function(t,e){"use strict";function n(t,e){var n=window.getComputedStyle?getComputedStyle(t):t.currentStyle;return n[e]}function i(){return{html:{height:o.style.height||"",overflow:n(o,"overflow"),position:n(o,"position")},body:{height:a.style.height||"",overflow:n(a,"overflow")}}}function r(t,e){this.assetsUrl=t,this.container=e||document.body,this.iframe=null,o=document.documentElement,a=document.body,this.merchantPageDefaultStyles=i()}var o,a,s=t("braintree-utilities"),u=t("../shared/receiver"),l="1.1.0";r.prototype.get=function(t,e){var n=this,i=this.constructAuthorizationURL(t);this.container&&s.isFunction(this.container)?this.container(i+"&no_style=1"):this.insertIframe(i),new u(function(t){s.isFunction(n.container)||n.removeIframe(),e(t)})},r.prototype.removeIframe=function(){this.container&&this.container.nodeType&&1===this.container.nodeType?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():"string"==typeof this.container&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},r.prototype.insertIframe=function(t){var e=document.createElement("iframe");if(e.src=t,this.applyStyles(e),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&1===this.container.nodeType)this.container.appendChild(e);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&0!==this.container.length)this.container.append(e);else{if("string"!=typeof this.container||!document.getElementById(this.container))throw new Error("Unable to find valid container for iframe.");document.getElementById(this.container).appendChild(e)}this.iframe=e},r.prototype.applyStyles=function(t){t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.setAttribute("frameborder","0"),t.setAttribute("allowTransparency","true"),t.style.border="0",t.style.zIndex="99999"},r.prototype.lockMerchantWindowSize=function(){o.style.overflow="hidden",a.style.overflow="hidden",a.style.height="100%"},r.prototype.unlockMerchantWindowSize=function(){var t=this.merchantPageDefaultStyles;a.style.height=t.body.height,a.style.overflow=t.body.overflow,o.style.overflow=t.html.overflow},r.prototype.constructAuthorizationURL=function(t){var e,n=window.location.href;return n.indexOf("#")>-1&&(n=n.split("#")[0]),e=s.makeQueryString({acsUrl:t.acsUrl,pareq:t.pareq,termUrl:t.termUrl+"&three_d_secure_version="+l,md:t.md,parentUrl:n}),this.assetsUrl+"/3ds/"+l+"/html/style_frame?"+e},e.exports=r},{"../shared/receiver":26,"braintree-utilities":21}],23:[function(t,e){"use strict";function n(t,e){e=e||{},this.clientToken=e.clientToken,this.container=e.container,this.api=t,this.nonce=null}var i=t("braintree-utilities"),r=t("./authorization_service");n.prototype.verify=function(t,e){if(!i.isFunction(e))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),new Error("No suitable callback argument was given");var n={nonce:"",amount:t.amount},r=t.creditCard;if("string"==typeof r)n.nonce=r,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(n,e);else{var o=this,a=function(t,i){return t?e(t):(n.nonce=i,void o.startVerification(n,e))};this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(r,a)}},n.prototype.startVerification=function(t,e){this.api.lookup3DS(t,i.bind(this.handleLookupResponse(e),this))},n.prototype.handleLookupResponse=function(t){var e=this;return function(n,o){var a;n?t(n.error):o.lookup&&o.lookup.acsUrl&&o.lookup.acsUrl.length>0?(e.nonce=o.paymentMethod.nonce,a=new r(this.clientToken.assetsUrl,this.container),a.get(o.lookup,i.bind(this.handleAuthenticationResponse(t),this))):(e.nonce=o.paymentMethod.nonce,t(null,{nonce:e.nonce,verificationDetails:o.threeDSecureInfo}))}},n.prototype.handleAuthenticationResponse=function(t){return function(e){var n,r=i.decodeQueryString(e);r.user_closed||(n=JSON.parse(r.auth_response),n.success?t(null,{nonce:n.paymentMethod.nonce,verificationDetails:n.threeDSecureInfo}):n.threeDSecureInfo&&n.threeDSecureInfo.liabilityShiftPossible?t(null,{nonce:this.nonce,verificationDetails:n.threeDSecureInfo}):t(n.error))}},e.exports=n},{"./authorization_service":22,"braintree-utilities":21}],24:[function(t,e){"use strict";var n=t("./client");t("./vendor/json2"),e.exports={create:function(t,e){var i=new n(t,e);return i}}},{"./client":23,"./vendor/json2":25}],25:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,o,a,s=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;o>n;n+=1)a[n]=str(n,u)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,u),r&&a.push(quote(i)+(gap?": ":":")+r));else for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r=str(i,u),r&&a.push(quote(i)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],26:[function(t,e){"use strict";function n(t){this.postMessageReceiver(t),this.hashChangeReceiver(t)}var i=t("braintree-utilities");n.prototype.postMessageReceiver=function(t){var e=this;this.wrappedCallback=function(n){t(n.data),e.stopListening()},i.addEventListener(window,"message",this.wrappedCallback)},n.prototype.hashChangeReceiver=function(t){var e,n=window.location.hash,i=this;this.poll=setInterval(function(){e=window.location.hash,e.length>0&&e!==n&&(i.stopListening(),e=e.substring(1,e.length),t(e),window.location.hash=n.length>0?n:"")},10)},n.prototype.stopListening=function(){clearTimeout(this.poll),i.removeEventListener(window,"message",this.wrappedCallback)},e.exports=n},{"braintree-utilities":21}],27:[function(t,e){"use strict";function n(t){this.host=t||window,this.handlers=[],i.addEventListener(this.host,"message",i.bind(this.receive,this))}var i=t("braintree-utilities");n.prototype.receive=function(t){var e,i,r,o;try{r=JSON.parse(t.data)}catch(a){return}for(o=r.type,i=new n.Message(this,t.source,r.data),e=0;e<this.handlers.length;e++)this.handlers[e].type===o&&this.handlers[e].handler(i)},n.prototype.send=function(t,e,n){t.postMessage(JSON.stringify({type:e,data:n}),"*")},n.prototype.register=function(t,e){this.handlers.push({type:t,handler:e})},n.prototype.unregister=function(t,e){for(var n=this.handlers.length-1;n>=0;n--)if(this.handlers[n].type===t&&this.handlers[n].handler===e)return this.handlers.splice(n,1)},n.Message=function(t,e,n){this.bus=t,this.source=e,this.content=n},n.Message.prototype.reply=function(t,e){this.bus.send(this.source,t,e)},e.exports=n},{"braintree-utilities":37}],28:[function(t,e){"use strict";function n(t,e){this.bus=t,this.target=e,this.handlers=[],this.bus.register("publish",i.bind(this._handleMessage,this))}var i=t("braintree-utilities");n.prototype._handleMessage=function(t){var e,n=t.content,i=this.handlers[n.channel];if("undefined"!=typeof i)for(e=0;e<i.length;e++)i[e](n.data)},n.prototype.publish=function(t,e){this.bus.send(this.target,"publish",{channel:t,data:e})},n.prototype.subscribe=function(t,e){this.handlers[t]=this.handlers[t]||[],this.handlers[t].push(e)},n.prototype.unsubscribe=function(t,e){var n,i=this.handlers[t];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n]===e&&i.splice(n,1)},e.exports=n},{"braintree-utilities":37}],29:[function(t,e){"use strict";function n(t){this.bus=t,this.frames=[],this.handlers=[]}n.prototype.subscribe=function(t,e){this.handlers[t]=this.handlers[t]||[],this.handlers[t].push(e)},n.prototype.registerFrame=function(t){this.frames.push(t)},n.prototype.unregisterFrame=function(t){for(var e=0;e<this.frames.length;e++)this.frames[e]===t&&this.frames.splice(e,1)},n.prototype.publish=function(t,e){var n,i=this.handlers[t];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n](e);for(n=0;n<this.frames.length;n++)this.bus.send(this.frames[n],"publish",{channel:t,data:e})},n.prototype.unsubscribe=function(t,e){var n,i=this.handlers[t];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n]===e&&i.splice(n,1)},e.exports=n},{}],30:[function(t,e){"use strict";function n(t,e){this.bus=t,this.target=e||window.parent,this.counter=0,this.callbacks={},this.bus.register("rpc_response",i.bind(this._handleResponse,this))}var i=t("braintree-utilities");n.prototype._handleResponse=function(t){var e=t.content,n=this.callbacks[e.id];"function"==typeof n&&(n.apply(null,e.response),delete this.callbacks[e.id])},n.prototype.invoke=function(t,e,n){var i=this.counter++;this.callbacks[i]=n,this.bus.send(this.target,"rpc_request",{id:i,method:t,args:e})},e.exports=n},{"braintree-utilities":37}],31:[function(t,e){"use strict";function n(t){this.bus=t,this.methods={},this.bus.register("rpc_request",i.bind(this._handleRequest,this))}var i=t("braintree-utilities");n.prototype._handleRequest=function(t){var e,n=t.content,i=n.args||[],r=this.methods[n.method];"function"==typeof r&&(e=function(){t.reply("rpc_response",{id:n.id,response:Array.prototype.slice.call(arguments)})},i.push(e),r.apply(null,i))},n.prototype.define=function(t,e){this.methods[t]=e},e.exports=n},{"braintree-utilities":37}],32:[function(t,e){var n=t("./lib/message-bus"),i=t("./lib/pubsub-client"),r=t("./lib/pubsub-server"),o=t("./lib/rpc-client"),a=t("./lib/rpc-server");e.exports={MessageBus:n,PubsubClient:i,PubsubServer:r,RPCClient:o,RPCServer:a}},{"./lib/message-bus":27,"./lib/pubsub-client":28,"./lib/pubsub-server":29,"./lib/rpc-client":30,"./lib/rpc-server":31}],33:[function(t,e){"use strict";function n(t,e){if(e=e||"["+t+"] is not a valid DOM Element",t&&t.nodeType&&1===t.nodeType)return t;if(t&&window.jQuery&&t instanceof jQuery&&0!==t.length)return t[0];if("string"==typeof t&&document.getElementById(t))return document.getElementById(t);throw new Error(e)}e.exports={normalizeElement:n}},{}],34:[function(t,e){"use strict";function n(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}e.exports={removeEventListener:i,addEventListener:n}},{}],35:[function(t,e){"use strict";function n(t){return"[object Function]"===Object.prototype.toString.call(t)}function i(t,e){return function(){t.apply(e,arguments)}}e.exports={bind:i,isFunction:n}},{}],36:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],37:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{"./lib/dom":33,"./lib/events":34,"./lib/fn":35,"./lib/url":36,dup:21}],38:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],39:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],40:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],41:[function(t,e){"use strict";function n(t){var e,n,i,r,o=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];for(r=o.length,t=t||window.innerWidth,n=0;r>n;n++)i=o[n],t>=i.min&&t<=i.max&&(e=i.chars);return e||60}function i(t,e){var n,i;return-1===t.indexOf("@")?t:(t=t.split("@"),n=t[0],i=t[1],n.length>e&&(n=n.slice(0,e)+"..."),i.length>e&&(i="..."+i.slice(-e)),n+"@"+i)}e.exports={truncateEmail:i,getMaxCharLength:n}},{}],42:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],43:[function(t,e){var n=t("./lib/dom"),i=t("./lib/url"),r=t("./lib/fn"),o=t("./lib/events"),a=t("./lib/string");e.exports={string:a,normalizeElement:n.normalizeElement,isBrowserHttps:i.isBrowserHttps,makeQueryString:i.makeQueryString,decodeQueryString:i.decodeQueryString,getParams:i.getParams,removeEventListener:o.removeEventListener,addEventListener:o.addEventListener,bind:r.bind,isFunction:r.isFunction}},{"./lib/dom":38,"./lib/events":39,"./lib/fn":40,"./lib/string":41,"./lib/url":42}],44:[function(t,e){"use strict";function n(t,e){u.emit(u.events.ERROR,{type:e,message:t})}function i(){var t=s.isIE();return t&&8===t.version
}function r(t){if(null==t.apiClient)return n("settings.apiClient is required for coinbase",l),!1;if(!t.configuration.coinbaseEnabled)return n("Coinbase is not enabled for your merchant account",l),!1;var e=t.coinbase;return e&&(e.container||e.button)?e.container&&e.button?(n("options.coinbase.container and options.coinbase.button are mutually exclusive",l),!1):(i()&&n("Coinbase is not supported by your browser. Please consider upgrading","UNSUPPORTED_BROWSER"),!0):(n("Either options.coinbase.container or options.coinbase.button is required for coinbase integrations",l),!1)}function o(t){return r(t)?new a(t):void 0}var a=t("./lib/coinbase"),s=t("./lib/browser"),u=t("braintree-bus"),l="CONFIGURATION";e.exports={create:o}},{"./lib/browser":45,"./lib/coinbase":47,"braintree-bus":55}],45:[function(t,e){(function(t){"use strict";function n(){var t=null,e="";try{new ActiveXObject("")}catch(n){e=n.name}try{t=!!new ActiveXObject("htmlfile")}catch(n){t=!1}return t="ReferenceError"!==e&&t===!1?!1:!0,!t}function i(){var e={version:null};return/Trident/.test(t.navigator.userAgent)&&(e.version=11),/MSIE 10/.test(t.navigator.userAgent)&&(e.version=10),/MSIE 9/.test(t.navigator.userAgent)&&(e.version=9),/MSIE 8/.test(t.navigator.userAgent)&&(e.version=8),e}function r(){return/MSIE|Trident/.test(t.navigator.userAgent)?i():null}e.exports={isMetroBrowser:n,isIE:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(t,e){"use strict";function n(t,e,n){return t?(i.emit(i.events.ERROR,t.error),void n.sendAnalyticsEvents("coinbase.web.error")):(i.emit(i.events.PAYMENT_METHOD_GENERATED,e),void n.sendAnalyticsEvents("coinbase.web.success"))}var i=t("braintree-bus");e.exports={tokenize:n}},{"braintree-bus":55}],47:[function(t,e){(function(n){"use strict";function i(){}function r(t){return{clientId:t.configuration.coinbase.clientId,redirectUrl:t.configuration.coinbase.redirectUrl,scopes:t.configuration.coinbase.scopes||c.SCOPES,meta:{authorizations_merchant_account:t.configuration.coinbase.merchantAccount||""}}}function o(t){var e;this.buttonId=t.coinbase.button||c.BUTTON_ID,this.apiClient=t.apiClient,this.assetsUrl=t.configuration.assetsUrl,this._onOAuthSuccess=a.bind(this._onOAuthSuccess,this),this._handleButtonClick=a.bind(this._handleButtonClick,this),this.popupParams=r(t),this.redirectDoneInterval=null,e=document.body,n.braintreeCoinbaseRedirectCallback=this._onOAuthSuccess,t.coinbase.container?(e=a.normalizeElement(t.coinbase.container),this._insertFrame(e)):a.addEventListener(e,"click",this._handleButtonClick),this._sendAnalyticsEvents("coinbase.web.initialized")}var a=t("braintree-utilities"),s=t("./dom/composer"),u=t("./url-composer"),l=t("./callbacks"),c=t("./constants"),p=t("braintree-bus"),h=t("./detector");o.prototype._sendAnalyticsEvents=function(t){this.apiClient.sendAnalyticsEvents(t)},o.prototype._insertFrame=function(t){var e=s.createFrame({src:this.assetsUrl+"/coinbase/"+c.VERSION+"/coinbase-frame.html"});t.appendChild(e)},o.prototype._onOAuthSuccess=function(t){t.code&&(p.emit("coinbase:view:navigate","loading"),this._clearPollForRedirectDone(),this.apiClient.tokenizeCoinbase({code:t.code,query:u.getQueryString()},a.bind(function(t,e){l.tokenize.apply(null,[t,e,this.apiClient])},this)))},o.prototype._clearPollForRedirectDone=function(){this.redirectDoneInterval&&(clearInterval(this.redirectDoneInterval),this.redirectDoneInterval=null)},o.prototype._pollForRedirectDone=function(t){this.redirectDoneInterval=setInterval(a.bind(function(){var e;if(null==t||t.closed)return void this._clearPollForRedirectDone();try{e=a.decodeQueryString(t.location.search.replace(/^\?/,"")).code}catch(n){return}e&&(this._onOAuthSuccess({code:e}),t.close())},this),100)},o.prototype._openPopup=function(){var t;this._sendAnalyticsEvents("coinbase.web.start.popup"),t=s.createPopup(u.compose(this.popupParams)),n.popup=t,t.focus(),h.shouldPoll()&&(this._pollForRedirectDone(t),n.braintreeCoinbaseRedirectCallback=i)},o.prototype._handleButtonClick=function(t){for(var e=t.target||t.srcElement;;){if(null==e)return;if(e===t.currentTarget)return;if(e.id===this.buttonId)break;e=e.parentNode}t&&t.preventDefault?t.preventDefault():t.returnValue=!1,this._openPopup()},e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callbacks":46,"./constants":48,"./detector":49,"./dom/composer":51,"./url-composer":54,"braintree-bus":55,"braintree-utilities":63}],48:[function(t,e){"use strict";e.exports={BASE_URL:"https://coinbase.com",ORIGIN_URL:"https://www.coinbase.com",FRAME_NAME:"braintree-coinbase-frame",POPUP_NAME:"coinbase",BUTTON_ID:"bt-coinbase-button",SCOPES:"send",VERSION:"0.0.3"}},{}],49:[function(t,e){"use strict";function n(){var t=r.isIE();return t&&t.version>9}function i(){return r.isIE()&&r.isMetroBrowser()}var r=t("./browser");e.exports={shouldPoll:n,shouldCloseFromParent:i}},{"./browser":45}],50:[function(t,e){"use strict";function n(t){var e=document.createElement("button");return t=t||{},e.id=t.id||"coinbase-button",e.style.backgroundColor=t.backgroundColor||"#EEE",e.style.color=t.color||"#4597C3",e.style.border=t.border||"0",e.style.borderRadius=t.borderRadius||"6px",e.style.padding=t.padding||"12px",e.innerHTML=t.innerHTML||"coinbase",e}e.exports={create:n}},{}],51:[function(t,e){"use strict";var n=t("./popup"),i=t("./button"),r=t("./frame");e.exports={createButton:i.create,createPopup:n.create,createFrame:r.create}},{"./button":50,"./frame":52,"./popup":53}],52:[function(t,e){"use strict";function n(t){var e=document.createElement("iframe");return e.src=t.src,e.id=i.FRAME_NAME,e.name=i.FRAME_NAME,e.allowTransparency=!0,e.height="70px",e.width="100%",e.frameBorder=0,e.style.padding=0,e.style.margin=0,e.style.border=0,e.style.outline="none",e}var i=t("../constants");e.exports={create:n}},{"../constants":48}],53:[function(t,e){(function(n){"use strict";function i(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push([n,t[n]].join("="));return e.join(",")}function r(){var t=850,e=600;return i({width:t,height:e,left:(screen.width-t)/2,top:(screen.height-e)/4})}function o(t){return n.open(t,a.POPUP_NAME,r())}var a=t("../constants");e.exports={create:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":48}],54:[function(t,e){"use strict";function n(){return"version="+r.VERSION}function i(t){var e=r.BASE_URL+"/oauth/authorize?response_type=code",i=t.redirectUrl+"?"+n();if(e+="&redirect_uri="+encodeURIComponent(i),e+="&client_id="+t.clientId,t.scopes&&(e+="&scope="+encodeURIComponent(t.scopes)),t.meta)for(var o in t.meta)t.meta.hasOwnProperty(o)&&(e+="&meta["+encodeURIComponent(o)+"]="+encodeURIComponent(t.meta[o]));return e}var r=t("./constants");e.exports={compose:i,getQueryString:n}},{"./constants":48}],55:[function(t,e){"use strict";var n=t("framebus");n.events=t("./lib/events"),e.exports=n},{"./lib/events":56,framebus:57}],56:[function(t,e){"use strict";for(var n=["PAYMENT_METHOD_REQUEST","PAYMENT_METHOD_RECEIVED","PAYMENT_METHOD_GENERATED","PAYMENT_METHOD_CANCELLED","PAYMENT_METHOD_ERROR","CONFIGURATION_REQUEST","ERROR","WARNING"],i={},r=0;r<n.length;r++){var o=n[r];i[o]=o}e.exports=i},{}],57:[function(t,e,n){"use strict";!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof n?e.exports=i():t.framebus=i()}(this,function(){function t(t,e,n){var r;return n=n||"*","string"!=typeof t?!1:"string"!=typeof n?!1:(r=i(t,e,n),l(h.top,r,n),!0)}function e(t,e,n){return n=n||"*",p(t,e,n)?!1:(d[n]=d[n]||{},d[n][t]=d[n][t]||[],d[n][t].push(e),!0)}function n(t,e,n){var i,r;if(n=n||"*",p(t,e,n))return!1;if(r=d[n]&&d[n][t],!r)return!1;for(i=0;i<r.length;i++)if(r[i]===e)return r.splice(i,1),!0;return!1}function i(t,e,n){var i={event:t};return"function"==typeof e?i.reply=c(e,n):i.data=e,JSON.stringify(i)}function r(t){var e;try{e=JSON.parse(t.data)}catch(n){return!1}return null==e.event?!1:(null!=e.reply&&(e.data=function(n){var r=i(e.reply,n,t.origin);t.source.postMessage(r,t.origin)}),e)}function o(t){h||(h=t,h.addEventListener?h.addEventListener("message",s,!1):h.attachEvent?h.attachEvent("onmessage",s):null===h.onmessage?h.onmessage=s:h=null)}function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})}function s(t){var e;"string"==typeof t.data&&(e=r(t),e&&(u("*",e.event,e.data,t.origin),u(t.origin,e.event,e.data,t.origin)))}function u(t,e,n,i){var r;if(d[t]&&d[t][e])for(r=0;r<d[t][e].length;r++)d[t][e][r](n,i)}function l(t,e,n){var i;for(t.postMessage(e,n),i=0;i<t.frames.length;i++)l(t.frames[i],e,n)}function c(t,i){function r(e,a){t(e,a),n(o,r,i)}var o=a();return e(o,r,i),o}function p(t,e,n){return"string"!=typeof t?!0:"function"!=typeof e?!0:"string"!=typeof n?!0:!1}var h,d={};return o(window),{publish:t,pub:t,trigger:t,emit:t,subscribe:e,sub:e,on:e,unsubscribe:n,unsub:n,off:n}})},{}],58:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],59:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],60:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],61:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],62:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],63:[function(t,e,n){arguments[4][43][0].apply(n,arguments)},{"./lib/dom":58,"./lib/events":59,"./lib/fn":60,"./lib/string":61,"./lib/url":62,dup:43}],64:[function(t,e){(function(n){"use strict";function i(t,e){return t.status>=400?[t,null]:[null,e(t)]}function r(t){var e;this.attrs={},t.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=t.sharedCustomerIdentifier),e=l(t.clientToken),this.driver=t.driver||c,this.authUrl=e.authUrl,this.analyticsUrl=e.analytics?e.analytics.url:void 0,this.clientApiUrl=e.clientApiUrl,this.customerId=t.customerId,this.challenges=e.challenges,this.integration=t.integration||"";var n=u.create(this,{container:t.container,clientToken:e});this.verify3DS=s.bind(n.verify,n),this.attrs.authorizationFingerprint=e.authorizationFingerprint,this.attrs.sharedCustomerIdentifierType=t.sharedCustomerIdentifierType,e.merchantAccountId&&(this.attrs.merchantAccountId=e.merchantAccountId),this.timeoutWatchers=[],this.requestTimeout=t.hasOwnProperty("timeout")?t.timeout:6e4}function o(){}function a(t,e){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}var s=t("braintree-utilities"),u=t("braintree-3ds"),l=t("./parse-client-token"),c=t("./jsonp-driver"),p=t("./util"),h=t("./sepa-mandate"),d=t("./sepa-bank-account"),f=t("./credit-card"),m=t("./coinbase-account"),v=t("./root-data"),y=t("./normalize-api-fields").normalizeCreditCardFields;r.prototype.requestWithTimeout=function(t,e,n,r,a){a=a||o;var s,u,l=this;v.get(function(o){u="braintree/web/"+o.sdkVersion,e.braintreeLibraryVersion=u,e.hasOwnProperty("analytics")&&e.hasOwnProperty("_meta")&&(e._meta.sdkVersion=u,e._meta.merchantAppId=o.merchantAppId),s=r(t,e,function(t,e){if(l.timeoutWatchers[e]){clearTimeout(l.timeoutWatchers[e]);var r=i(t,function(t){return n(t)});a.apply(null,r)}}),l.requestTimeout>0?this.timeoutWatchers[s]=setTimeout(function(){l.timeoutWatchers[s]=null,a.apply(null,[{errors:"Unknown error"},null])},l.requestTimeout):a.apply(null,[{errors:"Unknown error"},null])},this)},r.prototype.post=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.post,i)},r.prototype.get=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.get,i)},r.prototype.put=function(t,e,n,i){this.requestWithTimeout(t,e,n,this.driver.put,i)},r.prototype.getCreditCards=function(t){this.get(p.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(t){var e=0,n=t.paymentMethods.length,i=[];for(e;n>e;e++)i.push(new f(t.paymentMethods[e]));return i},t)},r.prototype.tokenizeCoinbase=function(t,e){t.options={validate:!1},this.addCoinbase(t,function(t,n){t?e(t,null):n&&n.nonce?e(t,n):e("Unable to tokenize coinbase account.",null)})},r.prototype.tokenizeCard=function(t,e){t.options={validate:!1},this.addCreditCard(t,function(t,n){n&&n.nonce?e(t,n.nonce,{type:n.type,details:n.details}):e("Unable to tokenize card.",null)})},r.prototype.lookup3DS=function(t,e){var n=p.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",t.nonce,"three_d_secure/lookup"]),i=a(this.attrs,{amount:t.amount});this.post(n,i,function(t){return t},e)},r.prototype.addSEPAMandate=function(t,e){var n=a(this.attrs,{sepaMandate:t});this.post(p.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),n,function(t){return new h(t.sepaMandates[0])},e)},r.prototype.acceptSEPAMandate=function(t,e){this.put(p.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",t,"accept"]),this.attrs,function(t){return new d(t.sepaBankAccounts[0])},e)},r.prototype.getSEPAMandate=function(t,e){var n;n=t.paymentMethodToken?a(this.attrs,{paymentMethodToken:t.paymentMethodToken}):this.attrs,this.get(p.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",t.mandateReferenceNumber||""]),n,function(t){return new h(t.sepaMandates[0])},e)},r.prototype.addCoinbase=function(t,e){var n;delete t.share,n=a(this.attrs,{coinbaseAccount:t,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.post(p.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),n,function(t){return new m(t.coinbaseAccounts[0])},e)},r.prototype.addCreditCard=function(t,e){var n,i=t.share;delete t.share;var r=y(t);n=a(this.attrs,{share:i,creditCard:r,_meta:{integration:this.integration||"custom",source:"form"}}),this.post(p.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),n,function(t){return new f(t.creditCards[0])},e)},r.prototype.unlockCreditCard=function(t,e,n){var i=a(this.attrs,{challengeResponses:e});this.put(p.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/",t.nonce]),i,function(t){return new f(t.paymentMethods[0])},n)},r.prototype.sendAnalyticsEvents=function(t,e){var i,r=this.analyticsUrl,o=[];if(t=p.isArray(t)?t:[t],!r)return void(e&&e.apply(null,[null,{}]));for(var s in t)t.hasOwnProperty(s)&&o.push({kind:t[s]});i=a(this.attrs,{analytics:o,_meta:{platform:"web",platformVersion:n.navigator.userAgent,integrationType:this.integration}}),this.post(r,i,function(t){return t},e)},e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coinbase-account":65,"./credit-card":66,"./jsonp-driver":67,"./normalize-api-fields":69,"./parse-client-token":70,"./root-data":72,"./sepa-bank-account":73,"./sepa-mandate":74,"./util":75,"braintree-3ds":84,"braintree-utilities":103}],65:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{dup:5}],66:[function(t,e,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],67:[function(t,e,n){arguments[4][7][0].apply(n,arguments)},{"./jsonp":68,dup:7}],68:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{"./util":75,dup:8}],69:[function(t,e,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],70:[function(t,e,n){arguments[4][10][0].apply(n,arguments)},{"./polyfill":71,dup:10}],71:[function(t,e,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],72:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{"braintree-rpc":92,dup:12}],73:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],74:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],75:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],76:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{"./lib/client":64,"./lib/jsonp":68,"./lib/jsonp-driver":67,"./lib/parse-client-token":70,"./lib/util":75,dup:16}],77:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],78:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],79:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],80:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],81:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{"./lib/dom":77,"./lib/events":78,"./lib/fn":79,"./lib/url":80,dup:21}],82:[function(t,e){"use strict";function n(t,e){var n=window.getComputedStyle?getComputedStyle(t):t.currentStyle;return n[e]}function i(){return{html:{height:o.style.height||"",overflow:n(o,"overflow"),position:n(o,"position")},body:{height:a.style.height||"",overflow:n(a,"overflow")}}}function r(t,e){this.assetsUrl=t,this.container=e||document.body,this.iframe=null,o=document.documentElement,a=document.body,this.merchantPageDefaultStyles=i()}var o,a,s=t("braintree-utilities"),u=t("../shared/receiver"),l="1.2.0";r.prototype.get=function(t,e){var n=this,i=this.constructAuthorizationURL(t);this.container&&s.isFunction(this.container)?this.container(i+"&no_style=1"):this.insertIframe(i),new u(function(t){s.isFunction(n.container)||n.removeIframe(),e(t)})},r.prototype.removeIframe=function(){this.container&&this.container.nodeType&&1===this.container.nodeType?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():"string"==typeof this.container&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},r.prototype.insertIframe=function(t){var e=document.createElement("iframe");if(e.src=t,this.applyStyles(e),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&1===this.container.nodeType)this.container.appendChild(e);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&0!==this.container.length)this.container.append(e);else{if("string"!=typeof this.container||!document.getElementById(this.container))throw new Error("Unable to find valid container for iframe.");document.getElementById(this.container).appendChild(e)}this.iframe=e},r.prototype.applyStyles=function(t){t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.setAttribute("frameborder","0"),t.setAttribute("allowTransparency","true"),t.style.border="0",t.style.zIndex="99999"},r.prototype.lockMerchantWindowSize=function(){o.style.overflow="hidden",a.style.overflow="hidden",a.style.height="100%"},r.prototype.unlockMerchantWindowSize=function(){var t=this.merchantPageDefaultStyles;a.style.height=t.body.height,a.style.overflow=t.body.overflow,o.style.overflow=t.html.overflow},r.prototype.constructAuthorizationURL=function(t){var e,n=window.location.href;return n.indexOf("#")>-1&&(n=n.split("#")[0]),e=s.makeQueryString({acsUrl:t.acsUrl,pareq:t.pareq,termUrl:t.termUrl+"&three_d_secure_version="+l,md:t.md,parentUrl:n}),this.assetsUrl+"/3ds/"+l+"/html/style_frame?"+e},e.exports=r},{"../shared/receiver":86,"braintree-utilities":81}],83:[function(t,e){"use strict";function n(){}function i(t,e){e=e||{},this.clientToken=e.clientToken,this.container=e.container,this.api=t,this.nonce=null,this._boundHandleUserClose=r.bind(this._handleUserClose,this)}var r=t("braintree-utilities"),o=t("./authorization_service");i.prototype.verify=function(t,e){if(!r.isFunction(e))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),new Error("No suitable callback argument was given");r.isFunction(t.onUserClose)&&(this._onUserClose=t.onUserClose);var n={nonce:"",amount:t.amount},i=t.creditCard;if("string"==typeof i)n.nonce=i,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(n,e);else{var o=this,a=function(t,i){return t?e(t):(n.nonce=i,void o.startVerification(n,e))};this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(i,a)}},i.prototype.startVerification=function(t,e){this.api.lookup3DS(t,r.bind(this.handleLookupResponse(e),this))},i.prototype.handleLookupResponse=function(t){var e=this;return function(n,i){var a;n?t(n.error):i.lookup&&i.lookup.acsUrl&&i.lookup.acsUrl.length>0?(e.nonce=i.paymentMethod.nonce,a=new o(this.clientToken.assetsUrl,this.container),a.get(i.lookup,r.bind(this.handleAuthenticationResponse(t),this)),this._detachListeners(),this._attachListeners()):(e.nonce=i.paymentMethod.nonce,t(null,{nonce:e.nonce,verificationDetails:i.threeDSecureInfo}))}},i.prototype.handleAuthenticationResponse=function(t){return function(e){var n,i=r.decodeQueryString(e);i.user_closed||(n=JSON.parse(i.auth_response),n.success?t(null,{nonce:n.paymentMethod.nonce,verificationDetails:n.threeDSecureInfo}):n.threeDSecureInfo&&n.threeDSecureInfo.liabilityShiftPossible?t(null,{nonce:this.nonce,verificationDetails:n.threeDSecureInfo}):t(n.error))}},i.prototype._attachListeners=function(){r.addEventListener(window,"message",this._boundHandleUserClose)},i.prototype._detachListeners=function(){r.removeEventListener(window,"message",this._boundHandleUserClose)},i.prototype._handleUserClose=function(t){"user_closed=true"===t.data&&this._onUserClose()},i.prototype._onUserClose=n,e.exports=i},{"./authorization_service":82,"braintree-utilities":81}],84:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{"./client":83,"./vendor/json2":85,dup:24}],85:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],86:[function(t,e){"use strict";function n(t){this.postMessageReceiver(t),this.hashChangeReceiver(t)}var i=t("braintree-utilities");n.prototype.postMessageReceiver=function(t){var e=this;this.wrappedCallback=function(n){var i=n.data;(/^(auth_response=)/.test(i)||"user_closed=true"===i)&&(t(i),e.stopListening())},i.addEventListener(window,"message",this.wrappedCallback)},n.prototype.hashChangeReceiver=function(t){var e,n=window.location.hash,i=this;this.poll=setInterval(function(){e=window.location.hash,e.length>0&&e!==n&&(i.stopListening(),e=e.substring(1,e.length),t(e),window.location.hash=n.length>0?n:"")},10)},n.prototype.stopListening=function(){clearTimeout(this.poll),i.removeEventListener(window,"message",this.wrappedCallback)},e.exports=n},{"braintree-utilities":81}],87:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{"braintree-utilities":97,dup:27}],88:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":97,dup:28}],89:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],90:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"braintree-utilities":97,dup:30}],91:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{"braintree-utilities":97,dup:31}],92:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{"./lib/message-bus":87,"./lib/pubsub-client":88,"./lib/pubsub-server":89,"./lib/rpc-client":90,"./lib/rpc-server":91,dup:32}],93:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],94:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],95:[function(t,e,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],96:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],97:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{"./lib/dom":93,"./lib/events":94,"./lib/fn":95,"./lib/url":96,dup:21}],98:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],99:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],100:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],101:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],102:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],103:[function(t,e,n){arguments[4][43][0].apply(n,arguments)},{"./lib/dom":98,"./lib/events":99,"./lib/fn":100,"./lib/string":101,"./lib/url":102,dup:43}],104:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{"braintree-utilities":114,dup:27}],105:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":114,dup:28}],106:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],107:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"braintree-utilities":114,dup:30}],108:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{"braintree-utilities":114,dup:31}],109:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{"./lib/message-bus":104,"./lib/pubsub-client":105,"./lib/pubsub-server":106,"./lib/rpc-client":107,"./lib/rpc-server":108,dup:32}],110:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],111:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],112:[function(t,e,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],113:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],114:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{"./lib/dom":110,"./lib/events":111,"./lib/fn":112,"./lib/url":113,dup:21}],115:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],116:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],117:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],118:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],119:[function(t,e){"use strict";function n(){return"https:"===window.location.protocol}function i(t){switch(t){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(t)}}function r(t,e){var n,o,a=[];for(o in t)if(t.hasOwnProperty(o)){var s=t[o];n=e?e+"["+o+"]":o,"object"==typeof s?a.push(r(s,n)):void 0!==s&&null!==s&&a.push(i(n)+"="+i(s))}return a.join("&")}function o(t){for(var e={},n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("="),o=r[0],a=decodeURIComponent(r[1]);e[o]=a}return e}function a(t){var e=t.split("?");return 2!==e.length?{}:o(e[1])}function s(t){if(t=t.toLowerCase(),!/^http/.test(t))return!1;u.href=t;var e=u.hostname.split("."),n=e.slice(-2).join(".");return-1===l.indexOf(n)?!1:!0}var u=document.createElement("a"),l=["paypal.com","braintreepayments.com","braintreegateway.com","localhost"];e.exports={isBrowserHttps:n,makeQueryString:r,decodeQueryString:o,getParams:a,isWhitelistedDomain:s}},{}],120:[function(t,e){var n=t("./lib/dom"),i=t("./lib/url"),r=t("./lib/fn"),o=t("./lib/events"),a=t("./lib/string");e.exports={string:a,normalizeElement:n.normalizeElement,isBrowserHttps:i.isBrowserHttps,makeQueryString:i.makeQueryString,decodeQueryString:i.decodeQueryString,getParams:i.getParams,isWhitelistedDomain:i.isWhitelistedDomain,removeEventListener:o.removeEventListener,addEventListener:o.addEventListener,bind:r.bind,isFunction:r.isFunction}},{"./lib/dom":115,"./lib/events":116,"./lib/fn":117,"./lib/string":118,"./lib/url":119}],121:[function(t,e){function n(t){var e=window.getComputedStyle?getComputedStyle(t):t.currentStyle;return{overflow:e.overflow||"",height:t.style.height||""}}function i(){return{html:{node:document.documentElement,styles:n(document.documentElement)},body:{node:document.body,styles:n(document.body)}}}function r(t,e){if(!t)throw new Error('Parameter "clientToken" cannot be null');e=e||{},this._clientToken=o.parseClientToken(t),this._clientOptions=e,this.container=e.container,this.merchantPageDefaultStyles=null,this.paymentMethodNonceInputField=e.paymentMethodNonceInputField,this.frame=null,this.popup=null,this.insertFrameFunction=e.insertFrame,this.onSuccess=e.onSuccess,this.onCancelled=e.onCancelled,this.onUnsupported=e.onUnsupported,this.loggedInView=null,this.loggedOutView=null,this.insertUI=!0}var o=t("braintree-api"),a=t("braintree-rpc"),s=t("braintree-utilities"),u=t("./logged-in-view"),l=t("./logged-out-view"),c=t("./overlay-view"),p=t("../shared/util/browser"),h=t("../shared/util/dom"),d=t("../shared/constants"),f=t("../shared/util/util"),m=t("../shared/get-locale");r.prototype.getViewerUrl=function(){var t=this._clientToken.paypal.assetsUrl;return t+"/pwpp/"+d.VERSION+"/html/braintree-frame.html"},r.prototype.getProxyUrl=function(){var t=this._clientToken.paypal.assetsUrl;return t+"/pwpp/"+d.VERSION+"/html/proxy-frame.html"},r.prototype.initialize=function(){if(!this._clientToken.paypalEnabled)return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("PayPal is not enabled")));if(!this._isBrowserSecure())return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("unsupported protocol detected")));if(this._isAriesCapable()){if(!this._isAriesSupportedCurrency())return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("This PayPal integration does not support this currency")));if(!this._isAriesSupportedCountries())return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("This PayPal integration does not support this locale")))}return this._isMisconfiguredUnvettedMerchant()?void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("Unvetted merchant client token does not include a payee email"))):(this._overrideClientTokenProperties(),p.isProxyFrameRequired()&&this._insertProxyFrame(),this._setupDomElements(),this._setupPaymentMethodNonceInputField(),this._setupViews(),void this._createRpcServer())},r.prototype._isSupportedOption=function(t,e){for(var n=e.length,i=!1,r=0;n>r;r++)t.toLowerCase()===e[r].toLowerCase()&&(i=!0);return i},r.prototype._isAriesSupportedCurrency=function(){return this._isSupportedOption(this._clientOptions.currency,d.ARIES_SUPPORTED_CURRENCIES)},r.prototype._isAriesSupportedCountries=function(){return this._isSupportedOption(m(this._clientOptions.locale).split("_")[1],d.ARIES_SUPPORTED_COUNTRIES)},r.prototype._isMisconfiguredUnvettedMerchant=function(){return this._clientToken.paypal.unvettedMerchant&&(!this._isAriesCapable()||!this._clientToken.paypal.payeeEmail)},r.prototype._isBrowserSecure=function(){return s.isBrowserHttps()||p.isPopupSupported()||this._clientToken.paypal.allowHttp},r.prototype._overrideClientTokenProperties=function(){this._clientOptions.displayName&&(this._clientToken.paypal.displayName=this._clientOptions.displayName)},r.prototype._setupDomElements=function(){this.insertUI&&(this.container=s.normalizeElement(this.container))},r.prototype._setupPaymentMethodNonceInputField=function(){if(this.insertUI){var t=this.paymentMethodNonceInputField;s.isFunction(t)||(t=void 0!==t?s.normalizeElement(t):this._createPaymentMethodNonceInputField(),this.paymentMethodNonceInputField=t)}},r.prototype._setupViews=function(){var t=this._clientToken.paypal.assetsUrl;this.insertUI&&(this.loggedInView=new u({container:this.container,assetsUrl:t}),this.loggedOutView=new l({assetsUrl:t,container:this.container,isCheckout:this._isAriesCapable(),locale:this._clientOptions.locale,merchantId:"merchantId"}),s.addEventListener(this.loggedOutView.container,"click",s.bind(this._handleContainerClick,this)),s.addEventListener(this.loggedInView.logoutNode,"click",s.bind(this._handleLogout,this)))},r.prototype._createRpcServer=function(){var t=new a.MessageBus(window),e=new a.RPCServer(t,window);e.define("getClientToken",s.bind(this._handleGetClientToken,this)),e.define("getClientOptions",s.bind(this._handleGetClientOptions,this)),e.define("closePayPalModal",s.bind(this._handleCloseMessage,this)),e.define("receivePayPalData",s.bind(this._handleSuccessfulAuthentication,this))},r.prototype._createPaymentMethodNonceInputField=function(){var t=document.createElement("input");return t.name="payment_method_nonce",t.type="hidden",this.container.appendChild(t)},r.prototype._createFrame=function(){var t,e=document.createElement("iframe");return this._isAriesCapable()?(t=d.ARIES_FRAME_NAME,e.style.background="#FFFFFF"):t=d.FRAME_NAME,e.src=this.getViewerUrl(),e.id=t,e.name=t,e.allowTransparency=!0,e.height="100%",e.width="100%",e.frameBorder=0,e.style.position=p.isMobile()?"absolute":"fixed",e.style.top=0,e.style.left=0,e.style.bottom=0,e.style.zIndex=20001,e.style.padding=0,e.style.margin=0,e.style.border=0,e.style.outline="none",e},r.prototype._removeFrame=function(t){t=t||document.body,this.frame&&t.contains(this.frame)&&(t.removeChild(this.frame),this._unlockMerchantWindowSize())},r.prototype._insertFrame=function(){this.insertFrameFunction?this.insertFrameFunction(this.getViewerUrl()):(this.frame=this._createFrame(),document.body.appendChild(this.frame)),this._lockMerchantWindowSize()
},r.prototype._handleContainerClick=function(t){function e(t){return t.className.match(/paypal-button(?!-widget)/)||"braintree-paypal-button"===t.id}var n=t.target||t.srcElement;(e(n)||e(n.parentNode))&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this._open())},r.prototype._setMerchantPageDefaultStyles=function(){this.merchantPageDefaultStyles=i()},r.prototype._open=function(){this._isAriesCapable()&&this._addCorrelationIdToClientToken(),p.isPopupSupported()?this._openPopup():this._openModal()},r.prototype._close=function(){p.isPopupSupported()?this._closePopup():this._closeModal()},r.prototype._openModal=function(){this._removeFrame(),this._insertFrame()},r.prototype._isAriesCapable=function(){return!(!this._clientOptions.singleUse||!this._clientOptions.amount||!this._clientOptions.currency||this._clientOptions.demo)},r.prototype._openPopup=function(){var t,e,n,i=[],r=window.outerWidth||document.documentElement.clientWidth,o=window.outerHeight||document.documentElement.clientHeight,a="undefined"==typeof window.screenY?window.screenTop:window.screenY,s="undefined"==typeof window.screenX?window.screenLeft:window.screenX;this._isAriesCapable()?(t=d.ARIES_POPUP_NAME,n=d.ARIES_POPUP_HEIGHT,e=d.ARIES_POPUP_WIDTH):(t=d.POPUP_NAME,n=d.POPUP_HEIGHT,e=d.POPUP_WIDTH);var u=(r-e)/2+s,l=(o-n)/2+a;return i.push("height="+n),i.push("width="+e),i.push("top="+l),i.push("left="+u),i.push(d.POPUP_OPTIONS),this.popup=window.open(this.getViewerUrl(),t,i.join(",")),p.isOverlaySupported()&&(this.overlayView=new c(this.popup,this._clientToken.paypal.assetsUrl),this.overlayView.render()),this.popup.focus(),this.popup},r.prototype._addCorrelationIdToClientToken=function(){this._clientToken.correlationId=f.generateUid()},r.prototype._createProxyFrame=function(){var t=document.createElement("iframe");return t.src=this.getProxyUrl(),t.id=d.BRIDGE_FRAME_NAME,t.name=d.BRIDGE_FRAME_NAME,t.allowTransparency=!0,t.height=0,t.width=0,t.frameBorder=0,t.style.position="static",t.style.padding=0,t.style.margin=0,t.style.border=0,t.style.outline="none",t},r.prototype._insertProxyFrame=function(){this.proxyFrame=this._createProxyFrame(),document.body.appendChild(this.proxyFrame)},r.prototype._closeModal=function(){this._removeFrame()},r.prototype._closePopup=function(){this.popup&&(this.popup.close(),this.popup=null),this.overlayView&&p.isOverlaySupported()&&this.overlayView.remove()},r.prototype._clientTokenData=function(){return{analyticsUrl:this._clientToken.analytics?this._clientToken.analytics.url:void 0,authorizationFingerprint:this._clientToken.authorizationFingerprint,authUrl:this._clientToken.authUrl,clientApiUrl:this._clientToken.clientApiUrl,displayName:this._clientToken.paypal.displayName,paypalBaseUrl:this._clientToken.paypal.assetsUrl,paypalClientId:this._clientToken.paypal.clientId,paypalPrivacyUrl:this._clientToken.paypal.privacyUrl,paypalUserAgreementUrl:this._clientToken.paypal.userAgreementUrl,unvettedMerchant:this._clientToken.paypal.unvettedMerchant,payeeEmail:this._clientToken.paypal.payeeEmail,correlationId:this._clientToken.correlationId,offline:this._clientOptions.offline||this._clientToken.paypal.environmentNoNetwork}},r.prototype._handleGetClientToken=function(t){t(this._clientTokenData())},r.prototype._clientOptionsData=function(){return{demo:this._clientOptions.demo||!1,locale:this._clientOptions.locale||"en_us",onetime:this._clientOptions.singleUse||!1,integration:this._clientOptions.integration||"paypal",enableShippingAddress:this._clientOptions.enableShippingAddress||!1,enableAries:this._isAriesCapable(),amount:this._clientOptions.amount||null,currency:this._clientOptions.currency||null,shippingAddressOverride:this._clientOptions.shippingAddressOverride||null}},r.prototype._handleGetClientOptions=function(t){t(this._clientOptionsData())},r.prototype._handleSuccessfulAuthentication=function(t){this._close(),t.type=d.NONCE_TYPE,s.isFunction(this.paymentMethodNonceInputField)?this.paymentMethodNonceInputField(t.nonce):(this._showLoggedInContent(t.details.email),this._setNonceInputValue(t.nonce)),s.isFunction(this.onSuccess)&&this.onSuccess(t)},r.prototype._lockMerchantWindowSize=function(){this._setMerchantPageDefaultStyles(),document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden"},r.prototype._unlockMerchantWindowSize=function(){this.merchantPageDefaultStyles&&(document.documentElement.style.height=this.merchantPageDefaultStyles.html.styles.height,document.documentElement.style.overflow=this.merchantPageDefaultStyles.html.styles.overflow,document.body.style.height=this.merchantPageDefaultStyles.body.styles.height,document.body.style.overflow=this.merchantPageDefaultStyles.body.styles.overflow)},r.prototype._handleCloseMessage=function(){this._removeFrame()},r.prototype._showLoggedInContent=function(t){this.loggedOutView.hide(),h.setTextContent(this.loggedInView.emailNode,t),this.loggedInView.show()},r.prototype._handleLogout=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,this.loggedInView.hide(),this.loggedOutView.show(),this._setNonceInputValue(""),s.isFunction(this.onCancelled)&&this.onCancelled()},r.prototype._setNonceInputValue=function(t){this.paymentMethodNonceInputField.value=t},e.exports=r},{"../shared/constants":125,"../shared/get-locale":127,"../shared/util/browser":132,"../shared/util/dom":133,"../shared/util/util":134,"./logged-in-view":122,"./logged-out-view":123,"./overlay-view":124,"braintree-api":76,"braintree-rpc":109,"braintree-utilities":120}],122:[function(t,e){function n(t){this.options=t,this.container=this.createViewContainer(),this.createPayPalName(),this.emailNode=this.createEmailNode(),this.logoutNode=this.createLogoutNode()}var i=t("../shared/constants");n.prototype.createViewContainer=function(){var t=document.createElement("div");t.id="braintree-paypal-loggedin";var e=["display: none","max-width: 500px","overflow: hidden","padding: 16px","background-image: url("+this.options.assetsUrl+"/pwpp/"+i.VERSION+"/images/paypal-small.png)","background-image: url("+this.options.assetsUrl+"/pwpp/"+i.VERSION+"/images/paypal-small.svg), none","background-position: 20px 50%","background-repeat: no-repeat","background-size: 13px 15px","border-top: 1px solid #d1d4d6","border-bottom: 1px solid #d1d4d6"].join(";");return t.style.cssText=e,this.options.container.appendChild(t),t},n.prototype.createPayPalName=function(){var t=document.createElement("span");t.id="bt-pp-name",t.innerHTML="PayPal";var e=["color: #283036","font-size: 13px","font-weight: 800",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 36px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return t.style.cssText=e,this.container.appendChild(t)},n.prototype.createEmailNode=function(){var t=document.createElement("span");t.id="bt-pp-email";var e=["color: #6e787f","font-size: 13px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 5px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return t.style.cssText=e,this.container.appendChild(t)},n.prototype.createLogoutNode=function(){var t=document.createElement("button");t.id="bt-pp-cancel",t.innerHTML="Cancel";var e=["color: #3d95ce","font-size: 11px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"line-height: 20px","margin: 0 0 0 25px","padding: 0","background-color: transparent","border: 0","cursor: pointer","text-decoration: underline","float: right","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return t.style.cssText=e,this.container.appendChild(t)},n.prototype.show=function(){this.container.style.display="block"},n.prototype.hide=function(){this.container.style.display="none"},e.exports=n},{"../shared/constants":125}],123:[function(t,e){function n(t){this.options=t,this.assetsUrl=this.options.assetsUrl,this.container=this.createViewContainer(),this.options.isCheckout?this.createCheckoutWithPayPalButton():this.createPayWithPayPalButton()}var i=(t("braintree-utilities"),t("../shared/constants")),r=t("../shared/get-locale");n.prototype.createViewContainer=function(){var t=document.createElement("div");return t.id="braintree-paypal-loggedout",this.options.container.appendChild(t),t},n.prototype.createPayWithPayPalButton=function(){var t=document.createElement("a");t.id="braintree-paypal-button",t.href="#";var e=["display: block","width: 115px","height: 44px","overflow: hidden"].join(";");t.style.cssText=e;var n=new Image;n.src=this.assetsUrl+"/pwpp/"+i.VERSION+"/images/pay-with-paypal.png",n.setAttribute("alt","Pay with PayPal");var r=["max-width: 100%","display: block","width: 100%","height: 100%","outline: none","border: 0"].join(";");n.style.cssText=r,t.appendChild(n),this.container.appendChild(t)},n.prototype.createCheckoutWithPayPalButton=function(){var t=document.createElement("script");t.src="//www.paypalobjects.com/api/button.js",t.async=!0,t.setAttribute("data-merchant",this.options.merchantId),t.setAttribute("data-button","checkout"),t.setAttribute("data-type","button"),t.setAttribute("data-width","150"),t.setAttribute("data-height","44"),t.setAttribute("data-lc",r(this.options.locale)),this.container.appendChild(t)},n.prototype.show=function(){this.container.style.display="block"},n.prototype.hide=function(){this.container.style.display="none"},e.exports=n},{"../shared/constants":125,"../shared/get-locale":127,"braintree-utilities":120}],124:[function(t,e){function n(t,e){this.popup=t,this.assetsUrl=e,this.spriteSrc=this.assetsUrl+"/pwpp/"+r.VERSION+"/images/pp_overlay_sprite.png",this._create(),this._setupEvents(),this._pollForPopup()}var i=t("braintree-utilities"),r=t("../shared/constants");n.prototype.render=function(){document.body.contains(this.el)||document.body.appendChild(this.el)},n.prototype.remove=function(){document.body.contains(this.el)&&document.body.removeChild(this.el)},n.prototype._create=function(){this.el=document.createElement("div"),this.el.className="bt-overlay",this._setStyles(this.el,["z-index: 20001","position: fixed","top: 0","left: 0","height: 100%","width: 100%","text-align: center","background: #000","background: rgba(0,0,0,0.7)",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=52)"']),this.el.appendChild(this._createCloseIcon()),this.el.appendChild(this._createMessage())},n.prototype._createCloseIcon=function(){return this.closeIcon=document.createElement("div"),this.closeIcon.className="bt-close-overlay",this._setStyles(this.closeIcon,["position: absolute","top: 10px","right: 10px","cursor: pointer","background: url("+this.spriteSrc+") no-repeat 0 -67px","height: 14px","width: 14px"]),this.closeIcon},n.prototype._createMessage=function(){var t=document.createElement("div");return this._setStyles(t,["position: relative","top: 50%","max-width: 350px",'font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif',"font-size: 14px","line-height: 20px","margin: -70px auto 0"]),t.appendChild(this._createLogo()),t.appendChild(this._createExplanation()),t.appendChild(this._createFocusLink()),t},n.prototype._createExplanation=function(){var t=document.createElement("div");return this._setStyles(t,["color: #FFF","margin-bottom: 20px"]),t.innerHTML="Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",t},n.prototype._createLogo=function(){var t=document.createElement("div");return this._setStyles(t,["background: url("+this.spriteSrc+") no-repeat 0 0","width: 94px","height: 25px","margin: 0 auto 26px auto"]),t},n.prototype._createFocusLink=function(){return this.focusLink=document.createElement("a"),this._setStyles(this.focusLink,["color: #009be1","cursor: pointer"]),this.focusLink.innerHTML="Continue",this.focusLink},n.prototype._setStyles=function(t,e){var n=e.join(";");t.style.cssText=n},n.prototype._setupEvents=function(){i.addEventListener(this.closeIcon,"click",i.bind(this._handleClose,this)),i.addEventListener(this.focusLink,"click",i.bind(this._handleFocus,this))},n.prototype._handleClose=function(t){t.preventDefault(),this.remove(),this.popup.close()},n.prototype._handleFocus=function(t){t.preventDefault(),this.popup.focus()},n.prototype._pollForPopup=function(){var t=setInterval(i.bind(function(){this.popup&&this.popup.closed&&(clearInterval(t),this.remove())},this),100)},e.exports=n},{"../shared/constants":125,"braintree-utilities":120}],125:[function(t,e,n){var i="1.3.3";n.VERSION=i,n.POPUP_NAME="braintree_paypal_popup",n.ARIES_POPUP_NAME="PPFrameRedirect",n.FRAME_NAME="braintree-paypal-frame",n.ARIES_FRAME_NAME="PPFrameRedirect",n.POPUP_PATH="/pwpp/"+i+"/html/braintree-frame.html",n.POPUP_OPTIONS="resizable,scrollbars",n.POPUP_HEIGHT=470,n.POPUP_WIDTH=410,n.ARIES_POPUP_HEIGHT=535,n.ARIES_POPUP_WIDTH=450,n.BRIDGE_FRAME_NAME="bt-proxy-frame",n.ARIES_SUPPORTED_CURRENCIES=["USD","GBP","EUR","AUD","CAD"],n.ARIES_SUPPORTED_COUNTRIES=["US","GB","AU","CA","ES","FR","DE","IT"],n.NONCE_TYPE="PayPalAccount",n.ILLEGAL_XHR_ERROR="Illegal XHR request attempted"},{}],126:[function(t,e){"use strict";e.exports={us:"en_us",gb:"en_uk",uk:"en_uk",de:"de_de",fr:"fr_fr",it:"it_it",es:"es_es",ca:"en_ca",au:"en_au",at:"de_de",be:"en_us",ch:"de_de",dk:"da_dk",nl:"nl_nl",no:"no_no",pl:"pl_pl",se:"sv_se",tr:"tr_tr",bg:"en_us",cy:"en_us",hr:"en_us",is:"en_us",kh:"en_us",mt:"en_us",my:"en_us",ru:"ru_ru"}},{}],127:[function(t,e){"use strict";function n(t){return-1!==t.indexOf("_")&&5===t.length}function i(t){var e;for(var n in o)o.hasOwnProperty(n)&&(n===t?e=o[n]:o[n]===t&&(e=o[n]));return e}function r(t){var e;if(t=t?t.toLowerCase():"us",t=t.replace(/-/g,"_"),e=n(t)?t:i(t)){var r=e.split("_");return[r[0],r[1].toUpperCase()].join("_")}return"en_US"}var o=t("../shared/data/country-code-lookup");e.exports=r},{"../shared/data/country-code-lookup":126}],128:[function(t,e){function n(){return l.matchUserAgent("Android")&&!i()}function i(){return l.matchUserAgent("Chrome")||l.matchUserAgent("CriOS")}function r(){return l.matchUserAgent("Firefox")}function o(){return l.matchUserAgent("Trident")||l.matchUserAgent("MSIE")}function a(){return l.matchUserAgent("Opera")||l.matchUserAgent("OPR")}function s(){return a()&&"[object OperaMini]"===c.call(window.operamini)}function u(){return l.matchUserAgent("Safari")&&!i()&&!n()}var l=t("./useragent"),c=Object.prototype.toString;e.exports={isAndroid:n,isChrome:i,isFirefox:r,isIE:o,isOpera:a,isOperaMini:s,isSafari:u}},{"./useragent":131}],129:[function(t,e){function n(){return!i()&&(a.isAndroid()||a.isIpod()||a.isIphone()||o.matchUserAgent("IEMobile"))}function i(){return a.isIpad()||a.isAndroid()&&!o.matchUserAgent("Mobile")}function r(){return!n()&&!i()}var o=t("./useragent"),a=t("./platform");e.exports={isMobile:n,isTablet:i,isDesktop:r}},{"./platform":130,"./useragent":131}],130:[function(t,e){function n(){return s.matchUserAgent("Android")}function i(){return s.matchUserAgent("iPad")}function r(){return s.matchUserAgent("iPod")}function o(){return s.matchUserAgent("iPhone")&&!r()}function a(){return i()||r()||o()}var s=t("./useragent");e.exports={isAndroid:n,isIpad:i,isIpod:r,isIphone:o,isIos:a}},{"./useragent":131}],131:[function(t,e,n){function i(){return o}function r(t){var e=n.getNativeUserAgent(),i=e.match(t);return i?!0:!1}var o=window.navigator.userAgent;n.getNativeUserAgent=i,n.matchUserAgent=r},{}],132:[function(t,e){function n(){return i()&&window.outerWidth<600}function i(){return f.test(d)}function r(){return!!window.postMessage}function o(){if(l.isOperaMini())return!1;if(c.isDesktop())return!0;if(c.isMobile()||c.isTablet()){if(l.isIE())return!1;if(p.isAndroid())return!0;if(p.isIos())return l.isSafari()&&h.matchUserAgent(/OS (?:8_1|8_0|8)(?!_\d)/i)||l.isChrome()?!1:!0}return!1}function a(){if(l.isIE()&&h.matchUserAgent(/MSIE 8\.0/))return!1;try{return window.self===window.top}catch(t){return!1}}function s(){return l.isIE()&&!u()}function u(){var t=null,e="";try{new ActiveXObject("")}catch(n){e=n.name}try{t=!!new ActiveXObject("htmlfile")}catch(n){t=!1}return t="ReferenceError"!==e&&t===!1?!1:!0,!t}var l=t("../useragent/browser"),c=t("../useragent/device"),p=t("../useragent/platform"),h=t("../useragent/useragent"),d=window.navigator.userAgent,f=/[Mm]obi|tablet|iOS|Android|IEMobile|Windows\sPhone/;e.exports={isMobile:n,isMobileDevice:i,detectedPostMessage:r,isPopupSupported:o,isOverlaySupported:a,isProxyFrameRequired:s}},{"../useragent/browser":128,"../useragent/device":129,"../useragent/platform":130,"../useragent/useragent":131}],133:[function(t,e){function n(t,e){var n="innerText";document&&document.body&&"textContent"in document.body&&(n="textContent"),t[n]=e}e.exports={setTextContent:n}},{}],134:[function(t,e){function n(){for(var t="",e=0;32>e;e++){var n=Math.floor(16*Math.random());t+=n.toString(16)}return t}function i(t){return/^(true|1)$/i.test(t)}function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}function o(t){var e=t.indexOf("?"),n={};if(e>=0&&(t=t.substr(e+1)),0!==t.length){for(var i=t.split("&"),r=0,o=i.length;o>r;r++){var a=i[r],s=a.indexOf("="),u=a.substr(0,s),l=a.substr(s+1),c=decodeURIComponent(l);c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"false"===c&&(c=!1),(void 0===c||"true"===c)&&(c=!0),n[u]=c}return n}}function a(t){return t&&"[object Function]"===Object.prototype.toString.call(t)}var s="function"==typeof String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/,"")},u="function"==typeof window.btoa?function(t){return window.btoa(t)}:function(t){for(var e,n,i,r,o,a,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",c=0;c<t.length;)e=t.charCodeAt(c++),n=t.charCodeAt(c++),i=t.charCodeAt(c++),r=e>>2,o=(3&e)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),l=l+u.charAt(r)+u.charAt(o)+u.charAt(a)+u.charAt(s);return l};e.exports={trim:s,btoa:u,generateUid:n,castToBoolean:i,htmlEscape:r,parseUrlParams:o,isFunction:a}},{}],135:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{"braintree-utilities":145,dup:27}],136:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":145,dup:28}],137:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],138:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{"braintree-utilities":145,dup:30}],139:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{"braintree-utilities":145,dup:31}],140:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{"./lib/message-bus":135,"./lib/pubsub-client":136,"./lib/pubsub-server":137,"./lib/rpc-client":138,"./lib/rpc-server":139,dup:32}],141:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],142:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],143:[function(t,e,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],144:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],145:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{"./lib/dom":141,"./lib/events":142,"./lib/fn":143,"./lib/url":144,dup:21}],146:[function(t,e){function n(){if(!a){a=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}a=!1}}function i(){}var r=e.exports={},o=[],a=!1;r.nextTick=function(t){o.push(t),a||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],147:[function(){!function(t){"function"==typeof define?define(t):"function"==typeof YUI?YUI.add("es5-sham",t):t()}(function(){function t(t){try{return t.sentinel=0,0===Object.getOwnPropertyDescriptor(t,"sentinel").value}catch(e){}}function e(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}var n,i,r,o,a,s=Function.prototype.call,u=Object.prototype,l=s.bind(u.hasOwnProperty);if((a=l(u,"__defineGetter__"))&&(n=s.bind(u.__defineGetter__),i=s.bind(u.__defineSetter__),r=s.bind(u.__lookupGetter__),o=s.bind(u.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:u)}),Object.defineProperty){var c=t({}),p="undefined"==typeof document||t(document.createElement("div"));if(!p||!c)var h=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||h){var d="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(d+t);if(h)try{return h.call(Object,t,e)}catch(n){}if(l(t,e)){var i={enumerable:!0,configurable:!0};if(a){var s=t.__proto__;t.__proto__=u;var c=r(t,e),p=o(t,e);if(t.__proto__=s,c||p)return c&&(i.get=c),p&&(i.set=p),i}return i.value=t[e],i.writable=!0,i}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var f,m=null===Object.prototype.__proto__;f=m||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function t(){}var e=document.createElement("iframe"),n=document.body||document.documentElement;e.style.display="none",n.appendChild(e),e.src="javascript:";var i=e.contentWindow.Object.prototype;return n.removeChild(e),e=null,delete i.constructor,delete i.hasOwnProperty,delete i.propertyIsEnumerable,delete i.isPrototypeOf,delete i.toLocaleString,delete i.toString,delete i.valueOf,i.__proto__=null,t.prototype=i,f=function(){return new t},new t},Object.create=function(t,e){function n(){}var i;if(null===t)i=f();else{if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object or null");n.prototype=t,i=new n,i.__proto__=t}return void 0!==e&&Object.defineProperties(i,e),i}}if(Object.defineProperty){var v=e({}),y="undefined"==typeof document||e(document.createElement("div"));if(!v||!y)var g=Object.defineProperty,b=Object.defineProperties}if(!Object.defineProperty||g){var w="Property description must be an object: ",_="Object.defineProperty called on non-object: ",C="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,s){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(_+t);if("object"!=typeof s&&"function"!=typeof s||null===s)throw new TypeError(w+s);if(g)try{return g.call(Object,t,e,s)}catch(c){}if(l(s,"value"))if(a&&(r(t,e)||o(t,e))){var p=t.__proto__;t.__proto__=u,delete t[e],t[e]=s.value,t.__proto__=p}else t[e]=s.value;else{if(!a)throw new TypeError(C);l(s,"get")&&n(t,e,s.get),l(s,"set")&&i(t,e,s.set)}return t}}(!Object.defineProperties||b)&&(Object.defineProperties=function(t,e){if(b)try{return b.call(Object,t,e)}catch(n){}for(var i in e)l(e,i)&&"__proto__"!=i&&Object.defineProperty(t,i,e[i]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(x){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)!==t)throw new TypeError;for(var e="";l(t,e);)e+="?";t[e]=!0;var n=l(t,e);return delete t[e],n})})},{}],148:[function(){!function(t){"function"==typeof define?define(t):"function"==typeof YUI?YUI.add("es5",t):t()}(function(){function t(){}function e(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function n(t){var e=typeof t;return null===t||"undefined"===e||"boolean"===e||"number"===e||"string"===e}function i(t){var e,i,r;if(n(t))return t;if(i=t.valueOf,"function"==typeof i&&(e=i.call(t),n(e)))return e;if(r=t.toString,"function"==typeof r&&(e=r.call(t),n(e)))return e;throw new TypeError}8!==parseInt("08")&&(parseInt=function(t){var e=/^0[xX]/;return function(n,i){return n=String(n).trim(),+i||(i=e.test(n)?16:10),t(n,i)}}(parseInt)),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i=h.call(arguments,1),r=function(){if(this instanceof u){var t=n.apply(this,i.concat(h.call(arguments)));return Object(t)===t?t:this}return n.apply(e,i.concat(h.call(arguments)))},o=Math.max(0,n.length-i.length),a=[],s=0;o>s;s++)a.push("$"+s);var u=Function("binder","return function("+a.join(",")+"){return binder.apply(this,arguments)}")(r);return n.prototype&&(t.prototype=n.prototype,u.prototype=new t,t.prototype=null),u});var r,o,a,s,u,l=Function.prototype.call,c=Array.prototype,p=Object.prototype,h=c.slice,d=l.bind(p.toString),f=l.bind(p.hasOwnProperty);if((u=f(p,"__defineGetter__"))&&(r=l.bind(p.__defineGetter__),o=l.bind(p.__defineSetter__),a=l.bind(p.__lookupGetter__),s=l.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length){var m=Array.prototype.splice,v=Array.prototype.push,y=Array.prototype.unshift;Array.prototype.splice=function(){function t(t){for(var e=[];t--;)e.unshift(t);return e}var e,n=[];return n.splice.bind(n,0,0).apply(null,t(20)),n.splice.bind(n,0,0).apply(null,t(26)),e=n.length,n.splice(5,0,"XXX"),e+1==n.length?!0:void 0}()?function(t,e){return arguments.length?m.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(h.call(arguments,2))):[]}:function(t,e){var n,i=h.call(arguments,2),r=i.length;if(!arguments.length)return[];if(void 0===t&&(t=0),void 0===e&&(e=this.length-t),r>0){if(0>=e){if(t==this.length)return v.apply(this,i),[];if(0==t)return y.apply(this,i),[]}return n=h.call(this,t,t+e),i.push.apply(i,h.call(this,t+e,this.length)),i.unshift.apply(i,h.call(this,0,t)),i.unshift(0,this.length),m.apply(this,i),n}return m.call(this,t,e)}}if(1!=[].unshift(0)){var y=Array.prototype.unshift;Array.prototype.unshift=function(){return y.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(t){return"[object Array]"==d(t)});var g=Object("a"),b="a"!=g[0]||!(0 in g),w=!0;if(Array.prototype.forEach&&Array.prototype.forEach.call("foo",function(t,e,n){"object"!=typeof n&&(w=!1)}),Array.prototype.forEach&&w||(Array.prototype.forEach=function(t){var e=N(this),n=b&&"[object String]"==d(this)?this.split(""):e,i=arguments[1],r=-1,o=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError;for(;++r<o;)r in n&&t.call(i,n[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=N(this),n=b&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=Array(i),o=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var a=0;i>a;a++)a in n&&(r[a]=t.call(o,n[a],a,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=N(this),i=b&&"[object String]"==d(this)?this.split(""):n,r=i.length>>>0,o=[],a=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var s=0;r>s;s++)s in i&&(e=i[s],t.call(a,e,s,n)&&o.push(e));return o}),Array.prototype.every||(Array.prototype.every=function(t){var e=N(this),n=b&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var o=0;i>o;o++)if(o in n&&!t.call(r,n[o],o,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=N(this),n=b&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var o=0;i>o;o++)if(o in n&&t.call(r,n[o],o,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=N(this),n=b&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>o;o++)o in n&&(r=t.call(void 0,r,n[o],o,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=N(this),n=b&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>o)return r;do o in this&&(r=t.call(void 0,r,n[o],o,e));while(o--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var n=b&&"[object String]"==d(this)?this.split(""):N(this),i=n.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=e(arguments[1])),r=r>=0?r:Math.max(0,i+r);i>r;r++)if(r in n&&n[r]===t)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var n=b&&"[object String]"==d(this)?this.split(""):N(this),i=n.length>>>0;if(!i)return-1;var r=i-1;for(arguments.length>1&&(r=Math.min(r,e(arguments[1]))),r=r>=0?r:i-Math.abs(r);r>=0;r--)if(r in n&&t===n[r])return r;return-1}),!Object.keys){var _=!0,C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],x=C.length;for(var k in{toString:null})_=!1;Object.keys=function R(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var R=[];for(var e in t)f(t,e)&&R.push(e);if(_)for(var n=0,i=x;i>n;n++){var r=C[n];f(t,r)&&R.push(r)}return R}}var E=-621987552e5,S="-000001";Date.prototype.toISOString&&-1!==new Date(E).toISOString().indexOf(S)||(Date.prototype.toISOString=function(){var t,e,n,i,r;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(i=this.getUTCFullYear(),r=this.getUTCMonth(),i+=Math.floor(r/12),r=(r%12+12)%12,t=[r+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=(0>i?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(i>=0&&9999>=i?-4:-6),e=t.length;e--;)n=t[e],10>n&&(t[e]="0"+n);return i+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var P=!1;try{P=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(E).toJSON().indexOf(S)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(A){}P||(Date.prototype.toJSON=function(){var t,e=Object(this),n=i(e);if("number"==typeof n&&!isFinite(n))return null;if(t=e.toISOString,"function"!=typeof t)throw new TypeError("toISOString property is not callable");return t.call(e)}),Date=function(t){function e(n,i,r,o,a,s,u){var l=arguments.length;if(this instanceof t){var c=1==l&&String(n)===n?new t(e.parse(n)):l>=7?new t(n,i,r,o,a,s,u):l>=6?new t(n,i,r,o,a,s):l>=5?new t(n,i,r,o,a):l>=4?new t(n,i,r,o):l>=3?new t(n,i,r):l>=2?new t(n,i):l>=1?new t(n):new t;return c.constructor=e,c}return t.apply(this,arguments)}function n(t,e){var n=e>1?1:0;return o[e]+Math.floor((t-1969+n)/4)-Math.floor((t-1901+n)/100)+Math.floor((t-1601+n)/400)+365*(t-1970)}function i(e){return Number(new t(1970,0,1,0,0,0,e))}var r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),o=[0,31,59,90,120,151,181,212,243,273,304,334,365];
for(var a in t)e[a]=t[a];return e.now=t.now,e.UTC=t.UTC,e.prototype=t.prototype,e.prototype.constructor=e,e.parse=function(e){var o=r.exec(e);if(o){var a,s=Number(o[1]),u=Number(o[2]||1)-1,l=Number(o[3]||1)-1,c=Number(o[4]||0),p=Number(o[5]||0),h=Number(o[6]||0),d=Math.floor(1e3*Number(o[7]||0)),f=Boolean(o[4]&&!o[8]),m="-"===o[9]?1:-1,v=Number(o[10]||0),y=Number(o[11]||0);return(p>0||h>0||d>0?24:25)>c&&60>p&&60>h&&1e3>d&&u>-1&&12>u&&24>v&&60>y&&l>-1&&l<n(s,u+1)-n(s,u)&&(a=60*(24*(n(s,u)+l)+c+v*m),a=1e3*(60*(a+p+y*m)+h)+d,f&&(a=i(a)),a>=-864e13&&864e13>=a)?a:0/0}return t.parse.apply(this,arguments)},e}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function t(t,e){for(var n=-1;++n<a;)e+=t*s[n],s[n]=e%o,e=Math.floor(e/o)}function e(t){for(var e=a,n=0;--e>=0;)n+=s[e],s[e]=Math.floor(n/t),n=n%t*o}function n(){for(var t=a,e="";--t>=0;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);""===e?e=n:e+="0000000".slice(0,7-n.length)+n}return e}function i(t,e,n){return 0===e?n:e%2===1?i(t,e-1,n*t):i(t*t,e/2,n)}function r(t){for(var e=0;t>=4096;)e+=12,t/=4096;for(;t>=2;)e+=1,t/=2;return e}var o,a,s;o=1e7,a=6,s=[0,0,0,0,0,0],Number.prototype.toFixed=function(o){var a,s,u,l,c,p,h,d;if(a=Number(o),a=a!==a?0:Math.floor(a),0>a||a>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(s=Number(this),s!==s)return"NaN";if(-1e21>=s||s>=1e21)return String(s);if(u="",0>s&&(u="-",s=-s),l="0",s>1e-21)if(c=r(s*i(2,69,1))-69,p=0>c?s*i(2,-c,1):s/i(2,c,1),p*=4503599627370496,c=52-c,c>0){for(t(0,p),h=a;h>=7;)t(1e7,0),h-=7;for(t(i(10,h,1),0),h=c-1;h>=23;)e(1<<23),h-=23;e(1<<h),t(1,1),e(2),l=n()}else t(0,p),t(1<<-c,0),l=n()+"0.00000000000000000000".slice(2,2+a);return a>0?(d=l.length,l=a>=d?u+"0.0000000000000000000".slice(0,a-d+2)+l:u+l.slice(0,d-a)+"."+l.slice(d-a)):l=u+l,l}}();var O=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];String.prototype.split=function(e,n){var i=this;if(void 0===e&&0===n)return[];if("[object RegExp]"!==Object.prototype.toString.call(e))return O.apply(this,arguments);var r,o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),c=0,e=new RegExp(e.source,l+"g");for(i+="",t||(r=new RegExp("^"+e.source+"$(?!\\s)",l)),n=void 0===n?-1>>>0:n>>>0;(o=e.exec(i))&&(a=o.index+o[0].length,!(a>c&&(u.push(i.slice(c,o.index)),!t&&o.length>1&&o[0].replace(r,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(o[t]=void 0)}),o.length>1&&o.index<i.length&&Array.prototype.push.apply(u,o.slice(1)),s=o[0].length,c=a,u.length>=n)));)e.lastIndex===o.index&&e.lastIndex++;return c===i.length?(s||!e.test(""))&&u.push(""):u.push(i.slice(c)),u.length>n?u.slice(0,n):u}}():"0".split(void 0,0).length&&(String.prototype.split=function(t,e){return void 0===t&&0===e?[]:O.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var T=String.prototype.substr;String.prototype.substr=function(t,e){return T.call(this,0>t&&(t=this.length+t)<0?0:t,e)}}var I="	\n\f\r \u2028\u2029";if(!String.prototype.trim||I.trim()){I="["+I+"]";var M=new RegExp("^"+I+I+"*"),j=new RegExp(I+I+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(M,"").replace(j,"")}}var N=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}})},{}],149:[function(t,e){!function(){"use strict";function t(e,n){function r(t,e){return function(){return t.apply(e,arguments)}}var o;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,u=0,l=a.length;l>u;u++)s[a[u]]=r(s[a[u]],s);i&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var n=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!n,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,o=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=r&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],r){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,n,s,u,l,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(l=t.changedTouches[0],c=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=c.tagName.toLowerCase(),"label"===s){if(e=this.findControl(c)){if(this.focus(c),i)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-n>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),r&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return r&&!o&&(u=c.fastClickScrollParent,u&&u.fastClickLastScrollTop!==u.scrollTop)?!0:(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,r,o;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof e&&e.exports?(e.exports=t.attach,e.exports.FastClick=t):window.FastClick=t}()},{}],150:[function(t,e,n){!function(t,i){"function"==typeof define&&define.amd?define([],function(){return t.returnExportsGlobal=i()}):"object"==typeof n?e.exports=i():t.Formatter=i()}(this,function(){var t=function(){var t={},e=4,n=new RegExp("{{([^}]+)}}","g"),i=function(t){for(var e,i=[];e=n.exec(t);)i.push(e);return i};return t.parse=function(t){var n={inpts:{},chars:{}},r=i(t),o=t.length,a=0,s=0,u=0,l=function(t){for(var i=t.length,r=0;i>r;r++)n.inpts[s]=t.charAt(r),s++;a++,u+=t.length+e-1};for(u;o>u;u++)a<r.length&&u===r[a].index?l(r[a][1]):n.chars[u-a*e]=t.charAt(u);return n.mLength=u-a*e,n},t}(),e=function(){{var t={};"undefined"!=typeof navigator?navigator.userAgent:null}return t.extend=function(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t},t.addChars=function(t,e,n){return t.substr(0,n)+e+t.substr(n,t.length)},t.removeChars=function(t,e,n){return t.substr(0,e)+t.substr(n,t.length)},t.isBetween=function(t,e){return e.sort(function(t,e){return t-e}),t>e[0]&&t<e[1]},t.addListener=function(t,e,n){return"undefined"!=typeof t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},t.preventDefault=function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1},t.getClip=function(t){return t.clipboardData?t.clipboardData.getData("Text"):window.clipboardData?window.clipboardData.getData("Text"):void 0},t.getMatchingKey=function(t,e,n){for(var i in n){var r=n[i];if(t===r.which&&e===r.keyCode)return i}},t.isDelKeyDown=function(e,n){var i={backspace:{which:8,keyCode:8},"delete":{which:46,keyCode:46}};return t.getMatchingKey(e,n,i)},t.isDelKeyPress=function(e,n){var i={backspace:{which:8,keyCode:8,shiftKey:!1},"delete":{which:0,keyCode:46}};return t.getMatchingKey(e,n,i)},t.isSpecialKeyPress=function(e,n){var i={tab:{which:0,keyCode:9},enter:{which:13,keyCode:13},end:{which:0,keyCode:35},home:{which:0,keyCode:36},leftarrow:{which:0,keyCode:37},uparrow:{which:0,keyCode:38},rightarrow:{which:0,keyCode:39},downarrow:{which:0,keyCode:40}};return t.getMatchingKey(e,n,i)},t.isModifier=function(t){return t.ctrlKey||t.altKey||t.metaKey},t.forEach=function(t,e,n){if(t.hasOwnProperty("length"))for(var i=0,r=t.length;r>i&&e.call(n,t[i],i,t)!==!1;i++);else for(var o in t)if(t.hasOwnProperty(o)&&e.call(n,t[o],o,t)===!1)break},t}(),n=function(t,e){function n(n){var r=[],o=[];e.forEach(n,function(n){e.forEach(n,function(e,n){var a=t.parse(e),s=i(n);return r.push(s),o.push(a),!1})});var a=function(t){var n;return e.forEach(r,function(e,i){return e.test(t)?(n=i,!1):void 0}),void 0===n?null:o[n]};return{getPattern:a,patterns:o,matchers:r}}var i=function(t){return"*"===t?/.*/:new RegExp(t)};return n}(t,e),i=function(){var t={};return t.get=function(t){if("number"==typeof t.selectionStart)return{begin:t.selectionStart,end:t.selectionEnd};var e;try{e=document.selection.createRange()}catch(n){}if(e&&e.parentElement()===t){var i=t.createTextRange(),r=t.createTextRange(),o=t.value.length;return i.moveToBookmark(e.getBookmark()),r.collapse(!1),i.compareEndPoints("StartToEnd",r)>-1?{begin:o,end:o}:{begin:-i.moveStart("character",-o),end:-i.moveEnd("character",-o)}}return{begin:0,end:0}},t.set=function(t,e){if("object"!=typeof e&&(e={begin:e,end:e}),t.setSelectionRange)t.focus(),t.setSelectionRange(e.begin,e.end);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e.end),n.moveStart("character",e.begin),n.select()}},t}(),r=function(t,e,n){function i(){var t=navigator.userAgent;if(t.match(/Android/i)){var e=t.match(/Chrome\/(\d{2})\./i);if(e&&Number(e[e.length-1])<=31)return!0}}function r(e,r){var a=this;if(a.el=e,!a.el)throw new TypeError("Must provide an existing element");if(a.opts=n.extend({},o,r),"undefined"!=typeof a.opts.pattern&&(a.opts.patterns=a._specFromSinglePattern(a.opts.pattern),delete a.opts.pattern),"undefined"==typeof a.opts.patterns)throw new TypeError("Must provide a pattern or array of patterns");a.patternMatcher=t(a.opts.patterns),a._updatePattern(),a.hldrs={},a.focus=0,n.addListener(a.el,"keydown",function(t){a._keyDown(t)}),n.addListener(a.el,"keypress",function(t){a._keyPress(t)}),i()&&n.addListener(a.el,"input",function(t){a._keyPress(t)}),n.addListener(a.el,"paste",function(t){a._paste(t)}),a.opts.persistent&&(a._processKey("",!1),a.el.blur(),n.addListener(a.el,"focus",function(t){a._focus(t)}),n.addListener(a.el,"click",function(t){a._focus(t)}),n.addListener(a.el,"touchstart",function(t){a._focus(t)}))}var o={persistent:!1,repeat:!1,placeholder:" "},a={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/};return r.addInptType=function(t,e){a[t]=e},r.prototype.resetPattern=function(n){this.opts.patterns=n?this._specFromSinglePattern(n):this.opts.patterns,this.sel=e.get(this.el),this.val=this.el.value,this.delta=0,this._removeChars(),this.patternMatcher=t(this.opts.patterns);var i=this.patternMatcher.getPattern(this.val);this.mLength=i.mLength,this.chars=i.chars,this.inpts=i.inpts,this._processKey("",!1,!0)},r.prototype._updatePattern=function(){var t=this.patternMatcher.getPattern(this.val);t&&(this.mLength=t.mLength,this.chars=t.chars,this.inpts=t.inpts)},r.prototype._keyDown=function(t){var e=t.which||t.keyCode;return e&&n.isDelKeyDown(t.which,t.keyCode)?(this._processKey(null,e),n.preventDefault(t)):void 0},r.prototype._keyPress=function(t){var e,i;return e=t.which||t.keyCode,i=n.isSpecialKeyPress(t.which,t.keyCode),n.isDelKeyPress(t.which,t.keyCode)||i||n.isModifier(t)?void 0:(this._processKey(String.fromCharCode(e),!1),n.preventDefault(t))},r.prototype._paste=function(t){return this._processKey(n.getClip(t),!1),n.preventDefault(t)},r.prototype._focus=function(){var t=this;setTimeout(function(){var n=e.get(t.el),i=n.end>t.focus,r=0===n.end;(i||r)&&e.set(t.el,t.focus)},0)},r.prototype._processKey=function(t,i,r){if(this.sel=e.get(this.el),this.val=this.el.value,this.delta=0,this.sel.begin!==this.sel.end)this.delta=-1*Math.abs(this.sel.begin-this.sel.end),this.val=n.removeChars(this.val,this.sel.begin,this.sel.end);else if(i&&46===i)this._delete();else if(i&&this.sel.begin-1>=0)this.val=n.removeChars(this.val,this.sel.end-1,this.sel.end),this.delta-=1;else if(i)return!0;i||(this.val=n.addChars(this.val,t,this.sel.begin),this.delta+=t.length),this._formatValue(r)},r.prototype._delete=function(){for(;this.chars[this.sel.begin];)this._nextPos();this.sel.begin<this.val.length&&(this._nextPos(),this.val=n.removeChars(this.val,this.sel.end-1,this.sel.end),this.delta=-1)},r.prototype._nextPos=function(){this.sel.end++,this.sel.begin++},r.prototype._formatValue=function(t){this.newPos=this.sel.end+this.delta,this._removeChars(),this._updatePattern(),this._validateInpts(),this._addChars(),this.el.value=this.val.substr(0,this.mLength),("undefined"==typeof t||t===!1)&&e.set(this.el,this.newPos)},r.prototype._removeChars=function(){this.sel.end>this.focus&&(this.delta+=this.sel.end-this.focus);for(var t=0,e=0;e<=this.mLength;e++){var i,r=this.chars[e],o=this.hldrs[e],a=e+t;a=e>=this.sel.begin?a+this.delta:a,i=this.val.charAt(a),(r&&r===i||o&&o===i)&&(this.val=n.removeChars(this.val,a,a+1),t--)}this.hldrs={},this.focus=this.val.length},r.prototype._validateInpts=function(){for(var t=0;t<this.val.length;t++){var e=this.inpts[t],i=!a[e],r=!i&&!a[e].test(this.val.charAt(t)),o=this.inpts[t];(i||r)&&o&&(this.val=n.removeChars(this.val,t,t+1),this.focusStart--,this.newPos--,this.delta--,t--)}},r.prototype._addChars=function(){if(this.opts.persistent){for(var t=0;t<=this.mLength;t++)this.val.charAt(t)||(this.val=n.addChars(this.val,this.opts.placeholder,t),this.hldrs[t]=this.opts.placeholder),this._addChar(t);for(;this.chars[this.focus];)this.focus++}else for(var e=0;e<=this.val.length;e++){if(this.delta<=0&&e===this.focus)return!0;this._addChar(e)}},r.prototype._addChar=function(t){var e=this.chars[t];return e?(n.isBetween(t,[this.sel.begin-1,this.newPos+1])&&(this.newPos++,this.delta++),t<=this.focus&&this.focus++,this.hldrs[t]&&(delete this.hldrs[t],this.hldrs[t+1]=this.opts.placeholder),void(this.val=n.addChars(this.val,e,t))):!0},r.prototype._specFromSinglePattern=function(t){return[{"*":t}]},r}(n,i,e);return r})},{}],151:[function(t,e,n){"use strict";var i=t("./handlebars/base"),r=t("./handlebars/safe-string")["default"],o=t("./handlebars/exception")["default"],a=t("./handlebars/utils"),s=t("./handlebars/runtime"),u=function(){var t=new i.HandlebarsEnvironment;return a.extend(t,i),t.SafeString=r,t.Exception=o,t.Utils=a,t.escapeExpression=a.escapeExpression,t.VM=s,t.template=function(e){return s.template(e,t)},t},l=u();l.create=u,l["default"]=l,n["default"]=l},{"./handlebars/base":152,"./handlebars/exception":153,"./handlebars/runtime":154,"./handlebars/safe-string":155,"./handlebars/utils":156}],152:[function(t,e,n){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new a("Missing helper: '"+arguments[arguments.length-1].name+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,r=n.fn;if(e===!0)return r(this);if(e===!1||null==e)return i(this);if(c(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=v(n.data);a.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:a}}return r(e,n)}),t.registerHelper("each",function(t,e){if(!e)throw new a("Must pass iterator to #each");var n,i,r=e.fn,s=e.inverse,u=0,l="";if(e.data&&e.ids&&(i=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),p(t)&&(t=t.call(this)),e.data&&(n=v(e.data)),t&&"object"==typeof t)if(c(t))for(var h=t.length;h>u;u++)n&&(n.index=u,n.first=0===u,n.last=u===t.length-1,i&&(n.contextPath=i+u)),l+=r(t[u],{data:n});else for(var d in t)t.hasOwnProperty(d)&&(n&&(n.key=d,n.index=u,n.first=0===u,i&&(n.contextPath=i+d)),l+=r(t[d],{data:n}),u++);return 0===u&&(l=s(this)),l}),t.registerHelper("if",function(t,e){return p(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){p(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=v(e.data);i.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}var o=t("./utils"),a=t("./exception")["default"],s="2.0.0";n.VERSION=s;var u=6;n.COMPILER_REVISION=u;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=l;var c=o.isArray,p=o.isFunction,h=o.toString,d="[object Object]";n.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:f,log:m,registerHelper:function(t,e){if(h.call(t)===d){if(e)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){h.call(t)===d?o.extend(this.partials,t):this.partials[t]=e},unregisterPartial:function(t){delete this.partials[t]}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(f.level<=t){var n=f.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};n.logger=f;var m=f.log;n.log=m;var v=function(t){var e=o.extend({},t);return e._parent=t,e};n.createFrame=v},{"./exception":153,"./utils":156}],153:[function(t,e,n){"use strict";function i(t,e){var n;e&&e.firstLine&&(n=e.firstLine,t+=" - "+n+":"+e.firstColumn);for(var i=Error.prototype.constructor.call(this,t),o=0;o<r.length;o++)this[r[o]]=i[r[o]];n&&(this.lineNumber=n,this.column=e.firstColumn)}var r=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,n["default"]=i},{}],154:[function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=p;if(e!==n){if(n>e){var i=h[n],r=h[e];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new c("No environment passed to template");if(!t||!t.main)throw new c("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var n=function(n,i,r,o,a,s,u,p,h){a&&(o=l.extend({},o,a));var d=e.VM.invokePartial.call(this,n,r,o,s,u,p,h);if(null==d&&e.compile){var f={helpers:s,partials:u,data:p,depths:h};u[r]=e.compile(n,{data:void 0!==p,compat:t.compat},e),d=u[r](o,f)}if(null!=d){if(i){for(var m=d.split("\n"),v=0,y=m.length;y>v&&(m[v]||v+1!==y);v++)m[v]=i+m[v];d=m.join("\n")}return d}throw new c("The partial "+r+" could not be compiled when running in runtime-only mode")},i={lookup:function(t,e){for(var n=t.length,i=0;n>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:l.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e,n){var i=this.programs[t],r=this.fn(t);return e||n?i=o(this,t,r,e,n):i||(i=this.programs[t]=o(this,t,r)),i},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=l.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler},r=function(e,n){n=n||{};var o=n.data;r._setup(n),!n.partial&&t.useData&&(o=u(e,o));var a;return t.useDepths&&(a=n.depths?[e].concat(n.depths):[e]),t.main.call(i,e,i.helpers,i.partials,o,a)};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)))},r._child=function(e,n,r){if(t.useDepths&&!r)throw new c("must pass parent depths");return o(i,e,t[e],n,r)},r}function o(t,e,n,i,r){var o=function(e,o){return o=o||{},n.call(t,e,t.helpers,t.partials,o.data||i,r&&[e].concat(r))};return o.program=e,o.depth=r?r.length:0,o}function a(t,e,n,i,r,o,a){var s={partial:!0,helpers:i,partials:r,data:o,depths:a};if(void 0===t)throw new c("The partial "+e+" could not be found");return t instanceof Function?t(n,s):void 0}function s(){return""}function u(t,e){return e&&"root"in e||(e=e?d(e):{},e.root=t),e}var l=t("./utils"),c=t("./exception")["default"],p=t("./base").COMPILER_REVISION,h=t("./base").REVISION_CHANGES,d=t("./base").createFrame;n.checkRevision=i,n.template=r,n.program=o,n.invokePartial=a,n.noop=s},{"./base":152,"./exception":153,"./utils":156}],155:[function(t,e,n){"use strict";function i(t){this.string=t}i.prototype.toString=function(){return""+this.string},n["default"]=i},{}],156:[function(t,e,n){"use strict";function i(t){return l[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function o(t){return t instanceof u?t.toString():null==t?"":t?(t=""+t,p.test(t)?t.replace(c,i):t):t+""}function a(t){return t||0===t?f(t)&&0===t.length?!0:!1:!0}function s(t,e){return(t?t+".":"")+e}var u=t("./safe-string")["default"],l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,p=/[&<>"'`]/;n.extend=r;var h=Object.prototype.toString;n.toString=h;var d=function(t){return"function"==typeof t};d(/x/)&&(d=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)});var d;n.isFunction=d;var f=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===h.call(t):!1};n.isArray=f,n.escapeExpression=o,n.isEmpty=a,n.appendContextPath=s},{"./safe-string":155}],157:[function(t,e){e.exports=t("./dist/cjs/handlebars.runtime")},{"./dist/cjs/handlebars.runtime":151}],158:[function(t,e){e.exports=t("handlebars/runtime")["default"]},{"handlebars/runtime":157}],159:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],160:[function(t,e){(function(n){__browserify_shim_require__=t,function(t,e,i,r,o){(function(){function i(t,e,n){for(var i=(n||0)-1,r=t?t.length:0;++i<r;)if(t[i]===e)return i;return-1}function o(t,e){var n=typeof e;if(t=t.cache,"boolean"==n||null==e)return t[e]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:x+e;return t=(t=t[n])&&t[r],"object"==n?t&&i(t,e)>-1?0:-1:t?0:-1}function a(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:x+t,r=e[n]||(e[n]={});"object"==n?(r[i]||(r[i]=[])).push(t):r[i]=!0}}function s(t){return t.charCodeAt(0)}function u(t,e){for(var n=t.criteria,i=e.criteria,r=-1,o=n.length;++r<o;){var a=n[r],s=i[r];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return t.index-e.index}function l(t){var e=-1,n=t.length,i=t[0],r=t[n/2|0],o=t[n-1];if(i&&"object"==typeof i&&r&&"object"==typeof r&&o&&"object"==typeof o)return!1;var s=h();s["false"]=s["null"]=s["true"]=s.undefined=!1;var u=h();for(u.array=t,u.cache=s,u.push=a;++e<n;)u.push(t[e]);return u}function c(t){return"\\"+ie[t]}function p(){return b.pop()||[]}function h(){return w.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function d(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function f(t){t.length=0,b.length<S&&b.push(t)}function m(t){var e=t.cache;e&&m(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,w.length<S&&w.push(t)}function v(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,r=n-e||0,o=Array(0>r?0:r);++i<r;)o[i]=t[e+i];return o}function y(t){function e(t){return t&&"object"==typeof t&&!pr(t)&&Bi.call(t,"__wrapped__")?t:new n(t)}function n(t,e){this.__chain__=!!e,this.__wrapped__=t}function r(t){function e(){if(i){var t=v(i);qi.apply(t,arguments)}if(this instanceof e){var o=b(n.prototype),a=n.apply(o,t||arguments);return Fe(a)?a:o}return n.apply(r,t||arguments)}var n=t[0],i=t[2],r=t[4];return cr(e,t),e}function a(t,e,n,i,r){if(n){var o=n(t);if("undefined"!=typeof o)return o}var s=Fe(t);if(!s)return t;var u=Fi.call(t);if(!X[u]||!ur.nodeClass&&d(t))return t;var l=ar[u];switch(u){case B:case q:return new l(+t);case K:case Y:return new l(t);case G:return o=l(t.source,M.exec(t)),o.lastIndex=t.lastIndex,o}var c=pr(t);if(e){var h=!i;i||(i=p()),r||(r=p());for(var m=i.length;m--;)if(i[m]==t)return r[m];o=c?l(t.length):{}}else o=c?v(t):Cr({},t);return c&&(Bi.call(t,"index")&&(o.index=t.index),Bi.call(t,"input")&&(o.input=t.input)),e?(i.push(t),r.push(o),(c?_r:Er)(t,function(t,s){o[s]=a(t,e,n,i,r)}),h&&(f(i),f(r)),o):o}function b(t){return Fe(t)?Yi(t):{}}function w(t,e,n){if("function"!=typeof t)return oi;if("undefined"==typeof e||!("prototype"in t))return t;var i=t.__bindData__;if("undefined"==typeof i&&(ur.funcNames&&(i=!t.name),i=i||!ur.funcDecomp,!i)){var r=$i.call(t);ur.funcNames||(i=!j.test(r)),i||(i=F.test(r),cr(t,i))}if(i===!1||i!==!0&&1&i[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return $n(t,e)}function S(t){function e(){var t=u?a:this;if(r){var d=v(r);qi.apply(d,arguments)}if((o||c)&&(d||(d=v(arguments)),o&&qi.apply(d,o),c&&d.length<s))return i|=16,S([n,p?i:-4&i,d,null,a,s]);if(d||(d=arguments),l&&(n=t[h]),this instanceof e){t=b(n.prototype);var f=n.apply(t,d);return Fe(f)?f:t}return n.apply(t,d)}var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],u=1&i,l=2&i,c=4&i,p=8&i,h=n;return cr(e,t),e}function ie(t,e){var n=-1,r=me(),a=t?t.length:0,s=a>=E&&r===i,u=[];if(s){var c=l(e);c?(r=o,e=c):s=!1}for(;++n<a;){var p=t[n];r(e,p)<0&&u.push(p)}return s&&m(e),u}function oe(t,e,n,i){for(var r=(i||0)-1,o=t?t.length:0,a=[];++r<o;){var s=t[r];if(s&&"object"==typeof s&&"number"==typeof s.length&&(pr(s)||be(s))){e||(s=oe(s,e,n));var u=-1,l=s.length,c=a.length;for(a.length+=l;++u<l;)a[c++]=s[u]}else n||a.push(s)}return a}function ae(t,e,n,i,r,o){if(n){var a=n(t,e);if("undefined"!=typeof a)return!!a}if(t===e)return 0!==t||1/t==1/e;var s=typeof t,u=typeof e;if(!(t!==t||t&&ne[s]||e&&ne[u]))return!1;
if(null==t||null==e)return t===e;var l=Fi.call(t),c=Fi.call(e);if(l==$&&(l=Q),c==$&&(c=Q),l!=c)return!1;switch(l){case B:case q:return+t==+e;case K:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case G:case Y:return t==Ti(e)}var h=l==H;if(!h){var m=Bi.call(t,"__wrapped__"),v=Bi.call(e,"__wrapped__");if(m||v)return ae(m?t.__wrapped__:t,v?e.__wrapped__:e,n,i,r,o);if(l!=Q||!ur.nodeClass&&(d(t)||d(e)))return!1;var y=!ur.argsObject&&be(t)?Ai:t.constructor,g=!ur.argsObject&&be(e)?Ai:e.constructor;if(y!=g&&!(Ue(y)&&y instanceof y&&Ue(g)&&g instanceof g)&&"constructor"in t&&"constructor"in e)return!1}var b=!r;r||(r=p()),o||(o=p());for(var w=r.length;w--;)if(r[w]==t)return o[w]==e;var _=0;if(a=!0,r.push(t),o.push(e),h){if(w=t.length,_=e.length,a=_==w,a||i)for(;_--;){var C=w,x=e[_];if(i)for(;C--&&!(a=ae(t[C],x,n,i,r,o)););else if(!(a=ae(t[_],x,n,i,r,o)))break}}else kr(e,function(e,s,u){return Bi.call(u,s)?(_++,a=Bi.call(t,s)&&ae(t[s],e,n,i,r,o)):void 0}),a&&!i&&kr(t,function(t,e,n){return Bi.call(n,e)?a=--_>-1:void 0});return r.pop(),o.pop(),b&&(f(r),f(o)),a}function se(t,e,n,i,r){(pr(e)?rn:Er)(e,function(e,o){var a,s,u=e,l=t[o];if(e&&((s=pr(e))||Sr(e))){for(var c=i.length;c--;)if(a=i[c]==e){l=r[c];break}if(!a){var p;n&&(u=n(l,e),(p="undefined"!=typeof u)&&(l=u)),p||(l=s?pr(l)?l:[]:Sr(l)?l:{}),i.push(e),r.push(l),p||se(l,e,n,i,r)}}else n&&(u=n(l,e),"undefined"==typeof u&&(u=e)),"undefined"!=typeof u&&(l=u);t[o]=l})}function ue(t,e){return t+zi(or()*(e-t+1))}function ce(t,e,n){var r=-1,a=me(),s=t?t.length:0,u=[],c=!e&&s>=E&&a===i,h=n||c?p():u;if(c){var d=l(h);a=o,h=d}for(;++r<s;){var v=t[r],y=n?n(v,r,t):v;(e?!r||h[h.length-1]!==y:a(h,y)<0)&&((n||c)&&h.push(y),u.push(v))}return c?(f(h.array),m(h)):n&&f(h),u}function pe(t){return function(n,i,r){var o={};if(i=e.createCallback(i,r,3),pr(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];t(o,u,i(u,a,n),n)}else _r(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function he(t,e,n,i,o,a){var s=1&e,u=2&e,l=4&e,c=16&e,p=32&e;if(!u&&!Ue(t))throw new Ii;c&&!n.length&&(e&=-17,c=n=!1),p&&!i.length&&(e&=-33,p=i=!1);var h=t&&t.__bindData__;if(h&&h!==!0)return h=v(h),h[2]&&(h[2]=v(h[2])),h[3]&&(h[3]=v(h[3])),!s||1&h[1]||(h[4]=o),!s&&1&h[1]&&(e|=8),!l||4&h[1]||(h[5]=a),c&&qi.apply(h[2]||(h[2]=[]),n),p&&Qi.apply(h[3]||(h[3]=[]),i),h[1]|=e,he.apply(null,h);var d=1==e||17===e?r:S;return d([t,e,n,i,o,a])}function de(){ee.shadowedProps=V,ee.array=ee.bottom=ee.loop=ee.top="",ee.init="iterable",ee.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var n in t)ee[n]=t[n];var i=ee.args;ee.firstArg=/^[^,]+/.exec(i)[0];var r=Ei("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+i+") {\n"+lr(ee)+"\n}");return r(w,W,ji,Bi,C,be,pr,$e,ee.keys,Ni,ne,sr,Y,Ri,Fi)}function fe(t){return yr[t]}function me(){var t=(t=e.indexOf)===En?i:t;return t}function ve(t){return"function"==typeof t&&Li.test(t)}function ye(t){var e,n;return!t||Fi.call(t)!=Q||(e=t.constructor,Ue(e)&&!(e instanceof e))||!ur.argsClass&&be(t)||!ur.nodeClass&&d(t)?!1:ur.ownLast?(kr(t,function(t,e,i){return n=Bi.call(i,e),!1}),n!==!1):(kr(t,function(t,e){n=e}),"undefined"==typeof n||Bi.call(t,n))}function ge(t){return gr[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fi.call(t)==$||!1}function we(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n=e,e=!1),a(t,e,"function"==typeof n&&w(n,i,1))}function _e(t,e,n){return a(t,!0,"function"==typeof e&&w(e,n,1))}function Ce(t,e){var n=b(t);return e?Cr(n,e):n}function xe(t,n,i){var r;return n=e.createCallback(n,i,3),Er(t,function(t,e,i){return n(t,e,i)?(r=e,!1):void 0}),r}function ke(t,n,i){var r;return n=e.createCallback(n,i,3),Se(t,function(t,e,i){return n(t,e,i)?(r=e,!1):void 0}),r}function Ee(t,e,n){var i=[];kr(t,function(t,e){i.push(e,t)});var r=i.length;for(e=w(e,n,3);r--&&e(i[r--],i[r],t)!==!1;);return t}function Se(t,e,n){var i=dr(t),r=i.length;for(e=w(e,n,3);r--;){var o=i[r];if(e(t[o],o,t)===!1)break}return t}function Pe(t){var e=[];return kr(t,function(t,n){Ue(t)&&e.push(n)}),e.sort()}function Ae(t,e){return t?Bi.call(t,e):!1}function Oe(t){for(var e=-1,n=dr(t),i=n.length,r={};++e<i;){var o=n[e];r[t[o]]=o}return r}function Te(t){return t===!0||t===!1||t&&"object"==typeof t&&Fi.call(t)==B||!1}function Ie(t){return t&&"object"==typeof t&&Fi.call(t)==q||!1}function Me(t){return t&&1===t.nodeType||!1}function je(t){var e=!0;if(!t)return e;var n=Fi.call(t),i=t.length;return n==H||n==Y||(ur.argsClass?n==$:be(t))||n==Q&&"number"==typeof i&&Ue(t.splice)?!i:(Er(t,function(){return e=!1}),e)}function Ne(t,e,n,i){return ae(t,e,"function"==typeof n&&w(n,i,2))}function Re(t){return Zi(t)&&!tr(parseFloat(t))}function Ue(t){return"function"==typeof t}function Fe(t){return!(!t||!ne[typeof t])}function Le(t){return Ve(t)&&t!=+t}function De(t){return null===t}function Ve(t){return"number"==typeof t||t&&"object"==typeof t&&Fi.call(t)==K||!1}function ze(t){return t&&ne[typeof t]&&Fi.call(t)==G||!1}function $e(t){return"string"==typeof t||t&&"object"==typeof t&&Fi.call(t)==Y||!1}function He(t){return"undefined"==typeof t}function Be(t,n,i){var r={};return n=e.createCallback(n,i,3),Er(t,function(t,e,i){r[e]=n(t,e,i)}),r}function qe(t){var e=arguments,n=2;if(!Fe(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var i=w(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(i=e[--n]);for(var r=v(arguments,1,n),o=-1,a=p(),s=p();++o<n;)se(t,r[o],i,a,s);return f(a),f(s),t}function We(t,n,i){var r={};if("function"!=typeof n){var o=[];kr(t,function(t,e){o.push(e)}),o=ie(o,oe(arguments,!0,!1,1));for(var a=-1,s=o.length;++a<s;){var u=o[a];r[u]=t[u]}}else n=e.createCallback(n,i,3),kr(t,function(t,e,i){n(t,e,i)||(r[e]=t)});return r}function Je(t){for(var e=-1,n=dr(t),i=n.length,r=_i(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function Ke(t,n,i){var r={};if("function"!=typeof n)for(var o=-1,a=oe(arguments,!0,!1,1),s=Fe(t)?a.length:0;++o<s;){var u=a[o];u in t&&(r[u]=t[u])}else n=e.createCallback(n,i,3),kr(t,function(t,e,i){n(t,e,i)&&(r[e]=t)});return r}function Qe(t,n,i,r){var o=pr(t);if(null==i)if(o)i=[];else{var a=t&&t.constructor,s=a&&a.prototype;i=b(s)}return n&&(n=e.createCallback(n,r,4),(o?_r:Er)(t,function(t,e,r){return n(i,t,e,r)})),i}function Ge(t){for(var e=-1,n=dr(t),i=n.length,r=_i(i);++e<i;)r[e]=t[n[e]];return r}function Ye(t){var e=arguments,n=-1,i=oe(e,!0,!1,1),r=e[2]&&e[2][e[1]]===t?1:i.length,o=_i(r);for(ur.unindexedChars&&$e(t)&&(t=t.split(""));++n<r;)o[n]=t[i[n]];return o}function Xe(t,e,n){var i=-1,r=me(),o=t?t.length:0,a=!1;return n=(0>n?nr(0,o+n):n)||0,pr(t)?a=r(t,e,n)>-1:"number"==typeof o?a=($e(t)?t.indexOf(e,n):r(t,e,n))>-1:_r(t,function(t){return++i>=n?!(a=t===e):void 0}),a}function Ze(t,n,i){var r=!0;if(n=e.createCallback(n,i,3),pr(t))for(var o=-1,a=t.length;++o<a&&(r=!!n(t[o],o,t)););else _r(t,function(t,e,i){return r=!!n(t,e,i)});return r}function tn(t,n,i){var r=[];if(n=e.createCallback(n,i,3),pr(t))for(var o=-1,a=t.length;++o<a;){var s=t[o];n(s,o,t)&&r.push(s)}else _r(t,function(t,e,i){n(t,e,i)&&r.push(t)});return r}function en(t,n,i){if(n=e.createCallback(n,i,3),!pr(t)){var r;return _r(t,function(t,e,i){return n(t,e,i)?(r=t,!1):void 0}),r}for(var o=-1,a=t.length;++o<a;){var s=t[o];if(n(s,o,t))return s}}function nn(t,n,i){var r;return n=e.createCallback(n,i,3),on(t,function(t,e,i){return n(t,e,i)?(r=t,!1):void 0}),r}function rn(t,e,n){if(e&&"undefined"==typeof n&&pr(t))for(var i=-1,r=t.length;++i<r&&e(t[i],i,t)!==!1;);else _r(t,e,n);return t}function on(t,e,n){var i=t,r=t?t.length:0;if(e=e&&"undefined"==typeof n?e:w(e,n,3),pr(t))for(;r--&&e(t[r],r,t)!==!1;);else{if("number"!=typeof r){var o=dr(t);r=o.length}else ur.unindexedChars&&$e(t)&&(i=t.split(""));_r(t,function(t,n,a){return n=o?o[--r]:--r,e(i[n],n,a)})}return t}function an(t,e){var n=v(arguments,2),i=-1,r="function"==typeof e,o=t?t.length:0,a=_i("number"==typeof o?o:0);return rn(t,function(t){a[++i]=(r?e:t[e]).apply(t,n)}),a}function sn(t,n,i){var r=-1,o=t?t.length:0,a=_i("number"==typeof o?o:0);if(n=e.createCallback(n,i,3),pr(t))for(;++r<o;)a[r]=n(t[r],r,t);else _r(t,function(t,e,i){a[++r]=n(t,e,i)});return a}function un(t,n,i){var r=-1/0,o=r;if("function"!=typeof n&&i&&i[n]===t&&(n=null),null==n&&pr(t))for(var a=-1,u=t.length;++a<u;){var l=t[a];l>o&&(o=l)}else n=null==n&&$e(t)?s:e.createCallback(n,i,3),_r(t,function(t,e,i){var a=n(t,e,i);a>r&&(r=a,o=t)});return o}function ln(t,n,i){var r=1/0,o=r;if("function"!=typeof n&&i&&i[n]===t&&(n=null),null==n&&pr(t))for(var a=-1,u=t.length;++a<u;){var l=t[a];o>l&&(o=l)}else n=null==n&&$e(t)?s:e.createCallback(n,i,3),_r(t,function(t,e,i){var a=n(t,e,i);r>a&&(r=a,o=t)});return o}function cn(t,n,i,r){var o=arguments.length<3;if(n=e.createCallback(n,r,4),pr(t)){var a=-1,s=t.length;for(o&&(i=t[++a]);++a<s;)i=n(i,t[a],a,t)}else _r(t,function(t,e,r){i=o?(o=!1,t):n(i,t,e,r)});return i}function pn(t,n,i,r){var o=arguments.length<3;return n=e.createCallback(n,r,4),on(t,function(t,e,r){i=o?(o=!1,t):n(i,t,e,r)}),i}function hn(t,n,i){return n=e.createCallback(n,i,3),tn(t,function(t,e,i){return!n(t,e,i)})}function dn(t,e,n){if(t&&"number"!=typeof t.length?t=Ge(t):ur.unindexedChars&&$e(t)&&(t=t.split("")),null==e||n)return t?t[ue(0,t.length-1)]:g;var i=fn(t);return i.length=ir(nr(0,e),i.length),i}function fn(t){var e=-1,n=t?t.length:0,i=_i("number"==typeof n?n:0);return rn(t,function(t){var n=ue(0,++e);i[e]=i[n],i[n]=t}),i}function mn(t){var e=t?t.length:0;return"number"==typeof e?e:dr(t).length}function vn(t,n,i){var r;if(n=e.createCallback(n,i,3),pr(t))for(var o=-1,a=t.length;++o<a&&!(r=n(t[o],o,t)););else _r(t,function(t,e,i){return!(r=n(t,e,i))});return!!r}function yn(t,n,i){var r=-1,o=pr(n),a=t?t.length:0,s=_i("number"==typeof a?a:0);for(o||(n=e.createCallback(n,i,3)),rn(t,function(t,e,i){var a=s[++r]=h();o?a.criteria=sn(n,function(e){return t[e]}):(a.criteria=p())[0]=n(t,e,i),a.index=r,a.value=t}),a=s.length,s.sort(u);a--;){var l=s[a];s[a]=l.value,o||f(l.criteria),m(l)}return s}function gn(t){return t&&"number"==typeof t.length?ur.unindexedChars&&$e(t)?t.split(""):v(t):Ge(t)}function bn(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i}function wn(t){return ie(t,oe(arguments,!0,!0,1))}function _n(t,n,i){var r=-1,o=t?t.length:0;for(n=e.createCallback(n,i,3);++r<o;)if(n(t[r],r,t))return r;return-1}function Cn(t,n,i){var r=t?t.length:0;for(n=e.createCallback(n,i,3);r--;)if(n(t[r],r,t))return r;return-1}function xn(t,n,i){var r=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var a=-1;for(n=e.createCallback(n,i,3);++a<o&&n(t[a],a,t);)r++}else if(r=n,null==r||i)return t?t[0]:g;return v(t,0,ir(nr(0,r),o))}function kn(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(t=sn(t,n,i)),oe(t,e)}function En(t,e,n){if("number"==typeof n){var r=t?t.length:0;n=0>n?nr(0,r+n):n||0}else if(n){var o=Nn(t,e);return t[o]===e?o:-1}return i(t,e,n)}function Sn(t,n,i){var r=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var a=o;for(n=e.createCallback(n,i,3);a--&&n(t[a],a,t);)r++}else r=null==n||i?1:n||r;return v(t,0,ir(nr(0,o-r),o))}function Pn(){for(var t=[],e=-1,n=arguments.length,r=p(),a=me(),s=a===i,u=p();++e<n;){var c=arguments[e];(pr(c)||be(c))&&(t.push(c),r.push(s&&c.length>=E&&l(e?t[e]:u)))}var h=t[0],d=-1,v=h?h.length:0,y=[];t:for(;++d<v;){var g=r[0];if(c=h[d],(g?o(g,c):a(u,c))<0){for(e=n,(g||u).push(c);--e;)if(g=r[e],(g?o(g,c):a(t[e],c))<0)continue t;y.push(c)}}for(;n--;)g=r[n],g&&m(g);return f(r),f(u),y}function An(t,n,i){var r=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var a=o;for(n=e.createCallback(n,i,3);a--&&n(t[a],a,t);)r++}else if(r=n,null==r||i)return t?t[o-1]:g;return v(t,nr(0,o-r))}function On(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?nr(0,i+n):ir(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function Tn(t){for(var e=arguments,n=0,i=e.length,r=t?t.length:0;++n<i;)for(var o=-1,a=e[n];++o<r;)t[o]===a&&(Ki.call(t,o--,1),r--);return t}function In(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var i=-1,r=nr(0,Di((e-t)/(n||1))),o=_i(r);++i<r;)o[i]=t,t+=n;return o}function Mn(t,n,i){var r=-1,o=t?t.length:0,a=[];for(n=e.createCallback(n,i,3);++r<o;){var s=t[r];n(s,r,t)&&(a.push(s),Ki.call(t,r--,1),o--)}return a}function jn(t,n,i){if("number"!=typeof n&&null!=n){var r=0,o=-1,a=t?t.length:0;for(n=e.createCallback(n,i,3);++o<a&&n(t[o],o,t);)r++}else r=null==n||i?1:nr(0,n);return v(t,r)}function Nn(t,n,i,r){var o=0,a=t?t.length:o;for(i=i?e.createCallback(i,r,1):oi,n=i(n);a>o;){var s=o+a>>>1;i(t[s])<n?o=s+1:a=s}return o}function Rn(){return ce(oe(arguments,!0,!0))}function Un(t,n,i,r){return"boolean"!=typeof n&&null!=n&&(r=i,i="function"!=typeof n&&r&&r[n]===t?null:n,n=!1),null!=i&&(i=e.createCallback(i,r,3)),ce(t,n,i)}function Fn(t){return ie(t,v(arguments,1))}function Ln(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(pr(n)||be(n))var i=i?ce(ie(i,n).concat(ie(n,i))):n}return i||[]}function Dn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?un(Tr(t,"length")):0,i=_i(0>n?0:n);++e<n;)i[e]=Tr(t,e);return i}function Vn(t,e){var n=-1,i=t?t.length:0,r={};for(e||!i||pr(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function zn(t,e){if(!Ue(e))throw new Ii;return function(){return--t<1?e.apply(this,arguments):void 0}}function $n(t,e){return arguments.length>2?he(t,17,v(arguments,2),null,e):he(t,1,null,null,e)}function Hn(t){for(var e=arguments.length>1?oe(arguments,!0,!1,1):Pe(t),n=-1,i=e.length;++n<i;){var r=e[n];t[r]=he(t[r],1,null,null,t)}return t}function Bn(t,e){return arguments.length>2?he(e,19,v(arguments,2),null,t):he(e,3,null,null,t)}function qn(){for(var t=arguments,e=t.length;e--;)if(!Ue(t[e]))throw new Ii;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Wn(t,e){return e="number"==typeof e?e:+e||t.length,he(t,4,null,null,null,e)}function Jn(t,e,n){var i,r,o,a,s,u,l,c=0,p=!1,h=!0;if(!Ue(t))throw new Ii;if(e=nr(0,e)||0,n===!0){var d=!0;h=!1}else Fe(n)&&(d=n.leading,p="maxWait"in n&&(nr(e,n.maxWait)||0),h="trailing"in n?n.trailing:h);var f=function(){var n=e-(Mr()-a);if(0>=n){r&&Vi(r);var p=l;r=u=l=g,p&&(c=Mr(),o=t.apply(s,i),u||r||(i=s=null))}else u=Ji(f,n)},m=function(){u&&Vi(u),r=u=l=g,(h||p!==e)&&(c=Mr(),o=t.apply(s,i),u||r||(i=s=null))};return function(){if(i=arguments,a=Mr(),s=this,l=h&&(u||!d),p===!1)var n=d&&!u;else{r||d||(c=a);var v=p-(a-c),y=0>=v;y?(r&&(r=Vi(r)),c=a,o=t.apply(s,i)):r||(r=Ji(m,v))}return y&&u?u=Vi(u):u||e===p||(u=Ji(f,e)),n&&(y=!0,o=t.apply(s,i)),!y||u||r||(i=s=null),o}}function Kn(t){if(!Ue(t))throw new Ii;var e=v(arguments,1);return Ji(function(){t.apply(g,e)},1)}function Qn(t,e){if(!Ue(t))throw new Ii;var n=v(arguments,2);return Ji(function(){t.apply(g,n)},e)}function Gn(t,e){if(!Ue(t))throw new Ii;var n=function(){var i=n.cache,r=e?e.apply(this,arguments):x+arguments[0];return Bi.call(i,r)?i[r]:i[r]=t.apply(this,arguments)};return n.cache={},n}function Yn(t){var e,n;if(!Ue(t))throw new Ii;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Xn(t){return he(t,16,v(arguments,1))}function Zn(t){return he(t,32,null,v(arguments,1))}function ti(t,e,n){var i=!0,r=!0;if(!Ue(t))throw new Ii;return n===!1?i=!1:Fe(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),Z.leading=i,Z.maxWait=e,Z.trailing=r,Jn(t,e,Z)}function ei(t,e){return he(e,16,[t])}function ni(t){return function(){return t}}function ii(t,e,n){var i=typeof t;if(null==t||"function"==i)return w(t,e,n);if("object"!=i)return li(t);var r=dr(t),o=r[0],a=t[o];return 1!=r.length||a!==a||Fe(a)?function(e){for(var n=r.length,i=!1;n--&&(i=ae(e[r[n]],t[r[n]],null,!0)););return i}:function(t){var e=t[o];return a===e&&(0!==a||1/a==1/e)}}function ri(t){return null==t?"":Ti(t).replace(wr,fe)}function oi(t){return t}function ai(t,i,r){var o=!0,a=i&&Pe(i);i&&(r||a.length)||(null==r&&(r=i),s=n,i=t,t=e,a=Pe(i)),r===!1?o=!1:Fe(r)&&"chain"in r&&(o=r.chain);var s=t,u=Ue(s);rn(a,function(e){var n=t[e]=i[e];u&&(s.prototype[e]=function(){var e=this.__chain__,i=this.__wrapped__,r=[i];qi.apply(r,arguments);var a=n.apply(t,r);if(o||e){if(i===a&&Fe(a))return this;a=new s(a),a.__chain__=e}return a})})}function si(){return t._=Ui,this}function ui(){}function li(t){return function(e){return e[t]}}function ci(t,e,n){var i=null==t,r=null==e;if(null==n&&("boolean"==typeof t&&r?(n=t,t=1):r||"boolean"!=typeof e||(n=e,r=!0)),i&&r&&(e=1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=or();return ir(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return ue(t,e)}function pi(t,e){if(t){var n=t[e];return Ue(n)?t[e]():n}}function hi(t,n,i){var r=e.templateSettings;t=Ti(t||""),i=xr({},i,r);var o,a=xr({},i.imports,r.imports),s=dr(a),u=Ge(a),l=0,p=i.interpolate||U,h="__p += '",d=Oi((i.escape||U).source+"|"+p.source+"|"+(p===N?I:U).source+"|"+(i.evaluate||U).source+"|$","g");t.replace(d,function(e,n,i,r,a,s){return i||(i=r),h+=t.slice(l,s).replace(L,c),n&&(h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),h+="';\n";var f=i.variable,m=f;m||(f="obj",h="with ("+f+") {\n"+h+"\n}\n"),h=(o?h.replace(A,""):h).replace(O,"$1").replace(T,"$1;"),h="function("+f+") {\n"+(m?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v="\n/*\n//# sourceURL="+(i.sourceURL||"/lodash/template/source["+z++ +"]")+"\n*/";try{var y=Ei(s,"return "+h+v).apply(g,u)}catch(b){throw b.source=h,b}return n?y(n):(y.source=h,y)}function di(t,e,n){t=(t=+t)>-1?t:0;var i=-1,r=_i(t);for(e=w(e,n,1);++i<t;)r[i]=e(i);return r}function fi(t){return null==t?"":Ti(t).replace(br,ge)}function mi(t){var e=++_;return Ti(null==t?"":t)+e}function vi(t){return t=new n(t),t.__chain__=!0,t}function yi(t,e){return e(t),t}function gi(){return this.__chain__=!0,this}function bi(){return Ti(this.__wrapped__)}function wi(){return this.__wrapped__}t=t?le.defaults(re.Object(),t,le.pick(re,D)):re;var _i=t.Array,Ci=t.Boolean,xi=t.Date,ki=t.Error,Ei=t.Function,Si=t.Math,Pi=t.Number,Ai=t.Object,Oi=t.RegExp,Ti=t.String,Ii=t.TypeError,Mi=[],ji=ki.prototype,Ni=Ai.prototype,Ri=Ti.prototype,Ui=t._,Fi=Ni.toString,Li=Oi("^"+Ti(Fi).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Di=Si.ceil,Vi=t.clearTimeout,zi=Si.floor,$i=Ei.prototype.toString,Hi=ve(Hi=Ai.getPrototypeOf)&&Hi,Bi=Ni.hasOwnProperty,qi=Mi.push,Wi=Ni.propertyIsEnumerable,Ji=t.setTimeout,Ki=Mi.splice,Qi=Mi.unshift,Gi=function(){try{var t={},e=ve(e=Ai.defineProperty)&&e,n=e(t,t,t)&&e}catch(i){}return n}(),Yi=ve(Yi=Ai.create)&&Yi,Xi=ve(Xi=_i.isArray)&&Xi,Zi=t.isFinite,tr=t.isNaN,er=ve(er=Ai.keys)&&er,nr=Si.max,ir=Si.min,rr=t.parseInt,or=Si.random,ar={};ar[H]=_i,ar[B]=Ci,ar[q]=xi,ar[J]=Ei,ar[Q]=Ai,ar[K]=Pi,ar[G]=Oi,ar[Y]=Ti;var sr={};sr[H]=sr[q]=sr[K]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},sr[B]=sr[Y]={constructor:!0,toString:!0,valueOf:!0},sr[W]=sr[J]=sr[G]={constructor:!0,toString:!0},sr[Q]={constructor:!0},function(){for(var t=V.length;t--;){var e=V[t];for(var n in sr)Bi.call(sr,n)&&!Bi.call(sr[n],e)&&(sr[n][e]=!1)}}(),n.prototype=e.prototype;var ur=e.support={};!function(){var e=function(){this.x=1},n={0:1,length:1},i=[];e.prototype={valueOf:1,y:1};for(var r in new e)i.push(r);for(r in arguments);ur.argsClass=Fi.call(arguments)==$,ur.argsObject=arguments.constructor==Ai&&!(arguments instanceof _i),ur.enumErrorProps=Wi.call(ji,"message")||Wi.call(ji,"name"),ur.enumPrototypes=Wi.call(e,"prototype"),ur.funcDecomp=!ve(t.WinRTError)&&F.test(y),ur.funcNames="string"==typeof Ei.name,ur.nonEnumArgs=0!=r,ur.nonEnumShadows=!/valueOf/.test(i),ur.ownLast="x"!=i[0],ur.spliceObjects=(Mi.splice.call(n,0,1),!n[0]),ur.unindexedChars="x"[0]+Ai("x")[0]!="xx";try{ur.nodeClass=!(Fi.call(document)==Q&&!({toString:0}+""))}catch(o){ur.nodeClass=!0}}(1),e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:N,variable:"",imports:{_:e}};var lr=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",ur.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):ur.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),ur.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),ur.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(ur.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),ur.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }    ",ur.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";e+="\n  }    "}return(t.array||ur.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};Yi||(b=function(){function e(){}return function(n){if(Fe(n)){e.prototype=n;var i=new e;e.prototype=null}return i||t.Object()}}());var cr=Gi?function(t,e){te.value=e,Gi(t,"__bindData__",te)}:ui;ur.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Bi.call(t,"callee")&&!Wi.call(t,"callee")||!1});var pr=Xi||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fi.call(t)==H||!1},hr=de({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),dr=er?function(t){return Fe(t)?ur.enumPrototypes&&"function"==typeof t||ur.nonEnumArgs&&t.length&&be(t)?hr(t):er(t):[]}:hr,fr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:dr,loop:"if (callback(iterable[index], index, collection) === false) return result"},mr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:dr,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},vr={top:"if (!objectTypes[typeof iterable]) return result;\n"+fr.top,array:!1},yr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gr=Oe(yr),br=Oi("("+dr(gr).join("|")+")","g"),wr=Oi("["+dr(yr).join("")+"]","g"),_r=de(fr),Cr=de(mr,{top:mr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),xr=de(mr),kr=de(fr,vr,{useHas:!1}),Er=de(fr,vr);Ue(/x/)&&(Ue=function(t){return"function"==typeof t&&Fi.call(t)==J});var Sr=Hi?function(t){if(!t||Fi.call(t)!=Q||!ur.argsClass&&be(t))return!1;var e=t.valueOf,n=ve(e)&&(n=Hi(e))&&Hi(n);return n?t==n||Hi(t)==n:ye(t)}:ye,Pr=pe(function(t,e,n){Bi.call(t,n)?t[n]++:t[n]=1}),Ar=pe(function(t,e,n){(Bi.call(t,n)?t[n]:t[n]=[]).push(e)}),Or=pe(function(t,e,n){t[n]=e}),Tr=sn,Ir=tn,Mr=ve(Mr=xi.now)&&Mr||function(){return(new xi).getTime()},jr=8==rr(P+"08")?rr:function(t,e){return rr($e(t)?t.replace(R,""):t,e||0)};return e.after=zn,e.assign=Cr,e.at=Ye,e.bind=$n,e.bindAll=Hn,e.bindKey=Bn,e.chain=vi,e.compact=bn,e.compose=qn,e.constant=ni,e.countBy=Pr,e.create=Ce,e.createCallback=ii,e.curry=Wn,e.debounce=Jn,e.defaults=xr,e.defer=Kn,e.delay=Qn,e.difference=wn,e.filter=tn,e.flatten=kn,e.forEach=rn,e.forEachRight=on,e.forIn=kr,e.forInRight=Ee,e.forOwn=Er,e.forOwnRight=Se,e.functions=Pe,e.groupBy=Ar,e.indexBy=Or,e.initial=Sn,e.intersection=Pn,e.invert=Oe,e.invoke=an,e.keys=dr,e.map=sn,e.mapValues=Be,e.max=un,e.memoize=Gn,e.merge=qe,e.min=ln,e.omit=We,e.once=Yn,e.pairs=Je,e.partial=Xn,e.partialRight=Zn,e.pick=Ke,e.pluck=Tr,e.property=li,e.pull=Tn,e.range=In,e.reject=hn,e.remove=Mn,e.rest=jn,e.shuffle=fn,e.sortBy=yn,e.tap=yi,e.throttle=ti,e.times=di,e.toArray=gn,e.transform=Qe,e.union=Rn,e.uniq=Un,e.values=Ge,e.where=Ir,e.without=Fn,e.wrap=ei,e.xor=Ln,e.zip=Dn,e.zipObject=Vn,e.collect=sn,e.drop=jn,e.each=rn,e.eachRight=on,e.extend=Cr,e.methods=Pe,e.object=Vn,e.select=tn,e.tail=jn,e.unique=Un,e.unzip=Dn,ai(e),e.clone=we,e.cloneDeep=_e,e.contains=Xe,e.escape=ri,e.every=Ze,e.find=en,e.findIndex=_n,e.findKey=xe,e.findLast=nn,e.findLastIndex=Cn,e.findLastKey=ke,e.has=Ae,e.identity=oi,e.indexOf=En,e.isArguments=be,e.isArray=pr,e.isBoolean=Te,e.isDate=Ie,e.isElement=Me,e.isEmpty=je,e.isEqual=Ne,e.isFinite=Re,e.isFunction=Ue,e.isNaN=Le,e.isNull=De,e.isNumber=Ve,e.isObject=Fe,e.isPlainObject=Sr,e.isRegExp=ze,e.isString=$e,e.isUndefined=He,e.lastIndexOf=On,e.mixin=ai,e.noConflict=si,e.noop=ui,e.now=Mr,e.parseInt=jr,e.random=ci,e.reduce=cn,e.reduceRight=pn,e.result=pi,e.runInContext=y,e.size=mn,e.some=vn,e.sortedIndex=Nn,e.template=hi,e.unescape=fi,e.uniqueId=mi,e.all=Ze,e.any=vn,e.detect=en,e.findWhere=en,e.foldl=cn,e.foldr=pn,e.include=Xe,e.inject=cn,ai(function(){var t={};return Er(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.first=xn,e.last=An,e.sample=dn,e.take=xn,e.head=xn,Er(e,function(t,i){var r="sample"!==i;e.prototype[i]||(e.prototype[i]=function(e,i){var o=this.__chain__,a=t(this.__wrapped__,e,i);return o||null!=e&&(!i||r&&"function"==typeof e)?new n(a,o):a})}),e.VERSION="2.4.1",e.prototype.chain=gi,e.prototype.toString=bi,e.prototype.value=wi,e.prototype.valueOf=wi,_r(["join","pop","shift"],function(t){var i=Mi[t];e.prototype[t]=function(){var t=this.__chain__,e=i.apply(this.__wrapped__,arguments);return t?new n(e,t):e}}),_r(["push","reverse","sort","unshift"],function(t){var n=Mi[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),_r(["concat","slice","splice"],function(t){var i=Mi[t];e.prototype[t]=function(){return new n(i.apply(this.__wrapped__,arguments),this.__chain__)}}),ur.spliceObjects||_r(["pop","shift","splice"],function(t){var i=Mi[t],r="splice"==t;e.prototype[t]=function(){var t=this.__chain__,e=this.__wrapped__,o=i.apply(e,arguments);return 0===e.length&&delete e[0],t||r?new n(o,t):o}}),e}var g,b=[],w=[],_=0,C={},x=+new Date+"",E=75,S=40,P=" 	\f\n\r\u2028\u2029",A=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,T=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,M=/\w*$/,j=/^\s*function[ \n\r\t]+\w/,N=/<%=([\s\S]+?)%>/g,R=RegExp("^["+P+"]*0+(?=.$)"),U=/($^)/,F=/\bthis\b/,L=/['\n\r\t\u2028\u2029\\]/g,D=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],V=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],z=0,$="[object Arguments]",H="[object Array]",B="[object Boolean]",q="[object Date]",W="[object Error]",J="[object Function]",K="[object Number]",Q="[object Object]",G="[object RegExp]",Y="[object String]",X={};X[J]=!1,X[$]=X[H]=X[B]=X[q]=X[K]=X[Q]=X[G]=X[Y]=!0;var Z={leading:!1,maxWait:0,trailing:!1},te={configurable:!1,enumerable:!1,value:null,writable:!1},ee={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},ne={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ie={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},re=ne[typeof window]&&window||this,oe=ne[typeof e]&&e&&!e.nodeType&&e,ae=ne[typeof t]&&t&&!t.nodeType&&t,se=ae&&ae.exports===oe&&oe,ue=ne[typeof n]&&n;!ue||ue.global!==ue&&ue.window!==ue||(re=ue);var le=y();"function"==typeof r&&"object"==typeof r.amd&&r.amd?(re._=le,r(function(){return le})):oe&&ae?se?(ae.exports=le)._=le:oe._=le:re._=le}).call(this),o("undefined"!=typeof _?_:window._)}.call(n,void 0,void 0,void 0,void 0,function(t){e.exports=t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],161:[function(t,e,n){(function(t){!function(t){if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof n)e.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else Q=t()}(function(){"use strict";function e(t){return function(){return K.apply(t,arguments)}}function n(t){return t===Object(t)}function i(t){return"[object StopIteration]"===ne(t)||t instanceof B}function r(t,e){if(z&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(ie)){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var r=n.join("\n"+ie+"\n");t.stack=o(r)}}function o(t){for(var e=t.split("\n"),n=[],i=0;i<e.length;++i){var r=e[i];u(r)||a(r)||!r||n.push(r)}return n.join("\n")}function a(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function u(t){var e=s(t);if(!e)return!1;var n=e[0],i=e[1];return n===H&&i>=q&&se>=i}function l(){if(z)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],i=s(n);if(!i)return;return H=i[0],i[1]}}function c(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}function p(t){return g(t)?t:b(t)?A(t):P(t)}function h(){function t(t){e=t,o.source=t,G(n,function(e,n){J(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,i=void 0}var e,n=[],i=[],r=Z(h.prototype),o=Z(m.prototype);if(o.promiseDispatch=function(t,r,o){var a=Q(arguments);n?(n.push(a),"when"===r&&o[1]&&i.push(o[1])):J(function(){e.promiseDispatch.apply(e,a)})},o.valueOf=function(){if(n)return o;var t=y(e);return g(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},p.longStackSupport&&z)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return r.promise=o,r.resolve=function(n){e||t(p(n))},r.fulfill=function(n){e||t(P(n))},r.reject=function(n){e||t(S(n))},r.notify=function(t){e||G(i,function(e,n){J(function(){n(t)})},void 0)},r}function d(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=h();try{t(e.resolve,e.reject,e.notify)
}catch(n){e.reject(n)}return e.promise}function f(t){return d(function(e,n){for(var i=0,r=t.length;r>i;i++)p(t[i]).then(e,n)})}function m(t,e,n){void 0===e&&(e=function(t){return S(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=Z(m.prototype);if(i.promiseDispatch=function(n,r,o){var a;try{a=t[r]?t[r].apply(i,o):e.call(i,r,o)}catch(s){a=S(s)}n&&n(a)},i.inspect=n,n){var r=n();"rejected"===r.state&&(i.exception=r.reason),i.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?i:t.value}}return i}function v(t,e,n,i){return p(t).then(e,n,i)}function y(t){if(g(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function g(t){return n(t)&&"function"==typeof t.promiseDispatch&&"function"==typeof t.inspect}function b(t){return n(t)&&"function"==typeof t.then}function w(t){return g(t)&&"pending"===t.inspect().state}function _(t){return!g(t)||"fulfilled"===t.inspect().state}function C(t){return g(t)&&"rejected"===t.inspect().state}function x(){re.length=0,oe.length=0,ae||(ae=!0)}function k(t,e){ae&&(oe.push(t),re.push(e&&"undefined"!=typeof e.stack?e.stack:"(no stack) "+e))}function E(t){if(ae){var e=Y(oe,t);-1!==e&&(oe.splice(e,1),re.splice(e,1))}}function S(t){var e=m({when:function(e){return e&&E(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return k(e,t),e}function P(t){return m({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return ee(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function A(t){var e=h();return J(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function O(t){return m({isDef:function(){}},function(e,n){return R(t,e,n)},function(){return p(t).inspect()})}function T(t,e,n){return p(t).spread(e,n)}function I(t){return function(){function e(t,e){var a;if("undefined"==typeof StopIteration){try{a=n[t](e)}catch(s){return S(s)}return a.done?a.value:v(a.value,r,o)}try{a=n[t](e)}catch(s){return i(s)?s.value:S(s)}return v(a,r,o)}var n=t.apply(this,arguments),r=e.bind(e,"next"),o=e.bind(e,"throw");return r()}}function M(t){p.done(p.async(t)())}function j(t){throw new B(t)}function N(t){return function(){return T([this,U(arguments)],function(e,n){return t.apply(e,n)})}}function R(t,e,n){return p(t).dispatch(e,n)}function U(t){return v(t,function(t){var e=0,n=h();return G(t,function(i,r,o){var a;g(r)&&"fulfilled"===(a=r.inspect()).state?t[o]=a.value:(++e,v(r,function(i){t[o]=i,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:o,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function F(t){return v(t,function(t){return t=X(t,p),v(U(X(t,function(t){return v(t,W,W)})),function(){return t})})}function L(t){return p(t).allSettled()}function D(t,e){return p(t).then(void 0,void 0,e)}function V(t,e){return p(t).nodeify(e)}var z=!1;try{throw new Error}catch($){z=!!$.stack}var H,B,q=l(),W=function(){},J=function(){function e(){for(;n.next;){n=n.next;var t=n.task;n.task=void 0;var i=n.domain;i&&(n.domain=void 0,i.enter());try{t()}catch(o){if(a)throw i&&i.exit(),setTimeout(e,0),i&&i.enter(),o;setTimeout(function(){throw o},0)}i&&i.exit()}r=!1}var n={task:void 0,next:null},i=n,r=!1,o=void 0,a=!1;if(J=function(e){i=i.next={task:e,domain:a&&t.domain,next:null},r||(r=!0,o())},"undefined"!=typeof t&&t.nextTick)a=!0,o=function(){t.nextTick(e)};else if("function"==typeof setImmediate)o="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var s=new MessageChannel;s.port1.onmessage=function(){o=u,s.port1.onmessage=e,e()};var u=function(){s.port2.postMessage(0)};o=function(){setTimeout(e,0),u()}}else o=function(){setTimeout(e,0)};return J}(),K=Function.call,Q=e(Array.prototype.slice),G=e(Array.prototype.reduce||function(t,e){var n=0,i=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}for(;i>n;n++)n in this&&(e=t(e,this[n],n));return e}),Y=e(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),X=e(Array.prototype.map||function(t,e){var n=this,i=[];return G(n,function(r,o,a){i.push(t.call(e,o,a,n))},void 0),i}),Z=Object.create||function(t){function e(){}return e.prototype=t,new e},te=e(Object.prototype.hasOwnProperty),ee=Object.keys||function(t){var e=[];for(var n in t)te(t,n)&&e.push(n);return e},ne=e(Object.prototype.toString);B="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var ie="From previous event:";p.resolve=p,p.nextTick=J,p.longStackSupport=!1,p.defer=h,h.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):t.resolve(arguments.length>2?Q(arguments,1):n)}},p.Promise=d,p.promise=d,d.race=f,d.all=U,d.reject=S,d.resolve=p,p.passByCopy=function(t){return t},m.prototype.passByCopy=function(){return this},p.join=function(t,e){return p(t).join(e)},m.prototype.join=function(t){return p([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Can't join: not the same: "+t+" "+e)})},p.race=f,m.prototype.race=function(){return this.then(p.race)},p.makePromise=m,m.prototype.toString=function(){return"[object Promise]"},m.prototype.then=function(t,e,n){function i(e){try{return"function"==typeof t?t(e):e}catch(n){return S(n)}}function o(t){if("function"==typeof e){r(t,s);try{return e(t)}catch(n){return S(n)}}return S(t)}function a(t){return"function"==typeof n?n(t):t}var s=this,u=h(),l=!1;return J(function(){s.promiseDispatch(function(t){l||(l=!0,u.resolve(i(t)))},"when",[function(t){l||(l=!0,u.resolve(o(t)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=a(t)}catch(i){if(n=!0,!p.onerror)throw i;p.onerror(i)}n||u.notify(e)}]),u.promise},p.when=v,m.prototype.thenResolve=function(t){return this.then(function(){return t})},p.thenResolve=function(t,e){return p(t).thenResolve(e)},m.prototype.thenReject=function(t){return this.then(function(){throw t})},p.thenReject=function(t,e){return p(t).thenReject(e)},p.nearer=y,p.isPromise=g,p.isPromiseAlike=b,p.isPending=w,m.prototype.isPending=function(){return"pending"===this.inspect().state},p.isFulfilled=_,m.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},p.isRejected=C,m.prototype.isRejected=function(){return"rejected"===this.inspect().state};var re=[],oe=[],ae=!0;p.resetUnhandledRejections=x,p.getUnhandledReasons=function(){return re.slice()},p.stopUnhandledRejectionTracking=function(){x(),ae=!1},x(),p.reject=S,p.fulfill=P,p.master=O,p.spread=T,m.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},p.async=I,p.spawn=M,p["return"]=j,p.promised=N,p.dispatch=R,m.prototype.dispatch=function(t,e){var n=this,i=h();return J(function(){n.promiseDispatch(i.resolve,t,e)}),i.promise},p.get=function(t,e){return p(t).dispatch("get",[e])},m.prototype.get=function(t){return this.dispatch("get",[t])},p.set=function(t,e,n){return p(t).dispatch("set",[e,n])},m.prototype.set=function(t,e){return this.dispatch("set",[t,e])},p.del=p["delete"]=function(t,e){return p(t).dispatch("delete",[e])},m.prototype.del=m.prototype["delete"]=function(t){return this.dispatch("delete",[t])},p.mapply=p.post=function(t,e,n){return p(t).dispatch("post",[e,n])},m.prototype.mapply=m.prototype.post=function(t,e){return this.dispatch("post",[t,e])},p.send=p.mcall=p.invoke=function(t,e){return p(t).dispatch("post",[e,Q(arguments,2)])},m.prototype.send=m.prototype.mcall=m.prototype.invoke=function(t){return this.dispatch("post",[t,Q(arguments,1)])},p.fapply=function(t,e){return p(t).dispatch("apply",[void 0,e])},m.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},p["try"]=p.fcall=function(t){return p(t).dispatch("apply",[void 0,Q(arguments,1)])},m.prototype.fcall=function(){return this.dispatch("apply",[void 0,Q(arguments)])},p.fbind=function(t){var e=p(t),n=Q(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(Q(arguments))])}},m.prototype.fbind=function(){var t=this,e=Q(arguments);return function(){return t.dispatch("apply",[this,e.concat(Q(arguments))])}},p.keys=function(t){return p(t).dispatch("keys",[])},m.prototype.keys=function(){return this.dispatch("keys",[])},p.all=U,m.prototype.all=function(){return U(this)},p.allResolved=c(F,"allResolved","allSettled"),m.prototype.allResolved=function(){return F(this)},p.allSettled=L,m.prototype.allSettled=function(){return this.then(function(t){return U(X(t,function(t){function e(){return t.inspect()}return t=p(t),t.then(e,e)}))})},p.fail=p["catch"]=function(t,e){return p(t).then(void 0,e)},m.prototype.fail=m.prototype["catch"]=function(t){return this.then(void 0,t)},p.progress=D,m.prototype.progress=function(t){return this.then(void 0,void 0,t)},p.fin=p["finally"]=function(t,e){return p(t)["finally"](e)},m.prototype.fin=m.prototype["finally"]=function(t){return t=p(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},p.done=function(t,e,n,i){return p(t).done(e,n,i)},m.prototype.done=function(e,n,i){var o=function(t){J(function(){if(r(t,a),!p.onerror)throw t;p.onerror(t)})},a=e||n||i?this.then(e,n,i):this;"object"==typeof t&&t&&t.domain&&(o=t.domain.bind(o)),a.then(void 0,o)},p.timeout=function(t,e,n){return p(t).timeout(e,n)},m.prototype.timeout=function(t,e){var n=h(),i=setTimeout(function(){n.reject(new Error(e||"Timed out after "+t+" ms"))},t);return this.then(function(t){clearTimeout(i),n.resolve(t)},function(t){clearTimeout(i),n.reject(t)},n.notify),n.promise},p.delay=function(t,e){return void 0===e&&(e=t,t=void 0),p(t).delay(e)},m.prototype.delay=function(t){return this.then(function(e){var n=h();return setTimeout(function(){n.resolve(e)},t),n.promise})},p.nfapply=function(t,e){return p(t).nfapply(e)},m.prototype.nfapply=function(t){var e=h(),n=Q(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},p.nfcall=function(t){var e=Q(arguments,1);return p(t).nfapply(e)},m.prototype.nfcall=function(){var t=Q(arguments),e=h();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},p.nfbind=p.denodeify=function(t){var e=Q(arguments,1);return function(){var n=e.concat(Q(arguments)),i=h();return n.push(i.makeNodeResolver()),p(t).fapply(n).fail(i.reject),i.promise}},m.prototype.nfbind=m.prototype.denodeify=function(){var t=Q(arguments);return t.unshift(this),p.denodeify.apply(void 0,t)},p.nbind=function(t,e){var n=Q(arguments,2);return function(){function i(){return t.apply(e,arguments)}var r=n.concat(Q(arguments)),o=h();return r.push(o.makeNodeResolver()),p(i).fapply(r).fail(o.reject),o.promise}},m.prototype.nbind=function(){var t=Q(arguments,0);return t.unshift(this),p.nbind.apply(void 0,t)},p.nmapply=p.npost=function(t,e,n){return p(t).npost(e,n)},m.prototype.nmapply=m.prototype.npost=function(t,e){var n=Q(e||[]),i=h();return n.push(i.makeNodeResolver()),this.dispatch("post",[t,n]).fail(i.reject),i.promise},p.nsend=p.nmcall=p.ninvoke=function(t,e){var n=Q(arguments,2),i=h();return n.push(i.makeNodeResolver()),p(t).dispatch("post",[e,n]).fail(i.reject),i.promise},m.prototype.nsend=m.prototype.nmcall=m.prototype.ninvoke=function(t){var e=Q(arguments,1),n=h();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},p.nodeify=V,m.prototype.nodeify=function(t){return t?void this.then(function(e){J(function(){t(null,e)})},function(e){J(function(){t(e)})}):this};var se=l();return p})}).call(this,t("_process"))},{_process:146}],162:[function(t,e){"use strict";function n(t){this.rpcClient=t}var i=["getCreditCards","unlockCreditCard","sendAnalyticsEvents"];i.forEach(function(t){n.prototype[t]=function(){var e=[],n=Array.prototype.slice.call(arguments),i=n.splice(-1)[0];e=[t,n],"function"==typeof i?e.push(i):n.push(i),this.rpcClient.invoke.apply(this.rpcClient,e)}}),e.exports=n},{}],163:[function(t,e){"use strict";function n(){}var i=t("_"),r=t("./credit-card-type");n.ALL_CARD_TYPES=[new r({cardType:"Visa",cssClass:"visa",creditCardNumberRegex:/^4[0-9][\s\d]*$/}),new r({cardType:"MasterCard",cssClass:"master-card",creditCardNumberRegex:/^5[1-5][\s\d]*$/}),new r({cardType:"American Express",cssClass:"american-express",creditCardNumberRegex:/^3[47][\s\d]*$/,isAmex:!0}),new r({cardType:"DinersClub",cssClass:"diners-club",creditCardNumberRegex:/^3(?:0[0-5]|[68][0-9])[\s\d]*$/}),new r({cardType:"Discover",cssClass:"discover",creditCardNumberRegex:/^6(?:011|5[0-9]{2})[\s\d]*$/}),new r({cardType:"JCB",cssClass:"jcb",creditCardNumberRegex:/^(?:2131|1800|35)[\s\d]*$/})],n.UNKNOWN_CARD_TYPE=new r({cssClass:""}),n.identify=function(t){if(!t)return n.UNKNOWN_CARD_TYPE;var e=i.find(n.ALL_CARD_TYPES,function(e){return e.testCardNumber(t)});return e||n.UNKNOWN_CARD_TYPE},n.identifyByCardType=function(t){var e=i.find(n.ALL_CARD_TYPES,function(e){return e.cardType===t});return e||n.UNKNOWN_CARD_TYPE},e.exports=n},{"./credit-card-type":164,_:160}],164:[function(t,e){"use strict";function n(t){var e=t||{};this.cardType=e.cardType||"",this.cssClass=e.cssClass,this.creditCardNumberRegex=e.creditCardNumberRegex,this.isAmex=e.isAmex||!1}var i=t("_");n.prototype.testCardNumber=function(t){return this.creditCardNumberRegex&&i.isRegExp(this.creditCardNumberRegex)&&this.creditCardNumberRegex.test(t)},n.prototype.getCssClass=function(){return this.cssClass},e.exports=n},{_:160}],165:[function(t,e){"use strict";function n(t,e){this.node=t,this.validators=e}var i=t("_");n.prototype.isValid=function(t){var e=this.getValue();return i.chain(this.validators).map(function(n){return n.validate(e,t)}).all().value()},n.prototype.setValue=function(t){this.node.value=t},n.prototype.getValue=function(){return this.node.value},e.exports=n},{_:160}],166:[function(t,e){"use strict";function n(t){var e="20";return t=t.match(e)&&t!==e?t:e+t,parseInt(t,10)}function i(t){this.predicates=r.isArray(t)?t:[t]}var r=t("_"),o=t("../util/date-manager"),a=/^\-?([0-9]+(\.[0-9]+)?|Infinity)$/,s=(new Date).getFullYear();i.prototype.validate=function(t,e){for(var n=0;n<this.predicates.length;n++)if(this.predicates[n](t,e)===!1)return!1;return!0},i.isNumeric=function(t){return a.test(t)},i.isLength=function(t){return function(e){if(r.isPlainObject(t)){if(t.hasOwnProperty("min")&&e.length<t.min)return!1;if(t.hasOwnProperty("max")&&e.length>t.max)return!1}else if(t!==e.length)return!1;return!0}},i.isExpirationDate=function(t,e){var i=o.parseDate(t),r=e&&e.partial||!1,a=parseInt(i.month,10),u=a>0&&13>a,l=n(i.year),c=l>=s&&s+10>=l||r&&/20[1-3]$|^20$/.test(l.toString());return u&&c},i.isCreditCardNumber=function(t){var e,n;return t=t.toString(),e=r.chain(t).toArray().reverse().map(function(t){return parseInt(t,10)}).filter(function(t){return r.isNumber(t)&&!r.isNaN(t)}).value(),n=r.reduce(e,function(t,e,n){return n%2!==0?t+(e>=5?2*e-9:2*e):t+e}),n%10===0},e.exports={CreditCardNumberValidator:new i(i.isCreditCardNumber),ExpirationDateValidator:new i(i.isExpirationDate),PostalCodeValidator:new i(i.isLength({max:8,min:4})),CvvValidator:new i([i.isLength({max:4,min:3}),i.isNumeric]),Validator:i}},{"../util/date-manager":185,_:160}],167:[function(t,e){"use strict";var n=t("_"),i=t("braintree-api"),r=t("braintree-rpc"),o=t("braintree-coinbase"),a=t("./api-proxy-client"),s=t("./session/shared-customer-identification-service"),u=t("../shared/paypal-service"),l=t("braintree-paypal/src/shared/util/browser"),c=function(t){this.settings=t,this.root=t.root||window,this.target=t.target||window.parent,this.container=t.container,this.bus=new r.MessageBus(this.root),this.rpcClient=new r.RPCClient(this.bus,this.target),this.rpcServer=new r.RPCServer(this.bus),this.apiProxyClient=new a(this.rpcClient),this.sharedCustomerIdentificationService=new s};c.prototype.initialize=function(){var t=this.sharedCustomerIdentificationService.getIdentifier();this.bus.send(this.target,"ready"),t&&this.rpcClient.invoke("receiveSharedCustomerIdentifier",[t]),this.rpcClient.invoke("getConfiguration",[],n.bind(this.completeInitialization,this))},c.prototype.completeInitialization=function(t){this.clientToken=i.parseClientToken(t.clientToken),this.apiClient=i.configure({clientToken:this.clientToken,integration:"dropin"}),this.hasPaypalEnabled=!1,this.clientToken&&this.clientToken.paypalEnabled&&(t.merchantHttps||this.clientToken.paypal.allowHttp)&&(this.hasPaypalEnabled=!0,l.isPopupSupported()&&this.rpcClient.invoke("getPayPalOptions",[],n.bind(this.paypalOptionsReceived,this))),this.hasCoinbaseEnabled=this.clientToken.coinbaseEnabled,this.hasCoinbaseEnabled&&(this.coinbaseIntegration=o.create({coinbase:{button:"coinbase-container"},apiClient:this.apiClient,configuration:this.clientToken}),null==this.coinbaseIntegration&&(this.hasCoinbaseEnabled=!1))},c.prototype.paypalOptionsReceived=function(t){var e=this;t=t||{},t.onSuccess=function(t){e.rpcClient.invoke("receivePayPalData",[t])},this.ppClient=new u({clientToken:this.clientToken,paypal:t})},e.exports=c},{"../shared/paypal-service":192,"./api-proxy-client":162,"./session/shared-customer-identification-service":182,_:160,"braintree-api":16,"braintree-coinbase":44,"braintree-paypal/src/shared/util/browser":132,"braintree-rpc":140}],168:[function(t,e){"use strict";var n=t("_"),i=t("../../shared/router"),r=t("./views/add-payment-method-view"),o=t("./views/show-payment-method-view"),a=t("../../shared/views/cancel-popup-view"),s=i.extend({routes:{addPaymentMethod:"addPaymentMethod","showPaymentMethod(/:status)":"showPaymentMethod"},initialize:function(t){return this.root=t.root,this.container=t.container,this.setViews(),this.root.rpcServer.define("requestNonce",n.bind(this.handleNonceRequest,this)),this},setViews:function(){this.views={addPaymentMethod:new r({root:this.root}),showPaymentMethod:new o({root:this.root})},n.each(this.views,function(t){this.container.appendChild(t.el)},this),this.setGlobalViews()},setGlobalViews:function(){new a},addPaymentMethod:function(){this.setCurrentView("addPaymentMethod")},showPaymentMethod:function(){this.setCurrentView("showPaymentMethod")},handleNonceRequest:function(t){this.views[this.currentView].handleRequestNonce(t)}});e.exports=s},{"../../shared/router":193,"../../shared/views/cancel-popup-view":195,"./views/add-payment-method-view":170,"./views/show-payment-method-view":172,_:160}],169:[function(t,e){"use strict";function n(t){r.call(this,t),this.initializedWithIdentifier=!1,this.paymentMethods=new o,this.router=new s({root:this,container:this.container}),this.paymentMethods.on("reset",i.bind(this.onCollectionReset,this))}var i=t("_"),r=t("../frame"),o=t("../../shared/collections/payment-method-collection"),a=t("./views/inline-frame-view"),s=t("./inline-frame-router");n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.initialize=function(){r.prototype.initialize.call(this),this.rpcServer.define("receiveNewPaymentMethod",i.bind(this.receiveNewPaymentMethod,this)),this.rpcServer.define("selectPaymentMethod",i.bind(this.receiveSelectedPaymentMethod,this)),this.inlineFrameView=new a({rpcClient:this.rpcClient,rpcServer:this.rpcServer,container:this.container})},n.prototype.completeInitialization=function(t){r.prototype.completeInitialization.call(this,t),this.apiClient.getCreditCards(i.bind(this.handleCards,this))},n.prototype.onCollectionReset=function(){var t=this.paymentMethods.getActiveModel();t.get("isLocked")||this.rpcClient.invoke("sendUnlockedNonce",[t.toJSON()])},n.prototype.handleCards=function(t,e){e&&e.length?(this.paymentMethods.reset(e),this.router.navigate("showPaymentMethod")):this.router.navigate("addPaymentMethod"),this.inlineFrameView.render()},n.prototype.receiveNewPaymentMethod=function(t){var e,n="showPaymentMethod",i=this.router.currentView===n;this.paymentMethods.add(t),this.router.navigate(n,{silent:i}),e=this.paymentMethods.getActiveModelAttr("type"),"CreditCard"===e||i||requestAnimationFrame(function(){this.inlineFrameView.updateHeight()},this)},n.prototype.receiveSelectedPaymentMethod=function(t){this.paymentMethods.setActiveModel(t)},e.exports={Manager:n}},{"../../shared/collections/payment-method-collection":189,"../frame":167,"./inline-frame-router":168,"./views/inline-frame-view":171,_:160}],170:[function(t,e){"use strict";var n=t("backbone"),i=t("../../../shared/views/payment-method-form-view"),r=t("braintree-paypal/src/shared/util/browser"),o=t("../../../templates/inline/add-payment-method.hbs"),a="hidden",s=n.View.extend({template:o,className:"add-payment-method-view "+a,events:{"click button.paypal":"handlePayPalClick"},initialize:function(t){this.root=t.root},render:function(){this.$el.html(this.template({paypalEnabled:this.root.hasPaypalEnabled,coinbaseEnabled:this.root.hasCoinbaseEnabled})),this.$formContainer=this.$el.find(".form-container"),this.formView=new i({root:this.root}),this.$formContainer.html(this.formView.render().el),this.show()},handlePayPalClick:function(){var t=r.isPopupSupported();t?(this.root.ppClient.popup=this.root.ppClient._openPopup(),n.trigger("ui:openPopup",this.root.ppClient.popup)):this.root.rpcClient.invoke("openPayPalModal")},handleRequestNonce:function(t){this.formView.successCallback=t,this.formView.submit()},hide:function(){this.$el.addClass(a)},show:function(){this.$el.removeClass(a)},destroy:function(){this.$el.empty()}});e.exports=s},{"../../../shared/views/payment-method-form-view":199,"../../../templates/inline/add-payment-method.hbs":202,backbone:2,"braintree-paypal/src/shared/util/browser":132}],171:[function(t,e){"use strict";var n=t("_"),i=window,r=$(i),o=$("body"),a="is-loading initial-inline-frame-loading",s=function(t){this.rpcClient=t.rpcClient,this.rpcServer=t.rpcServer,this.container=t.container,this.initialize()};s.prototype.initialize=function(){this.setEvents()},s.prototype.setEvents=function(){r.on("resize",n.bind(this.handleViewportUpdate,this)),this.rpcServer.define("clearLoadingState",n.bind(this.removeLoadingState,this))},s.prototype.updateHeight=function(){var t=this.container.offsetHeight+2;this.rpcClient.invoke("setInlineFrameHeight",[t])},s.prototype.handleViewportUpdate=n.debounce(function(){this.updateHeight()},160),s.prototype.removeLoadingState=function(){o.removeClass(a)},s.prototype.render=function(){n.delay(n.bind(function(){this.removeLoadingState(),requestAnimationFrame(function(){this.updateHeight()},this)},this),16)},e.exports=s},{_:160}],172:[function(t,e){"use strict";var n=t("_"),i=t("backbone"),r=t("../../util/dropin-util"),o=t("../../../shared/models/form-card-model"),a=t("../../../shared/views/cvv-input-view"),s=t("../../../shared/views/postal-code-input-view"),u=t("../../../templates/inline/show-payment-method.hbs"),l="hidden",c=i.View.extend({template:u,className:"show-payment-method-view "+l,events:{"click #choose-payment-method":"handleChoosePaymentClick"},fields:{cvv:{challenge:"cvv",container:".cvv-label",constructor:a},postalCode:{challenge:"postal_code",container:".postal-code-label",constructor:s}},initialize:function(t){this.root=t.root,this.collection=t.root.paymentMethods,this.fieldViews=[]},setEvents:function(){this.isBoundToCollection||(this.isBoundToCollection=!0,this.listenTo(this.collection,"change:activeModel",this.render))},getViewModel:function(){var t=this.model.toJSON(),e=t.details&&t.details.email;return e&&(t.details.truncatedEmail=r.truncateEmail(e,r.getMaxCharLength())),t},render:function(){var t;this.model=this.collection.getActiveModel(),t=this.template({paymentMethod:this.getViewModel()}),this.$el.html(t),this.model.get("isLocked")&&this.setValidations(),this.show(),this.setEvents()},setValidations:function(){this.formCardModel=new o,this.challenges=this.model.get("securityQuestions"),this.fieldViews.length&&this.destroyFieldViews(),n.each(this.fields,function(t){var e;n.contains(this.challenges,t.challenge)&&(e=new t.constructor({el:this.$el.find(t.container),model:this.formCardModel}),this.fieldViews.push(e))},this)},handleChoosePaymentClick:function(t){t.preventDefault(),this.root.rpcClient.invoke("selectPaymentMethod",[this.root.paymentMethods])},isValid:function(){return n.chain(this.fieldViews).filter(function(t){return!t.isValid()}).value().length<1},handleRequestNonce:function(t){var e;this.isValid()&&(e={cvv:this.formCardModel.get("cvv")},n.contains(this.challenges,"postal_code")&&(e.postal_code=this.formCardModel.get("postalCode")),this.root.apiProxyClient.unlockCreditCard(this.model,e,function(e,n){t(n.nonce)}))},hide:function(){this.$el.addClass(l)},show:function(){this.$el.removeClass(l)},destroyFieldViews:function(){n.each(this.fieldViews,function(t){t.destroy()}),this.fieldViews=[]},destroy:function(){this.destroyFieldViews(),this.$el.empty()}});e.exports=c},{"../../../shared/models/form-card-model":190,"../../../shared/views/cvv-input-view":197,"../../../shared/views/postal-code-input-view":200,"../../../templates/inline/show-payment-method.hbs":203,"../../util/dropin-util":187,_:160,backbone:2}],173:[function(t,e){"use strict";var n=t("q"),i=t("_"),r=t("../../shared/router"),o=t("../../shared/views/cancel-popup-view"),a=t("./views/modal-view"),s=t("./views/list-payment-methods-view"),u=t("./views/add-payment-method-view"),l=r.extend({routes:{listPaymentMethods:"listPaymentMethods",addPaymentMethod:"addPaymentMethod"},initialize:function(t){var e=t.root;return this.viewContainer=new a({root:e}),this.views={listPaymentMethods:new s({root:e}),addPaymentMethod:new u({root:e})},i.each(this.views,function(t){this.viewContainer.$modalBody.append(t.el)},this),this.setGlobalViews(),this},setGlobalViews:function(){new o},transitionViews:function(t){var e=this.views[this.currentView],r=n.defer();return e&&i.isFunction(e.renderOut)?e.renderOut().then(function(){r.resolve(t)}):r.resolve(t),r.promise},listPaymentMethods:function(){this.transitionViews("listPaymentMethods").then(i.bind(this.setCurrentView,this))},addPaymentMethod:function(){this.transitionViews("addPaymentMethod").then(i.bind(this.setCurrentView,this))},reset:function(){i.each(this.views,function(t){t.reset()}),this.currentView=void 0}});e.exports=l},{"../../shared/router":193,"../../shared/views/cancel-popup-view":195,"./views/add-payment-method-view":175,"./views/list-payment-methods-view":177,"./views/modal-view":178,_:160,q:161}],174:[function(t,e){"use strict";function n(t){a.call(this,t),this.paymentMethods=new s,this.router=new u({root:this}),d.on("keyup",r.bind(this.handleKeyup,this)),this.$container=d.find("#container"),this.rpcServer.define("open",r.bind(this.open,this))}var i=t("q"),r=t("_"),o=t("../util/dropin-util"),a=t("../frame"),s=t("../../shared/collections/payment-method-collection"),u=t("./modal-frame-router"),l="open",c="out",p="out-success",h=o.getPrefixedTransitionEnd(),d=$("body");n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.prototype.initialize=function(){a.prototype.initialize.call(this),this.isOpen=!1,this.rpcServer.define("selectPaymentMethod",r.bind(this.setSelectPaymentMethodView,this)),this.rpcServer.define("modalViewClose",r.bind(this.close,this))},n.prototype.completeInitialization=function(t){a.prototype.completeInitialization.call(this,t)},n.prototype.handleKeyup=function(t){27===t.which&&this.close({isCancel:!0})},n.prototype.setSelectPaymentMethodView=function(t){this.paymentMethods.reset(t)},n.prototype.open=function(t){this.isOpen=!0,requestAnimationFrame(function(){d.addClass(l),t(),r.defer(this.router.navigate,"listPaymentMethods")},this)},n.prototype.afterClose=function(t){d.removeClass(t),this.router.reset(),this.isOpen=!1,this.rpcClient.invoke("closeDropInModal")},n.prototype.renderOutInnerContent=function(t){var e=i.defer();return d.addClass(t.className),r.delay(e.resolve,t.delay,t),e.promise},n.prototype.renderOutModal=function(t){var e=r.bind(function(){this.afterClose(t.className)},this);Modernizr.csstransitions?this.$container.one(h,e):this.afterClose(t.className),d.removeClass(l)},n.prototype.close=function(t){if(this.isOpen){var e=t&&t.isCancel,n={className:e?c:p,delay:e?Modernizr.csstransitions?600:16:220};this.renderOutInnerContent(n).then(r.bind(this.renderOutModal,this))}},e.exports=n},{"../../shared/collections/payment-method-collection":189,"../frame":167,"../util/dropin-util":187,"./modal-frame-router":173,_:160,q:161}],175:[function(t,e){"use strict";var n=t("_"),i=t("backbone"),r=t("./base-modal-view"),o=t("../../../shared/models/form-card-model"),a=t("../../../shared/views/payment-method-form-view"),s=t("braintree-paypal/src/shared/util/browser"),u=t("../../../templates/modal/add-payment-method.hbs"),l="is-active",c=".payment-method-add",p="button.paypal",h=r.extend({template:u,className:"add-payment-method-view modal-frame-view ",events:function(){var t={"keyup input":"handleInputChange","click button.paypal":"handlePayPalClick"};return t["click "+c]="triggerFormSubmit",t["click .use-saved-payment-method-link"]="navigateToListView",t},initialize:function(t){this.root=t.root,this.postInitialize()},render:function(){this.$el.html(this.template({paypalEnabled:this.root.hasPaypalEnabled,coinbaseEnabled:this.root.hasCoinbaseEnabled})),this.$formContainer=this.$el.find(".form-container"),this.createFormView(),this.$formContainer.html(this.formView.render().el),this.setElements(),this.show()},createFormView:function(){this.formModel=new o,this.formView=new a({root:this.root,isModal:!0,model:this.formModel,setSubmitButtonState:n.bind(this.setSubmitButtonState,this)})},setElements:function(){this.$submitButton=this.$el.find(c),this.$paypalButton=this.$el.find(p)},triggerFormSubmit:function(){this.formView.submit()},setSubmitButtonState:function(t){n.each(t,function(t,e){this.$submitButton.prop(e,t)},this)},handleInputChange:function(){var t=this.formModel.isEmpty();this.$submitButton.prop("disabled",t),this.$paypalButton.toggleClass(l,t)},handlePayPalClick:function(){var t=s.isPopupSupported();t?(this.root.ppClient.popup=this.root.ppClient._openPopup(),i.trigger("ui:openPopup",this.root.ppClient.popup)):this.root.rpcClient.invoke("openPayPalModal")},navigateToListView:function(){this.root.router.navigate("listPaymentMethods")},show:function(){r.prototype.show.apply(this,arguments),n.delay(n.bind(function(){this.formView.setFocusOnFirstInput()},this),240)}});e.exports=h},{"../../../shared/models/form-card-model":190,"../../../shared/views/payment-method-form-view":199,"../../../templates/modal/add-payment-method.hbs":204,"./base-modal-view":176,_:160,backbone:2,"braintree-paypal/src/shared/util/browser":132}],176:[function(t,e){"use strict";var n=t("_"),i=t("q"),r=t("../../util/dropin-util"),o=t("backbone"),a="render-in-assemble",s="render-out",u="has-rendered",l=Modernizr.csstransitions,c=r.getPrefixedAnimationEnd(),p=o.View.extend({constructor:function(){o.View.apply(this,arguments)},postInitialize:function(){l||this.$el.fadeOut(0)},show:function(){var t=n.bind(function(){this.$el.addClass(a)},this);l?n.delay(t,240):this.$el.delay(200).fadeIn(200)},hide:function(){l?this.renderOutModalView().then(n.bind(function(){this.$el.removeClass(s).addClass(u),this.promise.resolve()},this)):this.promise&&this.$el.fadeOut(200,n.bind(function(){this.promise.resolve()},this))},getAnimationBatchSize:function(){var t=this.$el.children();return n.filter(t,function(t){return"none"!==getComputedStyle(t).display}).length||t.length},renderOutModalView:function(){function t(){return r++,r===o?(e.off(c,t),void n.resolve()):void 0}var e=this.$el,n=i.defer(),r=0,o=this.getAnimationBatchSize();return e.on(c,t).addClass(s),n.promise},renderOut:function(){return this.promise=i.defer(),this.hide(),this.promise.promise},destroy:function(){this.$el.empty()},reset:function(){this.destroy(),this.$el.removeClass(function(){return[a,s,u].join(" ")})}});e.exports=p},{"../../util/dropin-util":187,_:160,backbone:2,q:161}],177:[function(t,e){"use strict";
var n=t("_"),i=t("./base-modal-view"),r=t("./payment-method-item-view"),o=t("../../../templates/modal/list-payment-methods.hbs"),a=i.extend({template:o,className:"list-payment-methods-view modal-frame-view",events:{"click .add-payment-method-link":"handleAddPaymentMethod"},initialize:function(t){this.root=t.root,this.collection=t.root.paymentMethods,this.postInitialize()},render:function(){this.$el.html(this.template),this.renderItems(this.collection.models,this.$el.find(".payment-methods-list")),this.show()},renderItems:function(t,e){var i=n.map(t,function(t){return new r({root:this.root,model:t}).render().el},this);e.append(i)},handleAddPaymentMethod:function(t){t.preventDefault(),this.root.router.navigate("addPaymentMethod")}});e.exports=a},{"../../../templates/modal/list-payment-methods.hbs":205,"./base-modal-view":176,"./payment-method-item-view":179,_:160}],178:[function(t,e){"use strict";var n=t("backbone"),i=t("../../../templates/modal/modal.hbs"),r=n.View.extend({template:i,className:"modal",events:{"click .cancel-button":"handleCancelClick"},initialize:function(t){this.root=t.root,this.render()},render:function(){this.$el.html(this.template()),$(".modal-wrap").append(this.el),this.$modalBody=this.$el.find(".modal-container")},handleCancelClick:function(t){t.preventDefault(),this.root.close({isCancel:!0})}});e.exports=r},{"../../../templates/modal/modal.hbs":206,backbone:2}],179:[function(t,e){"use strict";var n=t("backbone"),i=t("../../util/dropin-util"),r=t("../../../templates/modal/payment-method-item.hbs"),o=n.View.extend({template:r,events:{click:"selectPaymentMethod"},initialize:function(t){this.root=t.root,this.rpcClient=t.root.rpcClient,this.render()},getViewModel:function(){var t=this.model.toJSON(),e=t.details&&t.details.email;return e&&(t.details.truncatedEmail=i.truncateEmail(e,i.getMaxCharLength(180))),t},render:function(){return this.$el.html(this.template(this.getViewModel())),this},selectPaymentMethod:function(){var t=this.model.toJSON();this.model.get("isLocked")?this.rpcClient.invoke("clearNonce"):this.rpcClient.invoke("sendUnlockedNonce",[t]),this.rpcClient.invoke("sendUsedPaymentMethod",[t]),this.root.close()}});e.exports=o},{"../../../templates/modal/payment-method-item.hbs":207,"../../util/dropin-util":187,backbone:2}],180:[function(t,e){"use strict";function n(){}n.prototype.set=function(t,e){document.cookie=t+"="+e+"; path=/; expires=Fri, 31 Dec 9999 23:59:59 GMT;"},n.prototype.get=function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},e.exports=n},{}],181:[function(t,e){(function(t){"use strict";function n(){r&&t.localStorage.removeItem(i)}var i="__hls__",r=function(){try{return t.localStorage.setItem(i,!0),!0}catch(e){return!1}}();n.prototype.set=function(e,n){r&&t.localStorage.setItem(e,n)},n.prototype.get=function(e){return r?t.localStorage.getItem(e):void 0},e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],182:[function(t,e){"use strict";function n(){var t;this.sharedCustomerIdentificationStore=new i,this._sharedCustomerIdentifier=null,t=this.sharedCustomerIdentificationStore.get(),t&&this._handleIdentifier(t)}var i=t("./shared-customer-identification-store");n.prototype._handleIdentifier=function(t){this.sharedCustomerIdentificationStore.set(t),this._sharedCustomerIdentifier=t},n.prototype.getIdentifier=function(){return this._sharedCustomerIdentifier},n.prototype.hasIdentifier=function(){return!!this.getIdentifier()},n.prototype.fetchIdentifier=function(t){var e,n=this;this.hasIdentifier()&&t(this._sharedCustomerIdentifier),e=this.sharedCustomerIdentificationStore.get(),e?(this._handleIdentifier(e),t(this._sharedCustomerIdentifier)):this.triggerPopup(function(){e=n.sharedCustomerIdentificationStore.get(),n._handleIdentifier(e),t(n._sharedCustomerIdentifier)})},n.prototype.triggerPopup=function(t){var e=this;window.open("/web/popup","braintree.dropinPopup");var n=setInterval(function(){var i=e.sharedCustomerIdentificationStore.get();i&&(e._handleIdentifier(i),t(),clearInterval(n))},100)},e.exports=n},{"./shared-customer-identification-store":183}],183:[function(t,e){"use strict";function n(){this.COOKIE_NAME="venmotouch",this.cookie=new i,this.localStorage=new r}var i=t("./cookie"),r=t("./local-storage");n.prototype.set=function(t){this.cookie.set(this.COOKIE_NAME,t),this.localStorage.set(this.COOKIE_NAME,t)},n.prototype.get=function(){return this.localStorage.get(this.COOKIE_NAME)||this.cookie.get(this.COOKIE_NAME)||null},e.exports=n},{"./cookie":180,"./local-storage":181}],184:[function(t,e){"use strict";var n=t("_"),i=t("hbsfy/runtime"),r=t("../templates/partials/coinbase-button.hbs"),o={ifEqual:function(t,e,n){return t===e?n.fn(this):n.inverse(this)},ifOr:function(t,e,n){return t||e?n.fn(this):void 0},ifContains:function(t,e,i){return n.contains(t,e)?i.fn(this):""}};n.each(o,function(t,e){i.registerHelper(e,t)}),i.registerPartial("coinbaseButton",r),e.exports=o},{"../templates/partials/coinbase-button.hbs":208,_:160,"hbsfy/runtime":158}],185:[function(t,e){"use strict";function n(t){var e,n;return t=t.replace(/\s+/g,""),t.match("/")?(t=t.split("/"),{month:t[0],year:t[1].substr(0,4)}):(n="0"===t[0]||t.length>5||4===t.length?2:1,e=t.substr(0,n),{month:e,year:t.substr(e.length,4)})}e.exports={parseDate:n}},{}],186:[function(t,e){(function(t){"use strict";function n(){return Modernizr.touch&&a.match(/Android/i)}function i(){var t=a.match(/Android\s([0-9\.]*)/i);return t&&t[1]?t[1]:void 0}function r(){return a.match("Firefox")}var o,a=t.navigator.userAgent,s="4.4";o={isTouch:Modernizr.touch,shouldAutoTab:function(){return n()&&!r()},shouldFormat:function(){return n()&&(r()||i()<s)?!1:!0}},e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],187:[function(t,e){"use strict";function n(t){var e,n=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];return t=t||$(window).width(),a.each(n,function(n){t>=n.min&&t<=n.max&&(e=n.chars)}),e||60}function i(t,e){var n,i;return-1===t.indexOf("@")?t:(t=t.split("@"),n=t[0],i=t[1],n.length>e&&(n=n.slice(0,e)+"..."),i.length>e&&(i="..."+i.slice(-e)),n+"@"+i)}function r(){var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};return t[Modernizr.prefixed("transition")]}function o(){var t={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",animation:"animationend"};return t[Modernizr.prefixed("animation")]}var a=t("_");!function(){for(var t,e,n=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[i[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[r]+"CancelAnimationFrame"]||window[i[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),r=window.setTimeout(function(){t(e+i)},i);return n=e+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),t=window.requestAnimationFrame,e=window.cancelAnimationFrame,window.requestAnimationFrame=function(e,n){return t(function(){e.call(n,null)})},window.cancelAnimationFrame=function(t,n){return e(function(){t.call(n,null)})}}(),e.exports={getMaxCharLength:n,getPrefixedAnimationEnd:o,getPrefixedTransitionEnd:r,truncateEmail:i}},{_:160}],188:[function(t,e){"use strict";function n(){this.resetPattern=function(){}}var i=t("formatter.js/dist/formatter.js"),r=t("./device");e.exports=r.shouldFormat()?i:n},{"./device":186,"formatter.js/dist/formatter.js":150}],189:[function(t,e){"use strict";var n=t("backbone"),i=t("../models/payment-method-model"),r=n.Collection.extend({model:i,initialize:function(){this.on("add",function(t){this.setActiveModel(t.toJSON())},this),this.once("reset",this.bootstrap)},bootstrap:function(){var t=this.findWhere({lastUsedByCurrentMerchant:!0})||this.at(0);this.setActiveModel(t.toJSON())},setActiveModel:function(t){var e=t?t.nonce:this.at(0).get("nonce");this.each(function(t){t.set("isActive",t.get("nonce")===e)}),this.trigger("change:activeModel",this.findWhere({isActive:!0}))},getActiveModel:function(){return this.findWhere({isActive:!0})||this.at(0)},getActiveModelAttr:function(t){return this.getActiveModel().get(t)}});e.exports=r},{"../models/payment-method-model":191,backbone:2}],190:[function(t,e){"use strict";var n=t("_"),i=t("backbone"),r=t("../../internal/util/date-manager"),o=t("../../internal/util/device").shouldFormat(),a={pattern:"{{9999}} {{999999}} {{99999}}",maxLength:17},s={pattern:"{{9999}} {{9999}} {{9999}} {{9999}}",maxLength:19},u=i.Model.extend({defaults:{cardType:"",cardClass:"",cardNumber:"",cardNumberMaxLength:19,cardPattern:s.pattern,challenges:["cvv"],cvv:"",cvvAndZip:!1,cvvOnly:!1,cvvPatterns:{nonAmex:{attrs:{maxlength:"3",placeholder:"CVV"},pattern:"{{999}}",id:"cvv-icon",labelText:"CVV (3 digits)"},amex:{attrs:{maxlength:"4",placeholder:"CID"},pattern:"{{9999}}",id:"cid-icon",labelText:"CID (4 digits)"}},expirationDate:"",expirationDateMaxLengths:o?[7,8,9]:[4,5,6],expirationPatterns:[{"^[2-9]/?":"0{{9}} / {{9999}}"},{"*":"{{99}} / {{9999}}"}],postalCode:"",postalCodeMaxLength:8,postalCodePattern:{pattern:"{{********}}"},share:!1,crossMerchantSharing:!1,zipOnly:!1},initialize:function(){this.on("change:cardType",this.setFormatForCardType)},setFormatForCardType:function(){var t=this.get("cardType").isAmex?a:s;this.set({cardPattern:t.pattern,cardNumberMaxLength:t.maxLength})},splitExpirationDate:function(){var t=this.get("expirationDate").replace(/\s+|\//g,""),e=r.parseDate(t);this.set({expirationMonth:e.month,expirationYear:e.year})},getCardParams:function(){var t;return this.splitExpirationDate(),t={number:this.get("cardNumber"),expirationMonth:this.get("expirationMonth"),expirationYear:this.get("expirationYear"),cvv:this.get("cvv"),share:this.get("share")},n.contains(this.get("challenges"),"postal_code")&&(t.billingAddress={postalCode:this.get("postalCode")}),t},isEmpty:function(t){return t=t||["cardNumber","expirationDate","cvv","postalCode"],n.map(t,function(t){return this.get(t)},this).reduce(function(t,e){return t+e}).length<1}});e.exports=u},{"../../internal/util/date-manager":185,"../../internal/util/device":186,_:160,backbone:2}],191:[function(t,e){"use strict";var n=t("backbone"),i=t("../../internal/form/credit-card-type-identification-service"),r=n.Model.extend({initialize:function(){this.setClass()},setClass:function(){if("CreditCard"===this.get("type")){var t=this.get("details").cardType,e=i.identifyByCardType(t);this.set("cardTypeClass",e.getCssClass())}else"CoinbaseAccount"===this.get("type")?(this.set("cardTypeClass","coinbase"),this.set("label","Coinbase")):(this.set("cardTypeClass","paypal"),this.set("label","PayPal"),this.normalizePayPalModel())},normalizePayPalModel:function(){this.set("type","PayPalAccount"),this.get("details")||(this.set("details",{email:this.get("email")}),this.unset("email"))}});e.exports=r},{"../../internal/form/credit-card-type-identification-service":163,backbone:2}],192:[function(t,e){"use strict";function n(t){var e=t.clientToken,n=t.paypal||{},r=new i(e,{container:document.createElement("div"),displayName:n.displayName,locale:n.locale,singleUse:n.singleUse,amount:n.amount,currency:n.currency,onSuccess:n.onSuccess,enableShippingAddress:n.enableShippingAddress,shippingAddressOverride:n.shippingAddressOverride});return r.initialize(),r}var i=t("braintree-paypal/src/external/client");e.exports=n},{"braintree-paypal/src/external/client":121}],193:[function(t,e){"use strict";var n=t("backbone");n.$=window.$;var i=n.Router.extend({views:{},navigate:function(t,e){e&&e.silent?this.currentView=t:n.history.loadUrl(t)},setCurrentView:function(t,e){this.currentView&&this.views[this.currentView].destroy(),this.currentView=t,this.views[this.currentView].render(e)}});e.exports=i},{backbone:2}],194:[function(t,e){"use strict";function n(t){return o.debounce(function(){t.HAS_TRANSITIONS?t.$el.addClass(u):t.$el.find(c).animate({top:14,opacity:1},140)},p,!0)}function i(t){return o.debounce(function(e){t.HAS_TRANSITIONS?t.$el.removeClass(u):t.$el.find(c).animate({top:20,opacity:0},e||0)},p,!0)}var r=t("backbone"),o=t("_"),a=t("../../internal/util/device"),s="active",u="show-label",l="invalid",c=".field-name",p=200,h=r.View.extend({isActive:!1,constructor:function(){this.showLabelSpan=n(this),this.hideLabelSpan=i(this),r.View.apply(this,arguments)},events:{"focus input":"handleFocus","blur input":"handleBlur"},postInitialize:function(t){this.$input=this.$input||$(this.input),this.HAS_TRANSITIONS=Modernizr.csstransitions,this.HAS_PLACEHOLDERS=this.$input.length&&Modernizr.placeholder,this.HAS_PLACEHOLDERS||this.$input.val(this.$input.attr("placeholder")),this.HAS_TRANSITIONS||this.hideLabelSpan(),this.fieldIndex=o.isObject(t)&&o.has(t,"fieldIndex")?t.fieldIndex:999},toggleActive:function(){this.isActive=!this.isActive,this.$el.toggleClass(s,this.isActive)},handleFocus:function(){this.HAS_PLACEHOLDERS||this.$input.val()===this.$input.attr("placeholder")&&(this.$input.val(""),this.showLabelSpan()),this.$el.addClass(s)},autoFocus:function(t){var e=t&&t.force?t.force:!a.isTouch;e&&this.$input.focus()},handleBlur:function(){this.$input.val().length||(this.hideLabelSpan(),this.HAS_PLACEHOLDERS||this.$input.val(this.$input.attr("placeholder"))),this.$el.removeClass(s)},toggleLabelSpan:function(t){t.length||!this.HAS_PLACEHOLDERS?this.showLabelSpan():this.hideLabelSpan()},isValid:function(t){var e=this.validator?this.validator.isValid(t):!0;return e||this.renderInvalidState(),e},renderInvalidState:function(){this.$el.addClass(l)},renderValidState:function(){this.$el.removeClass(l)},autoAdvanceTab:function(){a.shouldAutoTab()&&r.trigger("ui:autoTab",{fieldIndex:this.fieldIndex})},inputIsComplete:function(t){return function(e){return e=t||e,parseInt(e,10)===this.$input.val().length}},destroy:function(){this.remove()}});e.exports=h},{"../../internal/util/device":186,_:160,backbone:2}],195:[function(t,e){"use strict";var n=t("backbone"),i=t("_"),r="ui-disabled",o=$("body"),a=n.View.extend({el:".cancel-popup",events:{"click .cancel-popup-button":"handleCancelClick"},initialize:function(){this.setEvents()},setEvents:function(){this.listenTo(n,"ui:openPopup",this.handleOpenPopup)},handleOpenPopup:function(t){this.popupWindow=t,this.disableUI(),this.pollForPopup()},enableUI:function(){o.removeClass(r)},disableUI:function(){o.addClass(r)},handleCancelClick:function(){this.destroyPopup()},destroyPopup:function(){this.popupWindow.closed||this.popupWindow.close(),this.enableUI()},pollForPopup:function(){var t=setInterval(i.bind(function(){this.popupWindow&&this.popupWindow.closed&&(clearInterval(t),this.destroyPopup())},this),100)}});e.exports=a},{_:160,backbone:2}],196:[function(t,e){"use strict";var n=t("_"),i=t("../../internal/util/formatter-factory"),r=t("./base-input-view"),o=t("../../internal/form/validator").CreditCardNumberValidator,a=t("../../internal/form/input"),s=t("../../internal/form/credit-card-type-identification-service"),u=r.extend({config:{errorMessage:"Invalid Credit Card Number!",validatorRules:[o]},events:function(){return n.chain(r.prototype.events).clone().extend({"keyup input":"formatInput","keydown input":"handleKeydown","keypress input":"noop","paste input":"formatInput"}).value()},initialize:function(t){this.setElements(),this.setEvents(),this.isComplete=r.prototype.inputIsComplete.call(this),this.postInitialize(t)},setElements:function(){this.input=this.$el.find("input").get(0),this.$cardHint=this.$el.find(".payment-method-icon"),this.validator=new a(this.input,this.config.validatorRules),this.inputFormatter=new i(this.input,{pattern:this.model.get("cardPattern")})},setEvents:function(){this.listenTo(this.model,"change:cardType",this.updateCreditCardType),this.listenTo(this.model,"change:cardPattern",this.setCreditCardNumberFormatterPattern)},formatInput:function(t){var e=t.target.value;this.toggleLabelSpan(e),this.model.set({cardType:s.identify(e),cardNumber:e}),this.isComplete(this.model.get("cardNumberMaxLength"))&&this.isValid()&&this.autoAdvanceTab()},handleKeydown:function(){this.isComplete(this.model.get("cardNumberMaxLength"))||this.renderValidState()},updateCreditCardType:function(){var t=this.model.get("cardType").getCssClass(),e=this.model.get("cardClass");this.model.set("cardClass",t),this.$cardHint.removeClass(e).addClass(t)},setCreditCardNumberFormatterPattern:function(){var t=this.model.get("cardPattern");this.inputFormatter.resetPattern(t)}});e.exports=u},{"../../internal/form/credit-card-type-identification-service":163,"../../internal/form/input":165,"../../internal/form/validator":166,"../../internal/util/formatter-factory":188,"./base-input-view":194,_:160}],197:[function(t,e){"use strict";var n=t("_"),i=t("../../internal/util/formatter-factory"),r=t("./base-input-view"),o=t("../../internal/form/validator").CvvValidator,a=t("../../internal/form/input"),s=r.extend({config:{errorMessage:"Invalid CVV!",validatorRules:[o]},events:function(){return n.chain(r.prototype.events).clone().extend({"keyup input":"formatInput","keydown input":"handleKeydown","focus input":"handleInstanceFocus","blur input":"handleInstanceBlur","paste input":"formatInput"}).value()},initialize:function(t){this.setElements(),this.setEvents(),this.updateCvvForCardType(),this.isComplete=r.prototype.inputIsComplete.call(this),this.postInitialize(t)},setElements:function(){this.$input=this.$el.find("input"),this.input=this.$input.get(0),this.label=this.$el.find(".field-name").get(0),this.cardHint=this.$el.find(".payment-method-icon").get(0),this.validator=new a(this.input,this.config.validatorRules),this.inputFormatter=new i(this.input,this.model.get("cvvPatterns").nonAmex)},setEvents:function(){this.listenTo(this.model,"change:cardType",this.updateCvvForCardType)},updateCvvForCardType:function(){var t=this.model.get("cvvPatterns");this.formatData=this.model.get("cardType").isAmex?t.amex:t.nonAmex,this.inputFormatter.resetPattern(this.formatData.pattern),this.updateCardHint(),this.label.innerHTML=this.formatData.labelText,this.$input.attr(this.formatData.attrs),this.$input.length&&!Modernizr.placeholder&&(this.$input.val().length||this.$input.val(this.$input.attr("placeholder")))},formatInput:function(t){var e=t.target.value;this.toggleLabelSpan(e),this.model.set("cvv",e),this.isComplete(this.formatData.attrs.maxlength)&&this.isValid()&&this.autoAdvanceTab()},handleKeydown:function(){this.renderValidState()},updateCardHint:function(t){this.cardHint.id=t},handleInstanceFocus:function(){this.updateCardHint(this.formatData.id),r.prototype.handleFocus.apply(this,arguments)},handleInstanceBlur:function(){this.updateCardHint(),r.prototype.handleBlur.apply(this,arguments)}});e.exports=s},{"../../internal/form/input":165,"../../internal/form/validator":166,"../../internal/util/formatter-factory":188,"./base-input-view":194,_:160}],198:[function(t,e){"use strict";var n=t("_"),i=t("../../internal/util/formatter-factory"),r=t("./base-input-view"),o=t("../../internal/form/validator").ExpirationDateValidator,a=t("../../internal/form/input"),s=r.extend({isActive:!1,config:{errorMessage:"Invalid expiration date!",validatorRules:[o]},events:function(){return n.chain(r.prototype.events).clone().extend({"keyup input":"formatInput","keydown input":"handleKeydown","paste input":"formatInput"}).value()},initialize:function(t){this.setElements(),this.postInitialize(t)},setElements:function(){this.input=this.$el.find("input").get(0),this.validator=new a(this.input,this.config.validatorRules),this.inputFormatter=new i(this.input,{patterns:this.model.get("expirationPatterns")})},formatInput:function(t){var e=t.target.value,n=this.isComplete(e);this.toggleLabelSpan(e),this.model.set("expirationDate",e),n.shouldValidate&&this.isValid({partial:!0})&&(this.renderValidState(),n.shouldAdvance&&this.autoAdvanceTab())},handleKeydown:function(t){this.isComplete(t.target.value)||this.renderValidState()},isComplete:function(t){var e=this.model.get("expirationDateMaxLengths"),i=t.length;return{shouldValidate:i>=e[0],shouldAdvance:!/20/.test(t)||i===n.last(e)}}});e.exports=s},{"../../internal/form/input":165,"../../internal/form/validator":166,"../../internal/util/formatter-factory":188,"./base-input-view":194,_:160}],199:[function(t,e){"use strict";var n=t("_"),i=t("backbone"),r=t("./credit-card-input-view"),o=t("./expiration-input-view"),a=t("./cvv-input-view"),s=t("./postal-code-input-view"),u=t("./save-checkbox-view"),l=t("../models/form-card-model"),c=t("../../internal/util/device"),p=t("../../templates/shared/add-payment-method-form.hbs"),h="hidden",d="is-loading",f="show-server-error",m=$("body"),v=i.View.extend({className:"add-payment-method-form-view",template:p,fields:{creditCard:{container:".credit-card-number-label",constructor:r},expiration:{container:".expiration-label",constructor:o},cvv:{challenge:"cvv",container:".cvv-label",constructor:a},postalCode:{challenge:"postal_code",container:".postal-code-label",constructor:s},saveCheckbox:{container:".checkbox-label",constructor:u}},events:{submit:"submit","click .error-retry":"handleRetry"},initialize:function(t){this.root=t.root,this.model=t.model||new l,this.setSubmitButtonState=t.setSubmitButtonState||void 0,this.isModal=t.isModal||!1,c.isTouch&&this.listenTo(i,"ui:autoTab",this.handleAutoTab)},render:function(){var t,e={isModal:this.isModal};return this.root.clientToken&&this.root.clientToken.challenges&&this.model.set("challenges",this.root.clientToken.challenges),this.root.clientToken&&this.root.clientToken.crossMerchantSharing&&this.model.set("crossMerchantSharing",this.root.clientToken.crossMerchantSharing),t=this.model.get("challenges"),this.model.set("cvvOnly",n.contains(t,"cvv")&&1===t.length),this.model.set("zipOnly",n.contains(t,"postal_code")&&1===t.length),this.model.set("cvvAndZip",n.contains(t,"postal_code")&&n.contains(t,"cvv")),this.$el.html(this.template(n.extend(e,this.model.toJSON()))),this.setupFields(),this},setupFields:function(){var t=this.model.get("challenges"),e=0;this.fieldViews=[],n.each(this.fields,function(i,r){var o;(!i.challenge||n.contains(t,i.challenge))&&("saveCheckbox"!==r||this.model.get("crossMerchantSharing"))&&(o=new i.constructor({el:this.$el.find(i.container),model:this.model,fieldIndex:e}),this.fieldViews.push(o),e++)},this)},submit:function(){var t=n.chain(this.fieldViews).filter(function(t){return!t.isValid()}).value();return t.length>0?n.first(t).autoFocus():this.savePaymentMethod(),!1},savePaymentMethod:function(){var t=this.model.getCardParams();m.addClass(d),requestAnimationFrame(function(){this.root.apiProxyClient.sendAnalyticsEvents(this.isModal?"dropin.web.modal.add-card.start":"dropin.web.inline.add-card.start"),this.root.apiClient.addCreditCard(t,n.bind(this.handlePaymentMethodAdd,this))},this)},handlePaymentMethodAdd:function(t,e){var i=this;t?this.isModal?(this.root.apiProxyClient.sendAnalyticsEvents("dropin.web.modal.add-card.fail"),this.renderErrorStateFromServer()):(this.root.apiProxyClient.sendAnalyticsEvents("dropin.web.inline.add-card.fail"),this.renderErrorStateFromServer()):this.isModal?setTimeout(n.bind(function(){m.removeClass(d),requestAnimationFrame(function(){this.root.apiProxyClient.sendAnalyticsEvents("dropin.web.modal.add-card.success",function(){i.root.rpcClient.invoke("sendAddedPaymentMethod",[e]),i.root.close()})},this)},this),300):this.root.apiProxyClient.sendAnalyticsEvents("dropin.web.inline.add-card.success",function(){i.successCallback(e)})},renderErrorStateFromServer:function(){this.$el.blur(),m.removeClass(d),requestAnimationFrame(function(){this.setSubmitButtonState&&this.setSubmitButtonState({disabled:!0}),m.addClass(f)},this)},handleRetry:function(t){t.preventDefault(),m.removeClass(f),this.setSubmitButtonState&&this.setSubmitButtonState({disabled:!1})},setFocusOnFirstInput:function(){this.fieldViews[0].autoFocus()},handleAutoTab:function(t){var e=t.fieldIndex,n=e>this.fieldViews.length-2;n||this.fieldViews[t.fieldIndex+1].autoFocus({force:!0})},hide:function(){this.$el.addClass(h)},show:function(){this.$el.removeClass(h)},destroy:function(){this.$el.empty()}});e.exports=v},{"../../internal/util/device":186,"../../templates/shared/add-payment-method-form.hbs":209,"../models/form-card-model":190,"./credit-card-input-view":196,"./cvv-input-view":197,"./expiration-input-view":198,"./postal-code-input-view":200,"./save-checkbox-view":201,_:160,backbone:2}],200:[function(t,e){"use strict";var n=t("_"),i=t("../../internal/util/formatter-factory"),r=t("./base-input-view"),o=t("../../internal/form/validator").PostalCodeValidator,a=t("../../internal/form/input"),s=r.extend({config:{errorMessage:"Invalid Postal Code",validatorRules:[o]},events:function(){return n.chain(r.prototype.events).clone().extend({"keyup input":"formatInput","keydown input":"handleKeydown","paste input":"formatInput"}).value()},initialize:function(t){this.setElements(),this.setEvents(),this.isComplete=r.prototype.inputIsComplete.call(this,this.model.get("postalCodeMaxLength")),this.postInitialize(t)},setElements:function(){this.input=this.$el.find("input").get(0),this.validator=new a(this.input,this.config.validatorRules),this.inputFormatter=new i(this.input,this.model.get("postalCodePattern"))},setEvents:function(){this.listenTo(this.model,"change:cardType",this.updatePostalCodeForCardType)},formatInput:function(t){var e=t.target.value;this.toggleLabelSpan(e),this.model.set("postalCode",e),this.isComplete()&&this.autoAdvanceTab()},handleKeydown:function(){this.renderValidState()}});e.exports=s},{"../../internal/form/input":165,"../../internal/form/validator":166,"../../internal/util/formatter-factory":188,"./base-input-view":194,_:160}],201:[function(t,e){"use strict";var n=t("./base-input-view"),i=n.extend({events:{'change [name="save"]':"setSave"},initialize:function(){this.setElements(),this.isValid=!0,this.setSave()},setElements:function(){this.$checkbox=this.$el.find('[name="save"]')},setSave:function(){this.model.set("share",this.$checkbox.prop("checked"))}});e.exports=i},{"./base-input-view":194}],202:[function(t,e){var n=t("hbsfy/runtime");e.exports=n.template({1:function(){return'    <button class="paypal is-active" title="Pay with PayPal"><span class="paypal-button-logo"></span></button>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o='<div class="payment-container">\n  <div class="payment-method-options">\n';return r=e["if"].call(t,null!=t?t.paypalEnabled:t,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(o+=r),r=this.invokePartial(n.coinbaseButton,"  ","coinbaseButton",t,void 0,e,n,i),null!=r&&(o+=r),o+'  </div>\n  <div class="form-container"></div>\n\n</div>\n'},usePartial:!0,useData:!0})},{"hbsfy/runtime":158}],203:[function(t,e){var n=t("hbsfy/runtime");e.exports=n.template({1:function(t){var e,n=this.lambda,i=this.escapeExpression;return'  <span class="payment-method-type">'+i(n(null!=(e=null!=(e=null!=t?t.paymentMethod:t)?e.details:e)?e.cardType:e,t))+'</span>\n  <span class="payment-method-description">ending in '+i(n(null!=(e=null!=(e=null!=t?t.paymentMethod:t)?e.details:e)?e.lastTwo:e,t))+"</span>\n"},3:function(t){var e,n=this.lambda,i=this.escapeExpression;return'  <span class="payment-method-type">'+i(n(null!=(e=null!=t?t.paymentMethod:t)?e.label:e,t))+'</span>\n  <span class="payment-method-description">'+i(n(null!=(e=null!=(e=null!=t?t.paymentMethod:t)?e.details:e)?e.truncatedEmail:e,t))+"</span>\n"},5:function(t,e,n,i){var r,o=e.helperMissing,a='<div>\n  <form>\n    <div class="grid">\n      <div class="row">\n        <div class="column ';return r=(e.ifContains||t&&t.ifContains||o).call(t,null!=(r=null!=t?t.paymentMethod:t)?r.securityQuestions:r,"postal_code",{name:"ifContains",hash:{},fn:this.program(6,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a+='">\n          <label class="card-label cvv-label" for="cvv">\n            <span class="field-name">CVV</span>\n            <input id="cvv" name="cvv" class="cvv card-field" maxlength="3" type="tel" inputmode="numeric" placeholder="CVV" autocomplete="off">\n            <span class="payment-method-icon"></span>\n          </label>\n        </div>\n\n',r=(e.ifContains||t&&t.ifContains||o).call(t,null!=(r=null!=t?t.paymentMethod:t)?r.securityQuestions:r,"postal_code",{name:"ifContains",hash:{},fn:this.program(8,i),inverse:this.noop,data:i}),null!=r&&(a+=r),a+"      </div>\n    </div>\n  </form>\n</div>\n"},6:function(){return"half"},8:function(){return'        <div class="column half">\n          <label class="card-label postal-code-label" for="postal-code">\n            <span class="field-name">Postal Code</span>\n            <input id="postal-code" name="postal-code" class="postal-code card-field" autocomplete="off" maxlength="8" placeholder="Postal Code" autofill="off" autocomplete="off">\n          </label>\n        </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=this.lambda,a=this.escapeExpression,s=e.helperMissing,u='<div class="payment-method-item card-label">\n  <span class="payment-method-icon stick-left '+a(o(null!=(r=null!=t?t.paymentMethod:t)?r.cardTypeClass:r,t))+'"></span>\n';return r=(e.ifEqual||t&&t.ifEqual||s).call(t,null!=(r=null!=t?t.paymentMethod:t)?r.type:r,"CreditCard",{name:"ifEqual",hash:{},fn:this.program(1,i),inverse:this.program(3,i),data:i}),null!=r&&(u+=r),u+='</div>\n<div class="payment-method-action">\n  <button class="link link-small" id="choose-payment-method">Change payment method</button>\n</div>\n\n',r=e["if"].call(t,null!=(r=null!=t?t.paymentMethod:t)?r.isLocked:r,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(u+=r),u},useData:!0})},{"hbsfy/runtime":158}],204:[function(t,e){var n=t("hbsfy/runtime");e.exports=n.template({1:function(){return'    <button class="paypal is-active" title="Pay with PayPal"><span class="paypal-button-logo"></span></button>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,a,s="function",u=e.helperMissing,l=e.blockHelperMissing,c='<div class="modal-header">\n  <h3>Add new payment method</h3>\n</div>\n<div class="modal-body-content">\n  <div class="payment-method-options">\n';return o=null!=(o=e.paypalEnabled||(null!=t?t.paypalEnabled:t))?o:u,a={name:"paypalEnabled",hash:{},fn:this.program(1,i),inverse:this.noop,data:i},r=typeof o===s?o.call(t,a):o,e.paypalEnabled||(r=l.call(t,r,a)),null!=r&&(c+=r),r=this.invokePartial(n.coinbaseButton,"  ","coinbaseButton",t,void 0,e,n,i),null!=r&&(c+=r),c+'  </div>\n  <div class="form-container"></div>\n</div>\n<div class="modal-footer">\n  <button class="payment-method-add" disabled>Add new payment method</button>\n  <div class="use-saved-payment-method">\n    <button class="link use-saved-payment-method-link">Use saved payment method</button>\n  </div>\n  <div class="cancel">\n    <a href="#" class="cancel-button">Cancel</a>\n  </div>\n</div>\n'},usePartial:!0,useData:!0})},{"hbsfy/runtime":158}],205:[function(t,e){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="modal-header">\n  <h3>Select payment method</h3>\n</div>\n<div class="modal-body-content">\n  <div class="payment-methods-list"></div>\n  <div class="add-payment-method-item">\n    <span class="add-payment-method-link">Add Payment Method</span>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="cancel">\n    <a href="#" class="cancel-button">Cancel</a>\n  </div>\n</div>\n'},useData:!0})},{"hbsfy/runtime":158}],206:[function(t,e){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="modal-body">\n\n  <div class="modal-container"></div>\n\n  <div class="loader">\n    <div class="loader-background"></div>\n    <div class="indicator">\n      <svg id="loader-svg-icon" width="14px" height="16px" viewBox="0 0 28 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n        <g id="New-Customer" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n          <g id="Loading" sketch:type="MSArtboardGroup" transform="translate(-526.000000, -915.000000)" fill="#FFFFFF">\n            <g id="Loading-Indicator" sketch:type="MSLayerGroup" transform="translate(468.000000, 862.000000)">\n              <g id="Secure" transform="translate(58.000000, 53.000000)" sketch:type="MSShapeGroup">\n                <path d="M6,10 L6,7.9998866 C6,3.57774184 9.581722,0 14,0 C18.4092877,0 22,3.58167123 22,7.9998866 L22,10 L18,10 L18,7.9947834 C18,5.78852545 16.2046438,4 14,4 C11.790861,4 10,5.79171562 10,7.9947834 L10,10 L6,10 Z M0.996534824,14 C0.446163838,14 0,14.4449463 0,14.9933977 L0,31.0066023 C0,31.5552407 0.439813137,32 0.996534824,32 L27.0034652,32 C27.5538362,32 28,31.5550537 28,31.0066023 L28,14.9933977 C28,14.4447593 27.5601869,14 27.0034652,14 L0.996534824,14 Z" id="Rectangle-520"></path>\n              </g>\n            </g>\n          </g>\n        </g>\n      </svg>\n    </div>\n    <div class="loader-message">Authenticating...</div>\n  </div>\n\n  <div class="cancel-popup">\n    <button class="cancel-popup-button">Cancel PayPal Login</button>\n  </div>\n</div>\n'
},useData:!0})},{"hbsfy/runtime":158}],207:[function(t,e){var n=t("hbsfy/runtime");e.exports=n.template({1:function(t){var e,n=this.lambda,i=this.escapeExpression;return'  <span class="payment-method-type">'+i(n(null!=(e=null!=t?t.details:t)?e.cardType:e,t))+'</span>\n  <span class="payment-method-description">ending in '+i(n(null!=(e=null!=t?t.details:t)?e.lastTwo:e,t))+"</span>\n"},3:function(t,e,n,i){var r,o,a="function",s=e.helperMissing,u=this.escapeExpression,l=this.lambda;return'  <span class="payment-method-type">'+u((o=null!=(o=e.label||(null!=t?t.label:t))?o:s,typeof o===a?o.call(t,{name:"label",hash:{},data:i}):o))+'</span>\n  <span class="payment-method-description">'+u(l(null!=(r=null!=t?t.details:t)?r.truncatedEmail:r,t))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,a="function",s=e.helperMissing,u=this.escapeExpression,l='<div class="payment-method-item card-label">\n  <span class="payment-method-icon stick-left '+u((o=null!=(o=e.cardTypeClass||(null!=t?t.cardTypeClass:t))?o:s,typeof o===a?o.call(t,{name:"cardTypeClass",hash:{},data:i}):o))+'"></span>\n';return r=(e.ifEqual||t&&t.ifEqual||s).call(t,null!=t?t.type:t,"CreditCard",{name:"ifEqual",hash:{},fn:this.program(1,i),inverse:this.program(3,i),data:i}),null!=r&&(l+=r),l+"</div>\n"},useData:!0})},{"hbsfy/runtime":158}],208:[function(t,e){var n=t("hbsfy/runtime");e.exports=n.template({1:function(){return'  <button id="coinbase-container">\n    <span class="coinbase-button-logo">Coinbase</span>\n  </button>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o="";return r=e["if"].call(t,null!=t?t.coinbaseEnabled:t,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(o+=r),o},useData:!0})},{"hbsfy/runtime":158}],209:[function(t,e){var n=t("hbsfy/runtime");e.exports=n.template({1:function(){return"half"},3:function(){return"right-border"},5:function(){return'    <div class="column half">\n      <label class="card-label cvv-label" for="cvv">\n        <span class="field-name">CVV</span>\n        <input id="cvv" name="cvv" class="cvv card-field" maxlength="3" type="tel" inputmode="numeric" placeholder="CVV" autocomplete="off" autocapitalize="off">\n        <span class="payment-method-icon"></span>\n        <div class="invalid-bottom-bar"></div>\n      </label>\n    </div>\n'},7:function(){return'    <div class="column half">\n      <label class="card-label postal-code-label" for="postal-code">\n        <span class="field-name">Postal Code</span>\n        <input id="postal-code" name="postal-code" class="postal-code card-field" autocomplete="off" maxlength="8" placeholder="Postal Code" autofill="off" autocapitalize="off">\n        <div class="invalid-bottom-bar"></div>\n      </label>\n    </div>\n'},9:function(){return'  <div class="row">\n    <div class="column">\n      <label class="card-label postal-code-label" for="postal-code">\n        <span class="field-name">Postal Code</span>\n        <input id="postal-code" name="postal-code" class="postal-code card-field" autocomplete="off" maxlength="8" placeholder="Postal Code" autofill="off" autocapitalize="off">\n        <div class="invalid-bottom-bar"></div>\n      </label>\n    </div>\n  </div>\n'},11:function(){return'  <label class="checkbox-label">\n    <input name="save" type="checkbox" class="checkbox-save" value="save" checked="checked" />\n    <div class="checkbox-text">\n      Save with Paypal for use on other sites\n    </div>\n    <p class="terms">By saving information you agree to the <a href="#">Paypal Touch</a> <a href="#">Terms of Service</a></p>\n  </label>\n'},13:function(){return'  <input type="submit" value="">\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o,a,s=e.helperMissing,u="function",l=e.blockHelperMissing,c='<form action="#" method="post" class="grid card-form">\n  <label class="card-label credit-card-number-label" for="credit-card-number">\n    <span class="field-name">Card Number</span>\n    <input id="credit-card-number" name="credit-card-number" class="card-field" type="tel" inputmode="numeric" placeholder="Card Number" autocomplete="off">\n    <span class="payment-method-icon"></span>\n    <div class="invalid-bottom-bar"></div>\n  </label>\n\n  <div class="row">\n    <div class="column ';return r=e["if"].call(t,null!=t?t.challenges:t,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=r&&(c+=r),c+='">\n      <label class="card-label expiration-label ',r=e["if"].call(t,null!=t?t.challenges:t,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=r&&(c+=r),c+='" for="expiration">\n        <span class="field-name">MM / YY</span>\n        <input id="expiration" name="expiration" class="expiration card-field" type="tel" inputmode="numeric" placeholder="Expiration Date" autocomplete="off">\n        <div class="invalid-bottom-bar"></div>\n      </label>\n    </div>\n',r=(e.ifOr||t&&t.ifOr||s).call(t,null!=t?t.cvvOnly:t,null!=t?t.cvvAndZip:t,{name:"ifOr",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=r&&(c+=r),r=e["if"].call(t,null!=t?t.zipOnly:t,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=r&&(c+=r),c+="  </div>\n\n",o=null!=(o=e.cvvAndZip||(null!=t?t.cvvAndZip:t))?o:s,a={name:"cvvAndZip",hash:{},fn:this.program(9,i),inverse:this.noop,data:i},r=typeof o===u?o.call(t,a):o,e.cvvAndZip||(r=l.call(t,r,a)),null!=r&&(c+=r),c+="\n",o=null!=(o=e.crossMerchantSharing||(null!=t?t.crossMerchantSharing:t))?o:s,a={name:"crossMerchantSharing",hash:{},fn:this.program(11,i),inverse:this.noop,data:i},r=typeof o===u?o.call(t,a):o,e.crossMerchantSharing||(r=l.call(t,r,a)),null!=r&&(c+=r),c+="\n",o=null!=(o=e.isModal||(null!=t?t.isModal:t))?o:s,a={name:"isModal",hash:{},fn:this.program(13,i),inverse:this.noop,data:i},r=typeof o===u?o.call(t,a):o,e.isModal||(r=l.call(t,r,a)),null!=r&&(c+=r),c+'</form>\n\n<div class="server-error">\n  <div class="server-error-message-container">\n    <div class="server-error-message">\n      <span class="error-icon"></span>There was an error processing your request. <a href="#" class="error-retry">Try again</a>\n    </div>\n  </div>\n</div>\n'},useData:!0})},{"hbsfy/runtime":158}]},{},[1])(1)});